<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Aloha Editor UI Guide</title>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible' content='IE=edge'>
		<meta name='viewport' content='width=device-width, initial-scale=1'>
		<meta name='og:description' content='A simple step by step guide to intergrating Aloha Editor into your application'>
		<meta name='og:image' content='http://aloha-editor.org/Content.Node/img/froggy.png'>
		<meta name='author' content=''>
		<link rel="icon" type="image/png" href="favicon.png">
		<link href='http://fonts.googleapis.com/css?family=Droid+Serif:400|Roboto:300,400,700' rel='stylesheet' type='text/css'>
		<link href='codemirror-4.2/lib/codemirror.css' rel='stylesheet' type='text/css'>
		<link href='followthefrog.css' rel='stylesheet' type='text/css'>
	</head>

	<body>

		<div class="★">
			<header class="title"><div>
				<div class="editable">
					<h1>Aloha Editor UI Guide</h1>
					<h2>
						<span>Keep calm and follow the frog</span>
						<!-- img src="http://aloha-editor.org/Content.Node/img/froggy.png"
							alt="#followTheFrog" title="#followTheFrog" / -->
					</h2>
				</div>
				<h3><a href="#include-and-invoke-aloha"><span>Leap 1:</span> Include &amp; Invoke Aloha</a></h3>
				<h3><a href="#add-and-bind-a-button"><span>Leap 2:</span> Add &amp; Bind a Button</a></h3>
				<h3><a href="#add-more-buttons"><span>Leap 3:</span> Add More Buttons</a></h3>
				<h3><a href="#per-editable-binding"><span>Leap 4:</span> Per-editable Binding</a></h3>
			</div></header>

			<article>

				<header id="include-and-invoke-aloha"><div>
					<img src="http://aloha-editor.org/Content.Node/img/froggy.png"
						alt="#followTheFrog" title="#followTheFrog"
						style="display: block; height: 90px; margin: 0 auto 90px;" />
					<h2><span>Leap 1:</span> Include &amp; Invoke Aloha</h2>
				</div></header>

				<section>
					<p>
						To replace ContentEditable with Aloha Editor is as simple as
						1 line of markup and 1 line of JavaScript:
					</p>

					<div class="snippet" data-syntax='text/html'>
						&lt;script src="http://aloha-editor.org/download/aloha.min.js"&gt;&lt;/script&gt;
					</div>
					<div class="snippet">aloha(document.querySelector('#editable'))</div>

					<p>
						You can initialize multiple editables at once with this
						simply trick:
					</p>

					<div class="snippet">aloha.dom.query('.editable', document).forEach(aloha)</div>

					<p>
						<a href="http://alohaeditor.org/api/aloha.html#aloha"><code>aloha()</code></a>
						will transform the given element into an HTML editing canvas
						in which you can start typing and using keyboard commands to
						format content bold, italic, etc.
					</p>

					<p>
						To deactivate editing, simply invoke
						<a href="http://alohaeditor.org/api/aloha.html#mahalo"><code>aloha.mahalo()</code></a>
						on the DOM element that was made editable through
						<code>aloha()</code>.
					</p>

					<p>
						When you invoke <code>aloha()</code> on an element
						<span id="caret-tease" class="editable"> you will
						see that Aloha Editor uses a blinking DIV element as the
						caret</span>.  This caret is the minimal visual user interface
						(<a href="#caretStylingFiddle">which you can style with CSS, by the way</a>).
						But sooner or later you'll probably need more than just
						a caret, so the next section will cover how you can add
						a simple bold button.
					</p>
				</section>
			</article>

			<article>

				<header id="add-and-bind-a-button"><div>
					<h2><span>Leap 2:</span> Add &amp; Bind a Button</h2>
				</div></header>

				<section>
					<p>
						To add a simple bold button, begin by putting the
						following markup somewhere into the body your document.
					</p>

					<div class="snippet" data-syntax='text/html'>
						&lt;button class="my-big-bold-button"&gt;B&lt;/button&gt;
					</div>

					<p>
						Then you need to bind the <a href="#"><code>bold</code></a>
						command to be fired on this element's click event.
					</p>

					<blockquote>
						NB: We will use the jQuery API for these code snippets
						because it's terse and very familiar to most. This is
						not a requirement for Aloha Editor; you are free to
						<a href="http://vanilla-js.com">pick your own poison</a>.
					</blockquote>

					<div class="snippet">
$('.my-big-bold-button')
	.on('click', aloha.ui.command(aloha.ui.commands.bold))
					</div>

					<p>
						<a href="#"><code>aloha.ui.command</code></a> generates an event
						handler, and uses <a href="#"><code>aloha.ui.commands.bold</code></a>
						to define what that event handler should do when the
						button is clicked.
					</p>

					<button>Try it out!</button>

					<p>
						There are a number of formatting commands that come with Aloha
						Editor out of the box. You've just seen the
						<code>aloha.ui.commands.bold</code> command in action, but there are
						<a href="http://alohaeditor.org/api/ui.html#commands">a few more</a>.
						The next section explains how to bind many buttons in simple
						way.
					</p>

				</section>

			</article>

			<article>

				<header id="add-more-buttons"><div>
					<h2><span>Leap 3:</span> Add More Buttons</h2>
				</div></header>

				<section>

					<p>
						<code>aloha.ui.commands</code> contains a number of editing
						commands that can be bound to execute formatting from event
						handlers. <code>aloha.ui.commands.bold</code> is on of them.
					</p>

					<p>
						These commands are just objects with properties that help to
						define a formatting operation.
					</p>

					<p>
						Let's use a for-loop to bind 4 of these commands to buttons.
					</p>

					<p>First the HTML ...</p>

					<div class="snippet" data-syntax='text/html'>
&lt;button class="action-bold"&gt;B&lt;/button&gt;
&lt;button class="action-italic"&gt;I&lt;/button&gt;
&lt;button class="action-underline"&gt;U&lt;/button&gt;
&lt;button class="action-unformat"&gt;✘&lt;/button&gt;
					</div>

					<p>Then some JavaScript ...</p>

					<div class="snippet">
for (var command in aloha.ui.commands) {
	$('.action-' + command).on(
		'click',
		aloha.ui.command(aloha.ui.commands[command])
	);
}
					</div>

					<p>And done.</p>

					// fiddle

				</section>

			</article>

			<article>

				<header id="per-editable-binding"><div>
					<h2><span>Leap 4:</span> Per-editable binding</h2>
				</div></header>

				<section>

					<p>
						But what if we want to the underline button to be able to
						effect one editable and not the other?
					</p>

					<p>
						To do this we need to pass 2 arguments into
						<a href="http://alohaeditor.org/api/ui.html#command"> <code>aloha.ui.command</code></a>
						instead of 1. You'll see why in a minute. First let add some
						suffixes to our button classnames. We add {%1%} to demark
						buttons that should effect editable 1 and {%2%} to demark
						buttons that should effect editable 2.
					</p>

					<div class="snippet" data-syntax='text/html'>
&lt;button class="action-bold-{%1%}"&gt;B&lt;/button&gt;
&lt;button class="action-underline-{%2%}"&gt;U&lt;/button&gt;
					</div>

					<div class="snippet">
var <*editables*> = aloha.dom.query('.editables', document).map(aloha);
for (var editable in editables) {
	for (var command in aloha.ui.commands) {
		$('.action-' + command + '-' + <*editable.id*>).on(
			'click',
			aloha.ui.command(<*editable*>, aloha.ui.commands[command])
		);
	}
}
					</div>

					<p>
						Bare in mind that <code>aloha.ui.command</code> can also
						take an array of <a href="http://alohaeditor.org/api/editables.html">editables</a>
						as its first argument to bind a single button to more than
						just one editables.
					</p>

				</section>

			</article>
		</div>

		<div id="something-awesome">Now build something awesome!</div>

		<div id="disqus_thread"></div>

		<div id="followTheFrog"><a href="#">#followTheFrog</a></div>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

		<script src="js/aloha-web.js"></script>

		<!-- script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-17460389-2', 'auto'); ga('require', 'displayfeatures');
ga('send', 'pageview');</script -->

	    <!-- script type="text/javascript">
			(function(d) {
				var q=d.createElement('script');q.async=1;q.src='//alohaeditor.disqus.com/embed.js';
				(d.getElementsByTagName('head')[0]||d.getElementsByTagName('body')[0]).appendChild(q);
			})(document);
	    </script -->

		<script src="js/aloha.min.js"></script>
		<script>setTimeout(function () {
			'use strict';
			aloha.dom.query('.editable', document).map(aloha);
			var boundary = aloha.boundaries.fromEndOfNode(
				aloha.dom.query('.editable h1', document)[0]
			);
			aloha.editor.selection = aloha.selections.select(
				aloha.editor.selection,
				boundary,
				boundary
			);
		}, 500)</script>
		<script src="codemirror-4.2/lib/codemirror.js"></script>
		<script src="codemirror-4.2/mode/javascript/javascript.js"></script>
		<script src="codemirror-4.2/mode/xml/xml.js"></script>
		<script src="js/aloha-docs.js"></script>

	</body>
</html>
