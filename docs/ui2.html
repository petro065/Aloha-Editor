<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Aloha Editor Docs: UI</title>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible' content='IE=edge'>
		<meta name='viewport' content='width=device-width, initial-scale=1'>
		<meta name='og:description' content='A simple step by step guide to intergrating Aloha Editor into your application'>
		<meta name='og:image' content='http://aloha-editor.org/Content.Node/img/froggy.png'>
		<meta name='author' content=''>
		<link rel='icon' href='favicon.ico'>
		<link href='http://fonts.googleapis.com/css?family=Droid+Serif:400|Roboto:300,400,700' rel='stylesheet' type='text/css'>
		<link href='codemirror-4.2/lib/codemirror.css' rel='stylesheet' type='text/css'>
		<link href='editor-theme.css' rel='stylesheet' type='text/css'>
		<style>
			body {
				margin: 0 auto;
				-webkit-text-size-adjust: 100%;
				    -ms-text-size-adjust: 100%;
				text-rendering: optimizeLegibility;
				line-height: 1.7em;
				font-family: 'Roboto', sans-serif;
				font-weight: 300;
				font-size: 18px;
				color: #a9a8a5;
			}
			.★ {
				margin-bottom: 90px;
			}
			* {
				-webkit-box-sizing: border-box;
				   -moz-box-sizing: border-box;
						box-sizing: border-box;
			}
			::selection { background: #333; }
			::-moz-selection { background: #333; }
			a {
				font-weight: bold;
				color: #898885;
				text-decoration: none;
				border-bottom: 2px solid #edede8;
				transition: all 250ms cubic-bezier(.2,.3,.25,.9);
			}
			a:hover { border-color: #a9a8a5; }
			blockquote {
				color: #bdbdb8;
				padding: 1vw;
				line-height: 1.3em;
				font-weight: bold;
				font-style: normal;
				font-size: 1em;
				font-family: 'Droid Serif', serif;
				-moz-osx-font-smoothing: grayscale;
				 -webkit-font-smoothing: antialiased;
				    -moz-font-smoothing: antialiased;
				         font-smoothing: antialiased;
			}
			article {
				position: relative;
				background: url(http://aloha-editor.org/Content.Node/img/froggy.png);
				background-position: center bottom;
				background-repeat: no-repeat;
				background-size: auto 90px;
				margin-bottom: -50px;
			}
			article:nth-child(1n) { z-index: 9; }
			article:nth-child(2n) { z-index: 8; }
			article:nth-child(3n) { z-index: 7; }
			article:nth-child(4n) { z-index: 6; }
			article:nth-child(5n) { z-index: 5; }
			article:nth-child(6n) { z-index: 4; }
			article:nth-child(7n) { z-index: 3; }
			article:nth-child(8n) { z-index: 2; }
			article:nth-child(9n) { z-index: 1; }
			section {
				max-width: 800px;
				margin: 0 auto;
				padding: 30px 30px 120px;
			}
			section>:first-child { margin-top: 0; }
			section>:last-child { margin-bottom: 0; }
			header {
				position: relative;
				display: table;
				width: 100%;
				height: 50vh;
				margin: 0;
				padding: 50px 0 30px;
				background: whitesmoke;
				color: #fff;
				text-shadow: 0 0 60px rgba(0,0,0,0.1);
				background-color: #54c8eb;
				-webkit-transition: background-color 3s; /* Don't transition in ff*/
			}
			header::before {
				content: '';
				display: block;
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: url(letters.png);
				background-attachment: fixed;
				background-position: center center;
				background-size: cover;
				opacity: 0.03;
			}
			header>div {
				position: relative;
				display: table-cell;
				vertical-align: middle;
			}
			h1, h2, h3 {
				max-width: 800px;
				margin: 0 auto 30px;
				padding: 0 30px;
				font-weight: 300;
				font-family: 'Roboto', sans-serif;
				line-height: 1em;
				-moz-osx-font-smoothing: grayscale;
				 -webkit-font-smoothing: antialiased;
				    -moz-font-smoothing: antialiased;
				         font-smoothing: antialiased;
			}
			h1 {
				font-size: 4em;
				font-weight: 700;
				letter-spacing: -0.04em;
				margin: 90px auto 0px;
			}
			h2 {
				max-width: 800px;
				margin: 0 auto 30px;
				padding: 0 30px;
				font-size: 3em;
				letter-spacing: -0.03em;
			}
			h2 span, h3 span { opacity: 0.6; }
			h2 span { font-weight: 700; }
			code { font-weight: bold; }
			.title {
				min-height: 100vh;
				-webkit-perspective: 400px;
				   -moz-perspective: 400px;
				    -ms-perspective: 400px;
				     -o-perspective: 400px;
				        perspective: 400px;
				-webkit-transform-style: preserve-3d;
				   -moz-transform-style: preserve-3d;
				    -ms-transform-style: preserve-3d;
				     -o-transform-style: preserve-3d;
				        transform-style: preserve-3d;
			}
			.title::before {
				-webkit-animation: intro 1s ease-out forwards;
				   -moz-animation: intro 2s ease-out forwards;
			}
			@-webkit-keyframes intro {
				0% { -webkit-transform: rotate3d(1,0,0,40deg) translate3d(200px,0,400px); }
				100% {/*
					http://stackoverflow.com/questions/15194313/webkit-css-transform3d-position-fixed-issue#15256339
					-webkit-transform: translate(0px) translateZ(0px) rotateX(0deg);
				*/}
			}
			@-moz-keyframes intro {
				0% { -moz-transform: rotate3d(1,0,0,40deg) translate3d(200px,0,400px); }
				100% {}
			}
			.title h2 {
				font-size: 2em;
				margin-bottom: 90px;
			}
			.title h2 span { font-weight: 300; }
			.title h2 img {
				height: 1.6em;
				vertical-align: middle;
				margin-left: 20px;
				transition: all 250ms cubic-bezier(.2,.3,.25,.9);
			}
			.title h2 img:hover {
				-webkit-transform-origin: center;
				-webkit-transform: scale(1.5) rotateZ(20deg);
			}
			h3 a {
				font-weight: 300;
				font-size: 2em;
				color: #fff;
				border-bottom: 4px solid transparent;
				line-height: 1em;
			}
			h3 a:hover { border-color: rgba(255,255,255,0.2); }
			#something-awesome {
				max-width: 800px;
				margin: 0 auto 30px;
				padding: 60px 30px;
				font-size: 3em;
				font-weight: 700;
				color: #c9c8c5;
				line-height: 1em;
				text-align: center;
			}
			#disqus_thread {
				max-width: 800px;
				margin: 0 auto 30px;
				padding: 0 30px;
				color: #797875;
			}
			@media (max-width: 768px) {
				header {
					padding: 90px 0 60px;
					font-size: 0.8em;
					text-align: center;
				}
			}
			@media (max-width: 480px) {
				h3 { font-size: 0.9em; }
				header span {
					display: block;
					margin: 30px 0;
				}
				header h3 span { margin-bottom: 10px; }
			}
		</style>
	</head>

	<body>

		<div class="★">
			<header class="title"><div>
				<h1>Aloha Editor UI Guide</h1>
				<h2>
					<span>Keep calm and follow the frog</span>
					<img src="http://aloha-editor.org/Content.Node/img/froggy.png"
						alt="#followTheFrog" title="#followTheFrog" />
				</h2>
				<h3><a href="#include-and-invoke-aloha"><span>Leap 1:</span> Include &amp; Invoke Aloha</a></h3>
				<h3><a href="#add-and-bind-a-button"><span>Leap 2:</span> Add &amp; Bind a Button</a></h3>
				<h3><a href="#add-more-buttons"><span>Leap 3:</span> Add More Buttons</a></h3>
				<h3><a href="#per-editable-binding"><span>Leap 4:</span> Per-editable Binding</a></h3>
			</div></header>

			<article>

				<header id="include-and-invoke-aloha"><div>
					<img src="http://aloha-editor.org/Content.Node/img/froggy.png"
						alt="#followTheFrog" title="#followTheFrog"
						style="display: block; height: 90px; margin: 0 auto 90px;" />
					<h2><span>Leap 1:</span> Include &amp; Invoke Aloha</h2>
				</div></header>

				<section>
					<p>
						To replace ContentEditable with Aloha Editor is as simple as
						1 line of markup and 1 line of JavaScript:
					</p>

					<div class="snippet" data-syntax='text/html'>
						&lt;script src="http://aloha-editor.org/download/aloha.min.js"&gt;&lt;/script&gt;
					</div>
					<div class="snippet">aloha(document.querySelector('#editable'))</div>

					<p>
						You can initialize multiple editables at once with this
						simply trick:
					</p>

					<div class="snippet">aloha.dom.query('.editable', document).forEach(aloha)</div>

					<p>
						<a href="http://alohaeditor.org/api/aloha.html#aloha"><code>aloha()</code></a>
						will transform the given element into an HTML editing canvas
						in which you can start typing and using keyboard commands to
						format content bold, italic, etc.
					</p>

					<p>
						To deactivate editing, simply invoke
						<a href="http://alohaeditor.org/api/aloha.html#mahalo"><code>aloha.mahalo()</code></a>
						on the DOM element that was editable through
						<code>aloha()</code>.
					</p>

					<p>
						When you invoke <code>aloha()</code> on an element, you will
						see that Aloha Editor uses a blinking DIV element as the
						caret (<span id="blinking-caret"></span>).  The caret is the minimal visual user interface
						(<a href="#caretStylingFiddle">which you can style with CSS, by the way</a>).
						But sooner or later you'll probably need more than just a
						caret for a UI, so the next section will cover how you can
						add a simple bold button.
					</p>
				</section>
			</article>

			<article>

				<header id="add-and-bind-a-button"><div>
					<h2><span>Leap 2:</span> Add &amp; Bind a Button</h2>
				</div></header>

				<section>
					<p>
						Add a simple bold button to format content inside of an editable
						by putting the following markup into your document.
					</p>

					<div class="snippet" data-syntax='text/html'>
						&lt;button class="my-big-bold-button"&gt;B&lt;/button&gt;
					</div>

					<p>
						Then you need to bind the <a href="#"><code>bold</code></a>
						command to fire on this element's click event.
					</p>

					<blockquote>
						NB: While we will use jQuery API as a shorthand because it's
						terse and everyone's familiar with it, it is not a requirement
						for Aloha Editor; you are free to
						<a href="http://vanilla-js.com">pick your own poison</a>.
					</blockquote>

					<div class="snippet">
$('.my-big-bold-button')
	.on('click', aloha.ui.command(aloha.ui.commands.bold))
					</div>

					<p>
						<a href="#"><code>aloha.ui.command</code></a> generates an event
						handler using <a href="#"><code>aloha.ui.commands.bold</code></a>
						to define what that event handler should do when the button is
						clicked.
					</p>

					<p>
						Now each time "my-big-bold-button" is clicked, any content
						within a selection inside of an editable will be formatted bold.
						If there selection is outside of an editable nothing will
						happen. Try it below.
					<p>

					// Fiddle

					<p>
						There are a number of formatting commands that come with Aloha
						Editor out of the box. You've just seen the
						<code>aloha.ui.commands.bold</code> command in action, but there are
						<a href="http://alohaeditor.org/api/ui.html#commands">a few more</a>.
						The next section explains how to bind many buttons in simple
						way.
					</p>

				</section>

			</article>

			<article>

				<header id="add-more-buttons"><div>
					<h2><span>Leap 3:</span> Add More Buttons</h2>
				</div></header>

				<section>

					<p>
						<code>aloha.ui.commands</code> contains a number of editing
						commands that can be bound to execute formatting from event
						handlers. <code>aloha.ui.commands.bold</code> is on of them.
					</p>

					<p>
						These commands are just objects with properties that help to
						define a formatting operation.
					</p>

					<p>
						Let's use a for-loop to bind 4 of these commands to buttons.
					</p>

					<p>First the HTML ...</p>

					<div class="snippet" data-syntax='text/html'>
&lt;button class="action-bold"&gt;B&lt;/button&gt;
&lt;button class="action-italic"&gt;I&lt;/button&gt;
&lt;button class="action-underline"&gt;U&lt;/button&gt;
&lt;button class="action-unformat"&gt;✘&lt;/button&gt;
					</div>

					<p>Then some JavaScript ...</p>

					<div class="snippet">
for (var command in aloha.ui.commands) {
	$('.action-' + command).on(
		'click',
		aloha.ui.command(aloha.ui.commands[command])
	);
}
					</div>

					<p>And done.</p>

					// fiddle

				</section>

			</article>

			<article>

				<header id="per-editable-binding"><div>
					<h2><span>Leap 4:</span> Per-editable binding</h2>
				</div></header>

				<section>

					<p>
						But what if we want to the underline button to be able to
						effect one editable and not the other?
					</p>

					<p>
						To do this we need to pass 2 arguments into
						<a href="http://alohaeditor.org/api/ui.html#command"> <code>aloha.ui.command</code></a>
						instead of 1. You'll see why in a minute. First let add some
						suffixes to our button classnames. We add {%1%} to demark
						buttons that should effect editable 1 and {%2%} to demark
						buttons that should effect editable 2.
					</p>

					<div class="snippet" data-syntax='text/html'>
&lt;button class="action-bold-{%1%}"&gt;B&lt;/button&gt;
&lt;button class="action-underline-{%2%}"&gt;U&lt;/button&gt;
					</div>

					<div class="snippet">
var <*editables*> = aloha.dom.query('.editables', document).map(aloha);
for (var editable in editables) {
	for (var command in aloha.ui.commands) {
		$('.action-' + command + '-' + <*editable.id*>).on(
			'click',
			aloha.ui.command(<*editable*>, aloha.ui.commands[command])
		);
	}
}
					</div>

					<p>
						Bare in mind that <code>aloha.ui.command</code> can also
						take an array of <a href="http://alohaeditor.org/api/editables.html">editables</a>
						as its first argument to bind a single button to more than
						just one editables.
					</p>

				</section>

			</article>
		</div>

		<div id="something-awesome">Now build something awesome!</div>

		<div id="disqus_thread"></div>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

		<script src="js/aloha-web.js"></script>

		<!-- script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-17460389-2', 'auto'); ga('require', 'displayfeatures');
ga('send', 'pageview');</script -->

	    <script type="text/javascript">
			(function(d) {
				var q=d.createElement('script');q.async=1;q.src='//alohaeditor.disqus.com/embed.js';
				(d.getElementsByTagName('head')[0]||d.getElementsByTagName('body')[0]).appendChild(q);
			})(document);
	    </script>

		<script src="js/aloha.min.js"></script>
		<script>aloha.dom.query('h1', document).map(aloha);</script>
		<script src="codemirror-4.2/lib/codemirror.js"></script>
		<script src="codemirror-4.2/mode/javascript/javascript.js"></script>
		<script src="codemirror-4.2/mode/xml/xml.js"></script>
		<script src="js/aloha-docs.js"></script>

	</body>
</html>
