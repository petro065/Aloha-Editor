(function () {var ca;function da(a){throw Error(a?"\u2718 Error ("+a+"). See http://www.alohaeditor.org/docs/errors/"+a:"assertion failed");}function ea(a,b){a||da(b)}var f={assert:ea,error:da,Cc:function(){da(0)},cc:function(a){ea(null==a,2)},ge:function(a){ea(null!=a,1)},fh:0,hh:1,gh:2,Yg:15,nf:3,mf:4,qf:5,Oc:16,Zb:8,jf:9,dh:10,hf:11,lf:12,kf:13,$d:14};for(var fa={},ga=fa,ha="",ia=["","-webkit-","-moz-","-ms-","-o-"],ja=document.createElement("div").style,ka=0;ka<ia.length;ka++)ja.hasOwnProperty(ia[ka]+"transform")&&(ha=ia[ka]);var la=navigator.userAgent.toLowerCase(),ma=/(chrome)[ \/]([\w.]+)/.exec(la)||/(webkit)[ \/]([\w.]+)/.exec(la)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(la)||/(msie) ([\w.]+)/.exec(la)||0>la.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(la),na,oa,pa,qa,ra,sa;pa=qa=ra=sa=!1;
ma&&(na=ma[1],oa=ma[2],pa="msie"===oa&&8>parseInt(oa,10),"chrome"===na?sa=!0:"webkit"===na&&(ra=!0));ga={zh:pa,chrome:qa,Ud:sa,Eg:ra,vendor:na,version:oa,Ga:ha};ma&&(ga[na]=!0);fa=ga;var ta=/^(#|rgba?|hsl)\(?([^\(\)]+)/i,ua=/\s*,\s*/;function va(a){var b,c;4===a.length?(b=a.substr(1,1),c=a.substr(2,1),a=a.substr(3,1),b+=b,c+=c,a+=a):(b=a.substr(1,2),c=a.substr(3,2),a=a.substr(5,2));return[b,c,a]}function wa(a){return a.reduce(function(a,c){var d=parseInt(c,10).toString(16);return a.concat(1===d.length?d+d:d)},[])}function xa(a){return va(a).reduce(function(a,c){return a.concat(parseInt(c,16))},[])}
function ya(a){a=a.trim().match(ta);switch(a&&a[1]){case "#":return"#"+va(a[0]).join("");case "rgb":case "rgba":return"#"+wa(a[2].split(ua)).join("")}}
var za={Xf:ya,Dg:function(a){a=a.trim().match(ta);switch(a&&a[1]){case "#":return xa(a[0]);case "rgb":case "rgba":return a[2].split(ua).reduce(function(a,c){return a.concat(parseInt(c,10))},[])}},Lf:function(a,b,c){return[a[0]+Math.round((b[0]-a[0])*c),a[1]+Math.round((b[1]-a[1])*c),a[2]+Math.round((b[2]-a[2])*c)]},j:function(a,b){return ya(a)===ya(b)},Jd:function(a){return"string"===typeof a[0]?"#"+a.join(""):4===a.length?"rgba("+a.join(",")+")":"rgb("+a.join(",")+")"}};function Ba(a){var b=a.length;return 1===b?function(){return a(this)}:2===b?function(b){return a(this,b)}:3===b?function(b,d){return a(this,b,d)}:4===b?function(b,d,e){return a(this,b,d,e)}:function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(this);return a.apply(null,b)}}
var h={ad:function(a){return a},V:function(){},Hc:function(){return!0},C:function(){return!1},ha:function(a){return function(){return!a.apply(this,arguments)}},c:function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments,0)))}},bf:function(a,b){return a===b},Rc:function(){var a=arguments,b=a.length;return function(){var c,d=b;for(0<d--&&(c=a[d].apply(this,arguments));0<d--;)c=a[d].call(this,c);return c}},fe:function(){var a=
arguments,b=a.length;return function(){for(var c=0;c<b;c++)if(!a[c].apply(this,arguments))return!1;return!0}},pg:function(){var a=arguments,b=a.length;return function(){for(var c=0;c<b;c++)if(a[c].apply(this,arguments))return!0;return!1}},Hf:function(a){return function(){return a}},is:function(a){return"function"===typeof a},ca:function(a){return null==a},F:Ba,Tc:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.prototype[c]=Ba(b[c]))}};function Da(a,b){var c=a.length,d=b.length;f.assert(1<=c,f.kf);f.assert(2<=d,f.$d);f.assert(c===d-1,f.$d);return c}function Ea(a,b,c){return function(){return 0<arguments.length-c?b.apply(null,arguments):a.apply(null,arguments)}}function k(a,b){var c=Da(a,b),c=1===c?function(c,e){return 1<arguments.length?b(c,e):a(c)}:2===c?function(c,e,g){return 2<arguments.length?b(c,e,g):a(c,e)}:Ea(a,b,c);c.get=a;c.set=b;return c}
function Fa(a){return k(function(b){return b[a]},function(b,c){b[a]=c;return b})}k.uh=Fa;k.vh=function(a){for(var b in a)if(a.hasOwnProperty(b))return Fa(b);f.error(f.lf)};k.F=function(a){var b=a.get,c=a.set;a=Da(b,c);a=1===a?function(a){return arguments.length?c(this,a):b(this)}:2===a?function(a,e){return 1<arguments.length?c(this,a,e):b(this,a)}:h.F(Ea(b,c,a));a.get=b;a.set=c;return a};var Ga=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};function Ha(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c}function Ia(a){var b=(new Date).getTime();a.af||(a.af=b);var c=b-a.af,b=Math.min(1,c/a.duration),c=a.Rf(b,c,0,1,a.duration);return a.interval(a.start+a.Nf*c,b)?1:b}
var Ja={step:Ia,zf:function(a,b,c,d,e){var g={start:a,Nf:b-a,duration:d||1,interval:e||h.V,Rf:c||Ha};(function m(){1>Ia(g)&&Ga(m)})();return g},Qf:function(a,b,c,d){return c+(d-c)*a},th:Ha,sh:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},requestAnimationFrame:Ga};function Ka(a,b){return-1!==a.indexOf(b)}function La(a){return a.length?a[a.length-1]:null}function Ma(a){return Array.prototype.slice.call(a)}function Na(a,b){var c=-1;a.some(function(a,e){if(b(a))return c=e,!0});return c}
var q={contains:Ka,sb:function(a,b){return a.filter(function(a){return!Ka(b,a)})},fc:function(a,b,c){var d,e=a.length;if(e!==b.length)return!1;c=c||h.bf;for(d=0;d<e;d++)if(!c(a[d],b[d]))return!1;return!0},dd:function(a,b){return a.filter(function(a){return Ka(b,a)})},is:function(a){return"[object Array]"===Object.prototype.toString.call(a)},m:La,X:Ma,Ce:function(a,b){return a.reduce(function(a,d){return a.concat(b(d))},[])},xd:function(a,b){return a.reduce(function(a,d){var e=La(a);e&&e.length<b?
e.push(d):a.push([d]);return a},[])},some:function(a,b){var c=Na(a,b);return-1===c?null:a[c]},Tb:Na,split:function(a,b){var c=Na(a,b),c=-1===c?a.length:c;return[a.slice(0,c),a.slice(c)]},unique:function(a){var b=[];a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)});return b},vg:function(a){for(var b=Ma(arguments).slice(1),c=0;c<a.length&&a[c]&&b[c];c++)b[c].length=0,Array.prototype.splice.apply(b[c],[0,0].concat(a[c]))}};var Oa={AREA:!0,BASE:!0,BR:!0,COL:!0,COMMAND:!0,EMBED:!0,HR:!0,IMG:!0,INPUT:!0,KEYGEN:!0,LINK:!0,META:!0,PARAM:!0,SOURCE:!0,TRACK:!0,WBR:!0},Pa={ADDRESS:!0,ARTICLE:!0,ASIDE:!0,AUDIO:!0,BLOCKQUOTE:!0,CANVAS:!0,DD:!0,DIV:!0,DL:!0,FIELDSET:!0,FIGCAPTION:!0,FIGURE:!0,FOOTER:!0,FORM:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HEADER:!0,HGROUP:!0,HR:!0,NOSCRIPT:!0,OL:!0,OUTPUT:!0,P:!0,PRE:!0,SECTION:!0,TABLE:!0,TFOOT:!0,UL:!0,VIDEO:!0},Qa={A:!0,ABBR:!0,B:!0,BDI:!0,BDO:!0,BR:!0,CITE:!0,CODE:!0,DATA:!0,DFN:!0,
EM:!0,I:!0,KBD:!0,MARK:!0,Q:!0,RP:!0,RT:!0,RUBY:!0,S:!0,SAMP:!0,SMALL:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TIME:!0,U:!0,VAR:!0,WBR:!0},Ra={OL:!0,UL:!0,DL:!0,MENU:!0},Sa={LI:!0,DT:!0,DD:!0},Ta={FIELDSET:!0,OBJECT:!0,FIGURE:!0,AUDIO:!0,SELECT:!0,COLGROUP:!0,HGROUP:!0,TABLE:!0,TBODY:!0,TR:!0,OL:!0,UL:!0,DL:!0,MENU:!0},Ua={LI:["OL","UL","DL"],DT:["DL"],DD:["DL"],TBODY:["TABLE"],TR:["TABLE","TBODY"],TH:["TABLE","TBODY"],TD:["TR","TH"]};function Va(a){return!!Pa[a.nodeName]}
var Wa={H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0},r={Ba:Va,ka:function(a){return Ta[a.nodeName]},Ma:function(a){return!!Ua[a.nodeName]},Lb:function(a){return!!Wa[a.nodeName]},Na:function(a){return!Va(a)},Ca:function(a){return!!Ra[a.nodeName]},f:function(a){return!!Sa[a.nodeName]},hd:function(a){return"TABLE"===a.nodeName},Mb:function(a){return!!Qa[a.nodeName]},Da:function(a){return!!Oa[a.nodeName]}};function Ya(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a)}function Za(a,b,c){return b.map(function(b){return a.hasOwnProperty(b)?a[b]:c})}function $a(a){var b=[];Ya(a,function(a,d){b.push(d)});return b}function ab(a){var b;for(b=1;b<arguments.length;b++){var c=arguments[b];c&&Ya(c,function(b,c){a[c]=b})}return a}function bb(a){f.ge(a);return ab({},a)}
var u={La:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},Uc:function(a,b,c){for(var d=b.length;d--;)a[b[d]]=c;return a},keys:$a,jb:function(a){return Za(a,$a(a))},Fg:Za,filter:function(a,b){var c={};Ya(a,function(d,e){b(d,e,a)&&(c[e]=d)});return c},forEach:Ya,extend:ab,g:function(){return ab.apply(null,[{}].concat(q.X(arguments)))},isMap:function(a){return!(!a||!a.constructor||"[object Object]"!==Object.prototype.toString.call(a))},clone:bb,Qc:function(a,b,c){a=bb(a);a[b]=c;
return a},le:function(a,b){a=bb(a);delete a[b];return a},create:function(){return Object.create(null)},kd:function(a){var b={};a.forEach(function(a){b[a[0]]=a[1]});return b}};var cb={A:"_PHRASING_",ABBR:"_PHRASING_",ADDRESS:"_FLOW_",AREA:"_EMPTY_",ARTICLE:"_FLOW_",ASIDE:"_FLOW_",AUDIO:"SOURCE",B:"_PHRASING_",BASE:"_EMPTY_",BDO:"_PHRASING_",BLOCKQUOTE:"_PHRASING_",BODY:"_FLOW_",BR:"_EMPTY_",BUTTON:"_PHRASING_",CANVAS:"_PHRASING_",CAPTION:"_FLOW_",CITE:"_PHRASING_",CODE:"_PHRASING_",COL:"_EMPTY_",COLGROUP:"COL",COMMAND:"_EMPTY_",DATALIST:{_PHRASING_:!0,OPTION:!0},DD:"_FLOW_",DEL:"_PHRASING_",DIV:"_FLOW_",DETAILS:{SUMMARY:!0,_FLOW_:!0},DFN:"_FLOW_",DL:{DT:!0,DD:!0},DT:"_PHRASING_",
EM:"_PHRASING_",EMBED:"_EMPTY_",FIELDSET:{LEGEND:!0,_FLOW_:!0},FIGCAPTION:"_FLOW_",FIGURE:{FIGCAPTION:!0,_FLOW_:!0},FONT:"_PHRASING_",FOOTER:"_FLOW_",FORM:"_FLOW_",H1:"_PHRASING_",H2:"_PHRASING_",H3:"_PHRASING_",H4:"_PHRASING_",H5:"_PHRASING_",H6:"_PHRASING_",HEAD:"_META_DATA_",HEADER:"_FLOW_",HGROUP:{H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0},HR:"_EMPTY_",I:"_PHRASING_",IFRAME:"#TEXT",IMG:"_EMPTY_",INPUT:"_EMPTY_",INS:"_PHRASING_",KBD:"_PHRASING_",KEYGEN:"_EMPTY_",LABEL:"_PHRASING_",LEGEND:"_PHRASING_",
LI:"_FLOW_",LINK:"_EMPTY_",MAP:"AREA",MARK:"_PHRASING_",MENU:{LI:!0,_FLOW_:!0},META:"_EMPTY_",METER:"_PHRASING_",NAV:"_FLOW_",NOSCRIPT:"_PHRASING_",OBJECT:"PARAM",OL:"LI",OPTGROUP:"OPTION",OPTION:"#TEXT",OUTPUT:"_PHRASING_",P:"_PHRASING_",PARAM:"_EMPTY_",PRE:"_PHRASING_",PROGRESS:"_PHRASING_",Q:"_PHRASING_",RP:"_PHRASING_",RT:"_PHRASING_",RUBY:{_PHRASING_:!0,RT:!0,RP:!0},S:"_PHRASING_",SAMP:"pharsing",SCRIPT:"#script",SECTION:"_FLOW_",SELECT:{OPTION:!0,OPTGROUP:!0},SMALL:"_PHRASING_",SOURCE:"_EMPTY_",
SPAN:"_PHRASING_",STRONG:"_PHRASING_",STYLE:"_PHRASING_",SUB:"_PHRASING_",SUMMARY:"_PHRASING_",SUP:"_PHRASING_",TABLE:{CAPTION:!0,COLGROUP:!0,THEAD:!0,TBODY:!0,TFOOT:!0,TR:!0},TBODY:"TR",TD:"_FLOW_",TEXTAREA:"#TEXT",TFOOT:"TR",TH:"_PHRASING_",THEAD:"TR",TIME:"_PHRASING_",TITLE:"#TEXT",TR:{TH:!0,TD:!0},TRACK:"_EMPTY_",U:"_PHRASING_",UL:"LI",VAR:"_PHRASING_",VIDEO:"SOURCE",WBR:"_EMPTY_","#DOCUMENT-FRAGMENT":"_FLOW_"},v={_FLOW_:!0,_PHRASING_:!0},db={_FLOW_:!0,_PHRASING_:!0},eb={_FLOW_:!0,_HEADER_:!0},
fb={_FLOW_:!0},gb={A:{_FLOW_:!0,_INTERACTIVE_:!0,_PHRASING_:!0},ABBR:v,ADDRESS:fb,AREA:v,ARTICLE:db,ASIDE:db,AUDIO:{_EMBEDDED_:!0,_FLOW_:!0,_INTERACTIVE_:!0,_PHRASING_:!0},B:v,BASE:{_META_DATA_:!0},BDI:v,BDO:v,BLOCKQUOTE:{_FLOW_:!0,_SECTIONING_ROOT_:!0},BODY:{_SECTIONING_ROOT_:!0},BR:v,BUTTON:{_EMBEDDED_:!0,_FLOW_:!0,_INTERACTIVE_:!0,_PHRASING_:!0,_LISTED_:!0,_LABELABLE_:!0,_SUBMITTABLE_:!0,_REASSOCIATABLE_:!0,_FORM_ASSOCIATED_:!0},CANVAS:{_EMBEDDED_:!0,_FLOW_:!0,_PHRASING_:!0},CAPTION:{},CITE:v,
CODE:v,COL:{},COLGROUP:{},COMMAND:{},DATALIST:v,DD:{},DEL:v,DETAILS:{_FLOW_:!0,_SECTIONING_ROOT_:!0,_INTERACTIVE_:!0},DFN:v,DIV:fb,DL:fb,DT:{},EM:v,EMBED:{_EMBEDDED_:!0,_FLOW_:!0,_INTERACTIVE_:!0,_PHRASING_:!0},FIELDSET:{_FLOW_:!0,_FORM_ASSOCIATED_:!0,_LISTED_:!0,_REASSOCIATABLE_:!0,_SECTIONING_ROOT_:!0},FIGCAPTION:{},FIGURE:{_FLOW_:!0,_SECTIONING_ROOT_:!0},FONT:v,FOOTER:fb,FORM:fb,H1:eb,H2:eb,H3:eb,H4:eb,H5:eb,H6:eb,HEADER:fb,HGROUP:eb,HR:fb,I:v,IFRAME:{_EMBEDDED_:!0,_FLOW_:!0,_INTERACTIVE_:!0,_PHRASING_:!0},
IMG:{_EMBEDDED_:!0,_FLOW_:!0,_FORM_ASSOCIATED_:!0,_INTERACTIVE_:!0,_PHRASING_:!0},INPUT:{_FLOW_:!0,_FORM_ASSOCIATED_:!0,_INTERACTIVE_:!0,_LABELABLE_:!0,_LISTED_:!0,_PHRASING_:!0,_REASSOCIATABLE_:!0,_RESETTABLE_:!0,_SUBMITTABLE_:!0},INS:v,KBD:v,KEYGEN:{_FLOW_:!0,_FORM_ASSOCIATED_:!0,_INTERACTIVE_:!0,_LABELABLE_:!0,_LISTED_:!0,_PHRASING_:!0,_REASSOCIATABLE_:!0,_RESETTABLE_:!0,_SUBMITTABLE_:!0},LABEL:{_FLOW_:!0,_FORM_ASSOCIATED_:!0,_INTERACTIVE_:!0,_PHRASING_:!0,_REASSOCIATABLE_:!0},LEGEND:{},LI:{},
LINK:{_FLOW_:!0,_METADATA_:!0,_PHRASING_:!0},MAIN:fb,MAP:v,MARK:v,MENU:fb,MENUITEM:fb,META:{_FLOW_:!0,_METADATA_:!0,_PHRASING_:!0},METER:{_FLOW_:!0,_LABELABLE_:!0,_PHRASING_:!0},NAV:{_FLOW_:!0,_SECTIONING_:!0},NOSCRIPT:{_FLOW_:!0,_METADATA_:!0,_PHRASING_:!0},OBJECT:{_FLOW_:!0,_EMBEDDABLE_:!0,_FORM_ASSOCIATED_:!0,_INTERACTIVE_:!0,_LISTED_:!0,_PHRASING_:!0,_REASSOCIATABLE_:!0,_SUBMITTABLE_:!0},OL:fb,OPTGROUP:{},OPTION:{},OUTPUT:{_FLOW_:!0,_PHRASING_:!0,_LISTED_:!0,_LABELABLE_:!0,_RESETTALBE_:!0,_REASSOCIATABLE_:!0,
_FORM_ASSOCIATED_:!0},P:fb,PARAM:{},PRE:fb,PROGRESS:{_FLOW_:!0,_PHRASING_:!0,_LABELABLE_:!0},Q:v,RP:{},RT:{},RUBY:v,S:v,SAMP:v,SCRIPT:{_FLOW_:!0,_PHRASING_:!0,_METADATA_:!0,_SCRIPT_SUPPORTING_:!0},SECTION:{_FLOW_:!0,_SECTIONING_:!0},SELECT:{_FLOW_:!0,_PHRASING_:!0,_INTERACTIVE_:!0,_LISTED_:!0,_LABELABLE_:!0,_SUBMITTALBE_:!0,_RESETTALBE_:!0,_REASSOCIATABLE_:!0,_FORM_ASSOCIATED_:!0},SMALL:v,SOURCE:{},SPAN:v,STRONG:v,STYLE:{_FLOW_:!0,_METADATA_:!0},SUB:v,SUMMARY:{},SUP:v,TABLE:fb,TBODY:{},TD:{_SECTIONING_ROOT_:!0},
TEMPLATE:{_FLOW_:!0,_METADATA_:!0,_PHRASING_:!0,_SCRIPT_SUPPORTING_:!0},TEXTAREA:{_FLOW_:!0,_PHRASING_:!0,_INTERACTIVE_:!0,_LISTED_:!0,_LABELABLE_:!0,_SUBMITTALBE_:!0,_RESETTALBE_:!0,_REASSOCIATABLE_:!0,_FORM_ASSOCIATED_:!0},TFOOT:{},TH:{},THEAD:{},TIME:v,TITLE:{_METADATA_:!0},TR:{},TRACK:{},U:v,UL:fb,VAR:v,VIDEO:{_FLOW_:!0,_PHRASING_:!0,_EMBEDDED_:!0,_INTERACTIVE_:!0},WBR:v,"#TEXT":v},hb={IMG:["alt","src"],A:["href","name","_target"],TD:["colspan","rowspan"],TH:["colspan","rowspan"],OL:["start",
"type"],"*":["xstyle"]},ib={TABLE:["width"],IMG:["width","height"],"*":"color font-family font-size font-weight font-stlye font-decoration background background-image background-color".split(" ")},jb={AUDIO:!0,COMMAND:!0,COLGROUP:!0,IFRAME:!0,INPUT:!0,INS:!0,KBD:!0,KEYGEN:!0,LINK:!0,META:!0,NOSCRIPT:!0,OUTPUT:!0,Q:!0,RUBY:!0,SAMP:!0,SCRIPT:!0,SELECT:!0,STYLE:!0,TEMPLATE:!0,TEXTAREA:!0,TITLE:!0,WBR:!0},kb={FONT:"SPAN"},w={sa:function(a,b){var c;a=a.toUpperCase();b=b.toUpperCase();var d=cb[a];if(!d)return!1;
if("string"===typeof d){if(d===b||(c=gb[b])&&c[d])return!0}else{if(d[b])return!0;c=gb[b];for(var e in c)if(c.hasOwnProperty(e)&&d[e])return!0}return!1},mb:function(a){return u.g({},ib,a)},lb:function(a){return u.g({},hb,a)},Va:function(a){return u.g({},jb,a)},Pb:function(a){return u.g({},kb,a)}};var lb={},mb={},nb={};function ob(a,b,c){if(c!==nb)return new ob(a,b,nb);this._map_data=null;this._map_source=b;this._map_opts=a;this._map_realized=0}function pb(a){var b=a._map_realized;if(b&2)return a._map_data;var c=a._map_opts.realize(a._map_source);a._map_data=c;a._map_realized=b|3;a._map_source=null;return c}function qb(a,b,c){var d=a._map_data=a._map_data||{};return d.hasOwnProperty(b)?d[b]:a._map_realized&1?mb:d[b]=c(a,b)}
function rb(a,b){var c=a._map_opts,d=!1;return(d=c.has?c.has(a._map_source,b):mb!==qb(a,b,sb))?lb:mb}function sb(a,b){return a._map_opts.get(a._map_source,b,mb)}var tb={realize:h.ad,get:f.error},ub={realize:function(a){return u.g(a.map.realize(),a.obj)},get:function(a,b,c){var d=a.obj;return d.hasOwnProperty(b)?d[b]:a.map.get(b,c)}};
h.Tc(ob,{keys:function(a){var b=a._map_data=a._map_data||{},c=a._map_realized;if(c&1)return u.keys(b).filter(function(a){return b[a]!==mb});var d=a._map_opts;d.keys?(d=d.keys(a._map_source),d.forEach(function(a){b.hasOwnProperty(a)||(b[a]=lb)}),a._map_realized=c|1):d=u.keys(pb(a));return d},realize:pb,isRealized:function(a){return!!(a._map_realized&2)},get:function(a,b,c){var d=qb(a,b,sb);mb===d?d=c:lb===d&&(d=(a._map_data=a._map_data||{})[b]=sb(a,b),f.lh(d!==mb));return d},has:function(a,b){return mb!==
qb(a,b,rb)},mergeObject:function(a,b,c){!c||a._map_opts!==ub||a._map_realized&2||(b=u.g(a._map_source.obj,b),a=a._map_source.map);return ob(ub,{map:a,obj:b})}});ob.Pe=function(a){a=ob(tb,a);a.realize();return a};ob.Be=function(a){var b=h.ca;return function(c,d,e){c=a(c,d);return b(c)?e:c}};var vb={jh:function(a,b){var c,d;c=0;for(d=a.length;c<d;c++)if(a[c].test(b))return!0;return!1},Fb:function(a){return"undefined"!==typeof a},za:function(a){if(!a)return a;var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}};var wb={ELEMENT:1,ATTR:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENTTYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};function xb(a){return wb.TEXT===a.nodeType}function yb(a){return wb.ELEMENT===a.nodeType}function zb(a){return wb.DOCUMENT_FRAGMENT===a.nodeType}function Ab(a){return a.childNodes.length}function Cb(a){for(var b=0;a=a.previousSibling;)b++;return b}function Db(a){return yb(a)||zb(a)?Ab(a):xb(a)?a.length:0}
function Eb(a,b){return a.childNodes[b]}function Fb(a){return xb(a)&&0===Db(a)}function Gb(a,b,c){var d=0,e=0;for(a=a.firstChild;;){if(e>=b)return d;if(d>=c)return e;if(!a)break;if(xb(a)){for(var g=-1;a&&xb(a);)Fb(a)||(g=d),a=a.nextSibling,d+=1;if(-1!==g){if(g>=c)return e;e+=1}}else a=a.nextSibling,d+=1,e+=1}throw Error();}function Hb(a,b){return Gb(a,b,Number.POSITIVE_INFINITY)}
var x={Nodes:wb,offset:function(a){if(!vb.Fb(a.getBoundingClientRect))return{top:0,left:0};var b=a.getBoundingClientRect();return{top:b.top+window.pageYOffset-a.ownerDocument.body.clientTop,left:b.left+window.pageXOffset-a.ownerDocument.body.clientLeft}},children:function(a){return q.X(a.childNodes)},oa:function(a,b){yb(a)&&b<Db(a)?a=a.childNodes[b]:xb(a)&&b===a.length&&(a=a.nextSibling||a.parentNode);return a},fa:Eb,Dc:Ab,u:Cb,q:Db,Yc:function(a){return 0<Ab(a)},Ac:function(a,b){return Eb(a,Hb(a,
b))},zc:function(a){return Gb(a.parentNode,Number.POSITIVE_INFINITY,Cb(a))},Gc:Hb,Bc:function(a){return Gb(a,Number.POSITIVE_INFINITY,Ab(a))},b:xb,t:yb,pc:zb,Kb:Fb,isSameNode:function(a,b){return a===b},text:function(a){return a.textContent},Zc:function(a){return 0<a.textContent.trim().length},j:function(a,b){return a.isEqualNode(b)},contains:function(a,b){return yb(a)?a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):a!==b&&(yb(b)?a.contains(b):b.parentNode&&(a===b.parentNode||a.contains(b.parentNode))):
!1},ta:function(a,b){return!!(a.compareDocumentPosition(b)&4)},clone:function(a,b){return a.cloneNode("boolean"===typeof b?b:!0)},W:function(a){return a.cloneNode(!1)},Fc:function(a){var b=a.ownerDocument.createElement("div");b.appendChild(a.cloneNode(!0));return b.innerHTML}};function Ib(a,b,c){c?b.appendChild(a):b.parentNode.insertBefore(a,b)}function Jb(a,b){Ib(a,b.nextSibling||b.parentNode,!b.nextSibling)}function Kb(a,b,c){for(var d;b;)d=b.nextSibling,a.insertBefore(b,c),b=d}function Lb(a,b){Ib(a,b,!0)}function Mb(a,b,c){a=q.split(a,c||h.C);a[0].forEach(b);return a[1]}function Nb(a,b,c){return Mb(a,function(a){Lb(a,b)},c)}function Ob(a,b,c){return Mb(a,function(a){Ib(a,b,!1)},c)}function Pb(a,b){return a.parentNode.replaceChild(b,a)}
function Qb(a){a.parentNode.removeChild(a)}function Rb(a,b){Lb(Pb(a,b),b)};function Sb(a){if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a&&a.nextSibling}function Tb(a){for(var b=a.previousSibling;b&&b.lastChild;)b=b.lastChild;return b||a.parentNode}function Ub(a,b,c,d){c=c||h.C;if(c(a))return null;do{a=d(a);if(!a||c(a))break;if(b(a))return a}while(a);return null}function Vb(a){return a.nextSibling}function Wb(a){return a.previousSibling}function Xb(a){return a.parentNode}function Yb(a,b,c,d){for(;a&&c(a,d);)a=b(a,d);return a}
function Zb(a,b,c,d,e){Yb(a,function(a){var d=c(a);b(a,e);return d},d,e)}function $b(a,b,c,d){Zb(a,b,Vb,h.ha(c),d)}function ac(a,b,c,d){Zb(a,b,Wb,h.ha(c),d)}function bc(a,b,c){$b(a,b,h.C,c)}function cc(a,b,c){x.t(a)&&bc(a.firstChild,function(a){cc(a,b,c)});b(a,c)}function dc(a,b){for(var c=[],d=a.parentNode;d&&!b(d);)c.push(d),d=d.parentNode;return c}function ec(a,b){var c=dc(a,b),d=c.length?c[c.length-1]:a;d.parentNode&&c.push(d.parentNode);return c}
function fc(a,b){if(b(a))return[];var c=dc(a,b);c.unshift(a);return c}function gc(a,b){if(b(a))return[a];var c=ec(a,b);c.unshift(a);return c}function hc(a,b){if(!a.previousSibling)return[];var c=[];ac(a.previousSibling,function(a){c.push(a)},b||h.C);return c.reverse()}function ic(a,b){if(!a.nextSibling)return[];var c=[];$b(a.nextSibling,function(a){c.push(a)},b||h.C);return c};function A(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent?a.attachEvent("on"+b,c):f.error()}function jc(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function kc(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}
var B={is:function(a){return a&&a.hasOwnProperty&&a.hasOwnProperty("type")&&!h.ca(a.stopPropagation)&&!h.ca(a.preventDefault)},add:A,remove:function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,!!d):a.detachEvent?a.detachEvent("on"+b,c):f.error()},Xe:function(a,b){A(a,"resize",b);A(a,"keyup",b);A(a,"keydown",b);A(a,"keypress",b);A(a,"click",b);A(a,"mouseup",b);A(a,"mousedown",b);A(a,"mousemove",b);A(a,"dblclick",b);A(a,"dragstart",b);A(a,"drag",b);A(a,"dragenter",b);A(a,"dragexit",b);
A(a,"dragleave",b);A(a,"dragover",b);A(a,"drop",b);A(a,"dragend",b);A(a,"paste",b)},va:function(a,b){return-1<a.meta.indexOf(b)},Pf:function(a,b,c){b.dispatchEvent?(a=a.createEvent("Event"),a.initEvent(c,!0,!0),b.dispatchEvent(a)):b.fireEvent?(a=a.createEventObject(),a.type=c,b.fireEvent("on"+c,a)):f.error()},Ie:function(a){setTimeout(a,4)},preventDefault:jc,stopPropagation:kc,cf:function(a){kc(a);jc(a)}};var lc={};function mc(a,b){var c=a.Cb,d=c.length;d<b.length&&(c=c.concat(b.slice(d)),a.Cb=c);return c}function nc(a,b){f.assert(!b||a.constructor===b,f.Oc);var c=a.kb;f.assert(0===c||2===c,f.nf)}function oc(a,b){f.assert(!b||a.constructor===b,f.Oc);f.assert(2===a.kb,f.qf)}function pc(a){oc(a);a.kb=1;return new a.constructor(a.Cb,lc)}function qc(a){nc(a);a=new a.constructor(a.Cb.slice(0),lc);a.kb=2;return a}
function rc(a,b){function c(b,c){f.assert(!a||b.constructor===a,f.Oc);f.assert(0===b.kb,f.mf);var m=e,n=d,p=new b.constructor(b.Cb.slice(0),lc);mc(p,n)[m]=c;return p}var d=a.ce,e=a.ce.length;d.push(b);c.setT=function(b,c){oc(b,a);var m=e,n=d,p=pc(b);p.kb=2;mc(p,n)[m]=c;return p};return k(function(b){nc(b,a);var c;c=e;var m=c=mc(b,d)[c];Array.isArray(m)&&m[0]===lc&&(3<c.length?m=c[3]:(m=c[1](c[2]),c[3]=m),c=m,mc(b,d)[e]=c);return c},c)}function sc(a,b,c){return b.set(a,c)}
function tc(a,b){return b.get(a)}function uc(a,b,c){return b.set.setT(a,c)}function vc(a,b,c,d){return sc(a,b,[lc,c,d])}function wc(a,b,c,d){return uc(a,b,[lc,c,d])}function xc(a,b){u.forEach(b,function(b,d){var e=rc(a,b);a.prototype[d]=k.F(e)})}function yc(a,b,c){var d=a.set,e=d.setT;c=c||function(a){return b(a.asPersistent()).asTransient()};a=k(a.get,function(a,c){a=d(a,c);return a=b(a)});a.set.setT=function(a,b){a=e(a,b);return a=c(a)};return a}
var zc={define:function(a,b){function c(a,g){if(g!==lc)return b(new c(d,lc),a);this.Cb=a;this.kb=0}h.is(a)&&(b=a,a=null);b=b||h.ad;var d=[];h.Tc(c,{asTransient:qc,asPersistent:pc,get:tc,set:sc,setT:uc,delay:vc,delayT:wc});c.Ra=h.c(rc,c);c.extend=h.c(xc,c);c.ce=d;a&&xc(c,a);return c},hookSetter:yc,hookSetterRecompute:function(a,b,c,d){return yc(a,function(a){return b.set(a,c(a))},d?function(a){return b.set.setT(a,d(a))}:null)}};var Ac=["\\u200B","\\u200C","\\u200D","\\uFEFF"],Bc=["\\u00A0","\\u202F"],Cc="\\u0009 \\u000A \\u000B \\u000C \\u000D \\u0020 \\u0085 \\u00A0 \\u1680 \\u180E \\u2000 \\u2001 \\u2002 \\u2003 \\u2004 \\u2005 \\u2006 \\u2007 \\u2008 \\u2009 \\u200A \\u2028 \\u2029 \\u202F \\u205F \\u3000".split(" "),Dc="A- Z a- z \u00aa \u00b5 \u00ba \u00c0- \u00d6 \u00d8- \u00f6 \u00f8- \u02c1 \u02c6- \u02d1 \u02e0- \u02e4 \u02ec \u02ee \u0370- \u0374 \u0376 \u0377 \u037a- \u037d \u0386 \u0388- \u038a \u038c \u038e- \u03a1 \u03a3- \u03f5 \u03f7- \u0481 \u048a- \u0525 \u0531- \u0556 \u0559 \u0561- \u0587 \u05d0- \u05ea \u05f0- \u05f2 \u0621- \u064a \u066e \u066f \u0671- \u06d3 \u06d5 \u06e5 \u06e6 \u06ee \u06ef \u06fa- \u06fc \u06ff \u0710 \u0712- \u072f \u074d- \u07a5 \u07b1 \u07ca- \u07ea \u07f4 \u07f5 \u07fa \u0800- \u0815 \u081a \u0824 \u0828 \u0904- \u0939 \u093d \u0950 \u0958- \u0961 \u0971 \u0972 \u0979- \u097f \u0985- \u098c \u098f \u0990 \u0993- \u09a8 \u09aa- \u09b0 \u09b2 \u09b6- \u09b9 \u09bd \u09ce \u09dc \u09dd \u09df- \u09e1 \u09f0 \u09f1 \u0a05- \u0a0a \u0a0f \u0a10 \u0a13- \u0a28 \u0a2a- \u0a30 \u0a32 \u0a33 \u0a35 \u0a36 \u0a38 \u0a39 \u0a59- \u0a5c \u0a5e \u0a72- \u0a74 \u0a85- \u0a8d \u0a8f- \u0a91 \u0a93- \u0aa8 \u0aaa- \u0ab0 \u0ab2 \u0ab3 \u0ab5- \u0ab9 \u0abd \u0ad0 \u0ae0 \u0ae1 \u0b05- \u0b0c \u0b0f \u0b10 \u0b13- \u0b28 \u0b2a- \u0b30 \u0b32 \u0b33 \u0b35- \u0b39 \u0b3d \u0b5c \u0b5d \u0b5f- \u0b61 \u0b71 \u0b83 \u0b85- \u0b8a \u0b8e- \u0b90 \u0b92- \u0b95 \u0b99 \u0b9a \u0b9c \u0b9e \u0b9f \u0ba3 \u0ba4 \u0ba8- \u0baa \u0bae- \u0bb9 \u0bd0 \u0c05- \u0c0c \u0c0e- \u0c10 \u0c12- \u0c28 \u0c2a- \u0c33 \u0c35- \u0c39 \u0c3d \u0c58 \u0c59 \u0c60 \u0c61 \u0c85- \u0c8c \u0c8e- \u0c90 \u0c92- \u0ca8 \u0caa- \u0cb3 \u0cb5- \u0cb9 \u0cbd \u0cde \u0ce0 \u0ce1 \u0d05- \u0d0c \u0d0e- \u0d10 \u0d12- \u0d28 \u0d2a- \u0d39 \u0d3d \u0d60 \u0d61 \u0d7a- \u0d7f \u0d85- \u0d96 \u0d9a- \u0db1 \u0db3- \u0dbb \u0dbd \u0dc0- \u0dc6 \u0e01- \u0e30 \u0e32 \u0e33 \u0e40- \u0e46 \u0e81 \u0e82 \u0e84 \u0e87 \u0e88 \u0e8a \u0e8d \u0e94- \u0e97 \u0e99- \u0e9f \u0ea1- \u0ea3 \u0ea5 \u0ea7 \u0eaa \u0eab \u0ead- \u0eb0 \u0eb2 \u0eb3 \u0ebd \u0ec0- \u0ec4 \u0ec6 \u0edc \u0edd \u0f00 \u0f40- \u0f47 \u0f49- \u0f6c \u0f88- \u0f8b \u1000- \u102a \u103f \u1050- \u1055 \u105a- \u105d \u1061 \u1065 \u1066 \u106e- \u1070 \u1075- \u1081 \u108e \u10a0- \u10c5 \u10d0- \u10fa \u10fc \u1100- \u1248 \u124a- \u124d \u1250- \u1256 \u1258 \u125a- \u125d \u1260- \u1288 \u128a- \u128d \u1290- \u12b0 \u12b2- \u12b5 \u12b8- \u12be \u12c0 \u12c2- \u12c5 \u12c8- \u12d6 \u12d8- \u1310 \u1312- \u1315 \u1318- \u135a \u1380- \u138f \u13a0- \u13f4 \u1401- \u166c \u166f- \u167f \u1681- \u169a \u16a0- \u16ea \u1700- \u170c \u170e- \u1711 \u1720- \u1731 \u1740- \u1751 \u1760- \u176c \u176e- \u1770 \u1780- \u17b3 \u17d7 \u17dc \u1820- \u1877 \u1880- \u18a8 \u18aa \u18b0- \u18f5 \u1900- \u191c \u1950- \u196d \u1970- \u1974 \u1980- \u19ab \u19c1- \u19c7 \u1a00- \u1a16 \u1a20- \u1a54 \u1aa7 \u1b05- \u1b33 \u1b45- \u1b4b \u1b83- \u1ba0 \u1bae \u1baf \u1c00- \u1c23 \u1c4d- \u1c4f \u1c5a- \u1c7d \u1ce9- \u1cec \u1cee- \u1cf1 \u1d00- \u1dbf \u1e00- \u1f15 \u1f18- \u1f1d \u1f20- \u1f45 \u1f48- \u1f4d \u1f50- \u1f57 \u1f59 \u1f5b \u1f5d \u1f5f- \u1f7d \u1f80- \u1fb4 \u1fb6- \u1fbc \u1fbe \u1fc2- \u1fc4 \u1fc6- \u1fcc \u1fd0- \u1fd3 \u1fd6- \u1fdb \u1fe0- \u1fec \u1ff2- \u1ff4 \u1ff6- \u1ffc \u2071 \u207f \u2090- \u2094 \u2102 \u2107 \u210a- \u2113 \u2115 \u2119- \u211d \u2124 \u2126 \u2128 \u212a- \u212d \u212f- \u2139 \u213c- \u213f \u2145- \u2149 \u214e \u2183 \u2184 \u2c00- \u2c2e \u2c30- \u2c5e \u2c60- \u2ce4 \u2ceb- \u2cee \u2d00- \u2d25 \u2d30- \u2d65 \u2d6f \u2d80- \u2d96 \u2da0- \u2da6 \u2da8- \u2dae \u2db0- \u2db6 \u2db8- \u2dbe \u2dc0- \u2dc6 \u2dc8- \u2dce \u2dd0- \u2dd6 \u2dd8- \u2dde \u2e2f \u3005 \u3006 \u3031- \u3035 \u303b \u303c \u3041- \u3096 \u309d- \u309f \u30a1- \u30fa \u30fc- \u30ff \u3105- \u312d \u3131- \u318e \u31a0- \u31b7 \u31f0- \u31ff \u3400- \u4db5 \u4e00- \u9fcb \ua000- \ua48c \ua4d0- \ua4fd \ua500- \ua60c \ua610- \ua61f \ua62a \ua62b \ua640- \ua65f \ua662- \ua66e \ua67f- \ua697 \ua6a0- \ua6e5 \ua717- \ua71f \ua722- \ua788 \ua78b \ua78c \ua7fb- \ua801 \ua803- \ua805 \ua807- \ua80a \ua80c- \ua822 \ua840- \ua873 \ua882- \ua8b3 \ua8f2- \ua8f7 \ua8fb \ua90a- \ua925 \ua930- \ua946 \ua960- \ua97c \ua984- \ua9b2 \ua9cf \uaa00- \uaa28 \uaa40- \uaa42 \uaa44- \uaa4b \uaa60- \uaa76 \uaa7a \uaa80- \uaaaf \uaab1 \uaab5 \uaab6 \uaab9- \uaabd \uaac0 \uaac2 \uaadb- \uaadd \uabc0- \uabe2 \uac00- \ud7a3 \ud7b0- \ud7c6 \ud7cb- \ud7fb \uf900- \ufa2d \ufa30- \ufa6d \ufa70- \ufad9 \ufb00- \ufb06 \ufb13- \ufb17 \ufb1d \ufb1f- \ufb28 \ufb2a- \ufb36 \ufb38- \ufb3c \ufb3e \ufb40 \ufb41 \ufb43 \ufb44 \ufb46- \ufbb1 \ufbd3- \ufd3d \ufd50- \ufd8f \ufd92- \ufdc7 \ufdf0- \ufdfb \ufe70- \ufe74 \ufe76- \ufefc \uff21- \uff3a \uff41- \uff5a \uff66- \uffbe \uffc2- \uffc7 \uffca- \uffcf \uffd2- \uffd7 \uffda- \uffdc".split(" "),
Ec=new RegExp("["+Cc.join("")+"]+"),Fc=Cc.join(""),Gc=Dc.join(""),Hc=/[\x00-\x1f\x7f-\x9f]/,Ic=new RegExp("^["+Fc+"]+|["+Fc+"]+$");function Jc(a){return""===a||null==a}
var C={splice:function(a,b,c,d){return a.substring(0,b)+(d||"")+a.substring(b+c)},ee:function(a){for(var b=a.split(Ec),c=q.X(arguments).slice(1),d=[],e=0;e<b.length;e++)b[e]&&d.push(b[e]);for(e=0;e<c.length;e++)c[e]&&d.push(c[e]);return d.join(" ")},Se:function(a){var b=a.split(Ec),c=q.X(arguments).slice(1);return q.sb(b,c).join(" ")},Td:function(a){return q.unique(a.split(Ec)).join(" ")},ff:function(a){a=a.trim().replace(Ic,"");return Jc(a)?[]:a.split(/\s+/g)},$e:function(a,b){for(var c=[],d=0,e;null!=
(e=b.exec(a));)d<e.index&&(c.push(a.substring(d,e.index)),d=e.index),d+=e[0].length,c.push(e[0]);d<a.length&&c.push(a.substring(d,a.length));return c},dc:function(){function a(a,b){return b.toUpperCase()}var b=/[\-]([a-z])/gi;return function(c){return c.replace(b,a)}}(),Cf:function(){function a(a){return"-"+a.toLowerCase()}var b=/[A-Z]/g;return function(c){return c.replace(b,a)}}(),La:Jc,ue:function(a){return Hc.test(a)},gf:Hc,of:new RegExp("["+Fc+Ac.join("")+Bc.join("")+"]"),Nc:new RegExp("[^"+Fc+
Ac.join("")+Bc.join("")+"]"),Pc:new RegExp("["+Cc.join("")+"]"),ae:Ec,uf:new RegExp("["+Ac.join("")+"]"),Xb:new RegExp("["+Bc.join("")+"]"),ac:new RegExp("[^"+Gc+"]"),be:new RegExp("[^"+Gc+"]["+Gc+"]*$"),sf:new RegExp("["+Gc+"]"),pf:Ic,bc:Ac,$b:Cc,tf:Dc,Yb:Bc};function Kc(a){var b={};a=a.attributes;for(var c=0,d=a.length;c<d;c++){var e=a[c];if("undefined"===typeof e.specified||e.specified)b[e.name]=e.value}return b}function Lc(a,b){a.removeAttribute(b)}function Mc(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)};function Nc(a){var b=q.X(arguments).slice(1);a.className=C.Td(C.ee.apply(null,[a.className].concat(b)))}function Oc(a){var b=q.X(arguments).slice(1);a.className=C.Td(C.Se.apply(null,[a.className].concat(b)))}function Pc(a,b){return x.t(a)&&0<=a.className.trim().split(C.ae).indexOf(b)}function Qc(a,b,c){!0===c?Nc(a,b):!1===c?Oc(a,b):Qc(a,b,Pc(a,b))};var Rc={attrs:Kc,get:function(a,b){return a.getAttribute(b)},Wf:function(a,b,c){return a.getAttributeNS(b,c)},has:function(a){return!u.jb(Kc(a)).every(C.La)},remove:Lc,wg:function(a){u.keys(Kc(a)).forEach(h.c(Lc,a))},Ag:function(a,b,c){null!=b?a.removeAttributeNS(b,c):a.removeAttribute(c)},set:Mc,Ig:function(a,b,c,d){null!=b?a.setAttributeNS(b,c,d):Mc(a,c,d)}},Sc={has:Pc,add:Nc,remove:Oc,toggle:Qc},Tc={append:Lb,g:function(a,b){for(var c;a&&b&&a.nodeName===b.nodeName&&!x.b(a);){c=b.firstChild;Kb(a,
c,null);Qb(b);if(!c)break;b=c;a=b.previousSibling}},ld:Kb,fb:function(a,b,c){return Mb(a,function(a){Jb(a,b);b=a},c)},Ob:Ob,move:Nb,za:function(a,b,c){return Mb(a,function(a){Lb(x.clone(a),b)},c)},Ea:Rb,Vd:function(a,b){var c=a.ownerDocument.createElement(b);Rb(a,c);return c},i:Ib,vb:Jb,replace:Pb,yb:function(a,b){Nb(x.children(a),b);return Pb(a,b)},remove:Qb,wa:function(a){Ob(x.children(a),a);Qb(a)},Fd:function(a){x.children(a).forEach(Qb)}},Uc={set:function(a,b,c){b=C.dc(b);a=a.style;b in a&&(a[b]=
c)},get:function(a,b){b=C.dc(b);return a.style[b]},remove:function(a,b){a.style.removeProperty(b);C.La(a.getAttribute("style"))&&a.removeAttribute("style")},getComputedStyle:function(a,b){var c=a.ownerDocument;return c&&c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b):a.currentStyle?(b=C.dc(b),a.currentStyle[b]):null},Xc:function(a,b){var c={},d=a.ownerDocument;if(d&&d.defaultView&&d.defaultView.getComputedStyle){var e=d.defaultView.getComputedStyle(a,
null);e&&b.forEach(function(a){c[a]=e[a]||e.getPropertyValue(a)})}else a.currentStyle&&b.forEach(function(b){c[b]=a.currentStyle[b]});return c}},D={Sb:function(a,b){return q.X(b.querySelectorAll(a))},Pa:function(a,b,c,d){c=c||h.Hc;d=d||h.C;for(var e=a;e;)if(a=b?e.previousSibling:e.nextSibling){if(d(a))return null;if(c(a))return a;e=a}else{if(!e.parentNode||d(e.parentNode))return null;e=e.parentNode}},qd:$b,v:function(a,b,c){return Yb(a,Vb,b,c)},nextSibling:Vb,xb:ic,Ad:ac,J:function(a,b,c){return Yb(a,
Wb,b,c)},w:Wb,Qb:hc,vc:function(a,b){return b&&b(a)?[]:hc(a,b).concat(a)},na:function(a,b){return b&&b(a)?[]:[a].concat(ic(a,b))},yc:function(a,b){return a===b?[a]:[a].concat(ic(a,function(a){return a===b}),b)},Qa:bc,Bb:cc,Wb:function(a,b,c,d){$b(a,b,function(a){return a===c},d)},forward:Sb,ya:Tb,Wc:function(a,b,c){return Ub(a,b,c,Sb)},Vc:function(a,b,c){return Ub(a,b,c,Tb)},r:function(a,b){return Yb(a,Xb,b)},Ja:function(a,b,c,d){Zb(a,b,Xb,h.ha(c),d)},Ia:fc,Ta:gc,pb:function(a,b){return fc(a,function(a){return a===
b})},ob:function(a,b){return gc(a,function(a){return a===b})},vd:dc,wd:ec,Hb:function(a,b){var c=!1;do!c&&a.firstChild?a=a.firstChild:a.nextSibling?(a=a.nextSibling,c=!1):(a=a.parentNode,c=!0);while(!b(a,c));return a},Db:function(a,b){var c=!0;do!c&&a.lastChild?a=a.lastChild:a.previousSibling?(a=a.previousSibling,c=!1):(a=a.parentNode,c=!0);while(!b(a,c));return a}},Vc=fa;
function Wc(a){if(!x.t(a))return!1;if("true"===a.getAttribute("contentEditable")||Sc.has(a,"aloha-editable"))return!0;a=a.Jh;if(!a)return!1;if(a.nodeType===x.Nodes.DOCUMENT&&"on"===a.designMode)return!0}function Xc(a){if(!x.t(a))return!1;var b=a.getAttribute("contentEditable");return"true"===b||""===b?!0:"false"===b?!1:Sc.has(a,"aloha-editable")?!0:(a=a.parentNode)?a.nodeType===x.Nodes.DOCUMENT&&"on"===a.designMode?!0:Xc(a):!1}function Yc(a){return Xc(x.b(a)?a.parentNode:a)}
var Zc=window.XMLSerializer&&new window.XMLSerializer,$c=0;function ad(a){return a.defaultView||a.parentWindow}function bd(a,b){for(var c=a[b],d=a.offsetParent;d;)c+=d[b],d=d.offsetParent;return c}
var E={Nodes:x.Nodes,offset:x.offset,W:x.W,clone:x.clone,text:x.text,children:x.children,fa:x.fa,Dc:x.Dc,u:x.u,q:x.q,Yc:x.Yc,oa:x.oa,Ac:x.Ac,zc:x.zc,Gc:x.Gc,Bc:x.Bc,we:function(a){return/^\[object (Text|Comment|HTML\w*Element)\]$/.test(Object.prototype.toString.call(a))},b:x.b,t:x.t,pc:x.pc,Kb:x.Kb,isSameNode:x.isSameNode,j:x.j,contains:x.contains,ta:x.ta,Zc:x.Zc,Fc:x.Fc,append:Tc.append,g:Tc.g,ld:Tc.ld,Ob:Tc.Ob,fb:Tc.fb,move:Tc.move,za:Tc.za,Ea:Tc.Ea,Vd:Tc.Vd,i:Tc.i,vb:Tc.vb,replace:Tc.replace,yb:Tc.yb,
remove:Tc.remove,wa:Tc.wa,Fd:Tc.Fd,addClass:Sc.add,removeClass:Sc.remove,Qg:Sc.toggle,hasClass:Sc.has,attrs:Rc.attrs,ba:Rc.get,pe:Rc.Wf,lc:Rc.has,Dd:Rc.remove,xg:Rc.Ag,yg:Rc.wg,qa:Rc.set,Kd:Rc.Ig,Te:Uc.remove,h:Uc.set,K:Uc.get,getComputedStyle:Uc.getComputedStyle,Xc:Uc.Xc,Sb:D.Sb,Pa:D.Pa,v:D.v,qd:D.qd,nextSibling:D.nextSibling,xb:D.xb,J:D.J,Ad:D.Ad,w:D.w,Qb:D.Qb,na:D.na,vc:D.vc,yc:D.yc,Qa:D.Qa,Bb:D.Bb,Wb:D.Wb,forward:D.forward,ya:D.ya,Wc:D.Wc,Vc:D.Vc,r:D.r,Ja:D.Ja,Ia:D.Ia,Ta:D.Ta,pb:D.pb,ob:D.ob,
vd:D.vd,wd:D.wd,Hb:D.Hb,Db:D.Db,Jd:function(a){return Zc.serializeToString(a)},ia:function(a){return a["!aloha-expando-node-id"]=a["!aloha-expando-node-id"]||++$c},Tf:function(a){a.removeAttribute("unselectable","on");Uc.set(a,Vc.Ga+"user-select","all");a.onselectstart=null},Of:function(a){a.removeAttribute("unselectable","on");Uc.set(a,Vc.Ga+"user-select","none");a.onselectstart=h.C},ed:Xc,cb:Yc,e:Wc,isContentEditable:function(a){return x.t(a)&&"true"===a.contentEditable},ec:ad,Gb:function(a){if(Wc(a))return a;
if(!Yc(a))return null;for(a=a.parentNode;a&&!Wc(a);)a=a.parentNode;return a},Sf:function(a){for(a=a.parentNode;a&&!Xc(a);)a=a.parentNode;return a},scrollTop:function(a){var b=ad(a);if(!h.ca(b.pageYOffset))return b.pageYOffset;b=a.documentElement;return(b.clientHeight?b:a.body).scrollTop},scrollLeft:function(a){var b=ad(a);if(!h.ca(b.pageXOffset))return b.pageXOffset;b=a.documentElement;return(b.clientWidth?b:a.body).scrollLeft},Ha:function(a){return bd(a,"offsetTop")},vf:function(a){return bd(a,"offsetLeft")}};var cd=0;function dd(a){return a.nodeType}function ed(a){a=a.childNodes;for(var b=[],c=0,d=a.length;c<d;c++)b.push(F(a[c]));return b}function fd(a){return a.nodeName}function gd(a){return a.data}
var hd={realize:E.attrs,get:ob.Be(E.ba)},id={realize:f.Cc,get:ob.Be(E.K)},F=zc.define({domNode:null,type:null,name:null,text:null,classes:{},children:null,affinity:3},function(a,b){var c=a.asTransient();if(b)if(b.nodeType)var d=ob(hd,b),e=ob(id,b),c=c.setT(c.domNode,b),c=c.delayT(c.type,dd,b),c=c.delayT(c.name,fd,b),c=c.delayT(c.text,gd,b),c=c.delayT(c.children,ed,b),c=c.setT(jd,d),c=c.setT(kd,e),c=c.asPersistent(),c=c.asTransient().delayT(ld,md,c);else if(h.ca(b.text))if(h.ca(b.name))f.error(f.eh);
else{f.cc(b.text);f.cc(b.nodeType);var d=b.name,e=b.attrs||{},g=b.Oh||{},l=b.children||[],m=b.affinity||3;f.assert(h.ca(e.style),f.Zb);c=c.setT(c.domNode,b.domNode);c=c.setT(c.type,1);c=c.setT(c.name,d);c=c.setT(c.children,l);c=c.setT(c.affinity,m);c=c.setT(jd,ob.Pe(e));c=c.setT(kd,ob.Pe(g))}else f.cc(b.name),f.cc(b.nodeType),d=b.affinity||3,c=c.setT(c.domNode,b.domNode),c=c.setT(c.type,3),c=c.setT(c.text,b.text),c=c.setT(c.affinity,d);c=c.setT(nd,++cd);c=c.setT(od,1);a=c.asPersistent();return a=
pd.set(a,a)}),ld=F.prototype.classes,pd=F.Ra(),nd=F.Ra(),jd=F.Ra(),kd=F.Ra(),qd=F.Ra(),rd=F.Ra(),od=F.Ra();function sd(a,b,c){var d=od.get(a);d&1&&b!==(d&b)&&(a=c(a,d|b));return a}function td(a,b){return zc.hookSetter(a,function(a){return sd(a,b,od.set)},function(a){return sd(a,b,od.set.setT)})}function ud(a){f.assert(1===a.type.get(a),f.jf)}function vd(a,b,c,d){return(a=a.get(c))&&a.hasOwnProperty(d)?a[d]:b.get(c).get(d)}
function wd(a,b,c,d,e){var g=a.get(c),g=u.Qc(g||{},d,e);c=c.asTransient();c=c.setT(a,g);c=sd(c,b,od.set.setT);return c.asPersistent()}function xd(a,b){ud(a);f.assert("style"!==b,f.Zb);return vd(qd,jd,a,b)}function yd(a,b,c,d){var e=pd.get(a),e=b.set(e,c);return d(a,e)}function zd(a,b){var c=pd.get(a);return b.get(c)}function Ad(a,b,c){u.forEach(b,function(b,e){c(a,e,b)})}
function Bd(a,b,c,d){var e=a.get(d);if(!e)return d;var g=d.domNode.get(d);Ad(g,e,c);c=b.get(d).mergeObject(e,!0);d=d.asTransient();d=d.setT(a,null);d=d.setT(b,c);return d.asPersistent()}var Cd=h.c(Bd,qd,jd,E.qa),Dd=h.c(Bd,rd,kd,E.h);function Ed(a,b){var c=a.name.get(a),d=a.attrs.get(a),c=b.createElement(c);Ad(c,d,E.qa);d=jd.get(a);E.qa(c,"style",d.get("style"));d=rd.get(a);Ad(c,d,E.h);return c}
function Fd(a,b,c,d,e,g){b=d<b.length?b[d]:null;d=c;var l=d.type.get(d);1===l?d=Ed(d,e):3===l?d=e.createTextNode(d.text.get(d)):(f.Cc(),d=void 0);a.insertBefore(d,b);c=c.asTransient();c=c.setT(c.domNode,d);c=c.setT(nd,++cd);c=yd(c,c.children,[],pd.set.setT);c=c.setT(od,od.get(c)|32);c=c.asPersistent();return c=Gd(c,e,g)}function Hd(a){var b={};a.forEach(function(a){b[nd.get(a)]=!0});return b}
function Id(a,b){if(b===a)return null;for(var c,d,e=null,g=0,l=0,m=a.length,n=b.length,p=[],s=!1;g<m&&l<n;){c=a[g];d=b[l];var t=nd.get(c),y=nd.get(d);t===y?(c===d?c=0:(s=!0,c=4),g+=1,l+=1):(e=e||Hd(b),e[t]?(s=!0,c=1,l+=1):(s=!0,c=2,g+=1));p.push(c)}for(;g<m;g++)s=!0,p.push(2);for(;l<n;l++)s=!0,p.push(1);return s?p:null}
function Jd(a,b,c){var d=a.children.get(a),e=zd(a,a.children),g=Id(e,d);if(!g)return a;var l=a.domNode.get(a),m=l.childNodes,n=[],p=0,s=0,t=0;g.forEach(function(g){var z;g&1?(z=d[s],s+=1):(g&2?z=e[p]:(z=d[s],s+=1),p+=1);var aa=z.affinity.get(z),X=zd(a,a.affinity);(aa&1)!==(X&1)?aa&1&&!(g&2)?(z=Fd(l,m,z,t,b,c),t+=1):g&1||l.removeChild(m[t]):aa&1&&(g&1?(z=Fd(l,m,z,t,b,c),t+=1):g&2?l.removeChild(m[t]):(g&4&&(z=Gd(z,b,c)),t+=1));g&2||n.push(z)});a=a.set(a.children,n);return a=yd(a,a.children,n,pd.set)}
function Gd(a,b,c){var d=a.type.get(a),e=od.get(a);1===d?(e&2&&(f.Cc(),a=void 0),e&8&&(a=Cd(a)),e&16&&(a=Dd(a)),e&32&&(a=Jd(a,b,c))):3===d&&e&4&&(b=a.text.get(a),a.domNode.get(a).data=b,a=yd(a,a.text,b,pd.set));return a}function Kd(a,b){var c;1===a.type()?(c=Ed(a,b),a.children().forEach(function(a){c.appendChild(Kd(a,b))})):3===a.type()?c=b.createTextNode(a.text.get(a)):f.Cc();return c}function md(a){a=xd(a,"class");return h.ca(a)?{}:u.Uc({},C.ff(a),!0)}
function Ld(a){var b=u.keys(a.get(a.classes)).join(" ");return wd(qd,8,a,"class",b)}var Md=td(F.prototype.name,2),Nd=td(F.prototype.text,4),Od=td(F.prototype.children,32),Pd=td(F.prototype.affinity,64);
u.extend(F.prototype,{name:k.F(Md),text:k.F(Nd),children:k.F(Od),affinity:k.F(Pd),attrs:k.F(k(function(a){ud(a);var b=jd.get(a);a=qd.get(a);b=b.realize();b=u.extend({},b,a);b=u.filter(b,h.ha(h.ca));delete b.style;return b},function(a,b){ud(a);f.assert(h.ca(b.style),f.Zb);var c=jd.get(a),c=u.Uc({},c.keys(),null),c=u.extend(c,b);delete c.style;a=a.asTransient();a=sd(a,8,od.set.setT);a=a.setT(qd,c);return a.asPersistent()})),attr:k.F(k(xd,function(a,b,c){ud(a);f.assert("style"!==b,f.Zb);a=wd(qd,8,a,
b,c);"class"===b&&(a=a.set(ld,md(a)));return a})),style:k.F(k(function(a,b){ud(a);return vd(rd,kd,a,b)},function(a,b,c){ud(a);return wd(rd,16,a,b,c)})),updateDom:h.F(function(a){var b=a.domNode.get(a).ownerDocument;f.assert(b,f.hf);return Gd(a,b,{})}),asDom:h.F(Kd),create:F,hasClass:h.F(function(a,b){return a.get(a.classes)[b]}),addClass:h.F(function(a,b){var c=a.get(a.classes);if(c[b])return a;c=u.Qc(c,b,!0);return a=a.set(a.classes,c)}),removeClass:h.F(function(a,b){var c=a.get(a.classes);if(!c[b])return a;
c=u.le(c,b);return a=a.set(a.classes,c)})});F.prototype.attrs=k.F(zc.hookSetterRecompute(F.prototype.attrs,ld,md,md));F.prototype.classes=k.F(zc.hookSetter(ld,Ld,Ld));F.Zg=1;F.bh=2;F.ah=4;F.$g=0;F.Wg=1;F.Xg=2;F.Vg=3;F.oh=Id;F.ELEMENT=1;F.TEXT=3;var Qd=F;var Rd={BR:!0,HR:!0,IMG:!0},Sd={LI:!0,DT:!0,DD:!0},Td={inline:!0,"inline-block":!0,"inline-table":!0,none:!0};function Ud(a){if(!a)return!1;switch(a.nodeType){case E.Nodes.DOCUMENT:case E.Nodes.DOCUMENT_FRAGMENT:return!0;case E.Nodes.ELEMENT:var b=E.getComputedStyle(a,"display");return b?!Td[b]:r.Ba(a);default:return!1}}
var Vd={"background-color":!0,underline:!0},G={gd:function(a){return!Vd[a]},tc:function(a){return"pre"===a||"pre-wrap"===a||"-moz-pre-wrap"===a},Jb:Ud,ab:function(a){return!Ud(a)},d:function(a){return Rd[a.nodeName]||Sd[a.nodeName]||Ud(a)}};var Wd=".\u272a{outline:5px solid #fce05e;}.\u272a *{border:1px solid rgba(0,0,0,0.1)}"+function(a,b,c){b=b||"";c=c||"";return a.map(function(a){return b+a+c}).join(",")}(["p","div","table","ol","ul"].concat("h1 h2 h3 h4 h5 h6".split(" ")),".\u272a ")+'{border-style:dotted;border-width:2px}.\u272a b    {border-color:#f47d43}.\u272a i    {border-color:#82b5e0}.\u272a u    {border-color:#bb94b7}.\u272a s    {border-color:#3b94b7}.\u272a span {border-color:#bb94b7}.\u272a code {border-color:#999999}.\u272a pre  {border-color:#999999}.\u272a ul   {border-color:#91c9cf}.\u272a ol   {border-color:#91c9cf}.\u272a p    {border-color:#bdd74b}.\u272a h1,.\u272a h2,.\u272a h3,.\u272a h4,.\u272a h5,.\u272a h6 {border-color:#f47d43}.\u272a br,.\u272a br:before{content:"\u21b5" !important;white-space:initial !important;line-height:inherit !important;font-size:inherit !important;font-style:normal !important;font-weight:700 !important;left:0 !important;top:0 !important;border:0;opacity:.5;}.\u272a br:after {content:"\\A" !important;white-space:pre-line}.\u272a\u272a *{position:relative}.\u272a\u272a *::before{position:absolute;top:-2px;left:-2px;line-height:8px;font-size:8px;font-weight:bold;font-style:normal;letter-spacing:0.5px;background:#fff;color:#111;opacity:0.5}.\u272a\u272a td::before{content:"TD"}.\u272a\u272a th::before{content:"TH"}.\u272a\u272a a::before{content:"A"}.\u272a\u272a b::before{content:"B"}.\u272a\u272a i::before{content:"I"}.\u272a\u272a u::before{content:"U"}.\u272a\u272a s::before{content:"S"}.\u272a\u272a p::before{content:"P"}.\u272a\u272a ul::before{content:"UL"}.\u272a\u272a ol::before{content:"OL"}.\u272a\u272a li::before{content:"LI"}.\u272a\u272a h1::before{content:"H1"}.\u272a\u272a h2::before{content:"H2"}.\u272a\u272a h3::before{content:"H3"}.\u272a\u272a h4::before{content:"H4"}.\u272a\u272a h5::before{content:"H5"}.\u272a\u272a h6::before{content:"H6"}.\u272a\u272a div::before{content:"DIV"}.\u272a\u272a sup::before{content:"SUP"}.\u272a\u272a sub::before{content:"SUB"}.\u272a\u272a pre::before{content:"PRE"}.\u272a\u272a span::before{content:"SPAN"}.\u272a\u272a code::before{content:"CODE"}.\u272a\u272a\u272a{padding:10px}.\u272a\u272a\u272a *{padding:2px 4px;margin:2px}',
Xd={toggle:function(a,b){if(!a.ownerDocument.querySelector("style#aloha-metaview")){var c=a.ownerDocument,d=c.createElement("style");E.qa(d,"id","aloha-metaview");E.append(d,c.head);E.append(c.createTextNode(Wd),d)}b=b||{};b.outline?E.addClass(a,"\u272a"):E.removeClass(a,"\u272a");b.tagname?E.addClass(a,"\u272a\u272a"):E.removeClass(a,"\u272a\u272a");b.padding?E.addClass(a,"\u272a\u272a\u272a"):E.removeClass(a,"\u272a\u272a\u272a")}};function Yd(a,b,c,d){var e=a.ownerDocument.createRange();e.setStart(a,b||0);c?e.setEnd(c,d||0):e.setEnd(a,b||0);return e}function Zd(a,b,c,d,e,g){b.setStart(a,c);b.setEnd(a,c);var l=q.m(b.getClientRects());return(g=l?{left:g||l.left,right:l.right,bottom:l.bottom}:null)&&e<g.bottom&&d>=g.left&&d<=g.right?(g.right-d>d-g.left&&c--,{node:a,index:c}):c<a.length?Zd(a,b,++c,d,e,g?g.left:null):null}
function $d(a,b,c,d){if(E.b(a)){var e=Zd(a,b,0,c,d);if(e)return e}else if(b.setEndAfter(a),(e=q.m(b.getClientRects()))&&d<e.bottom&&c>=e.left&&c<=e.right)return{node:a.parentNode,index:E.u(a)};return a.nextSibling?$d(a.nextSibling,b,c,d):{node:a.parentNode,index:E.u(a)}}function ae(a){a=E.ed(a)?E.Gb(a):a;a=E.r(a,function(a){return a.parentNode&&!E.ed(a.parentNode)});return E.Nodes.DOCUMENT===a.nodeType?null:a}
var be={is:function(a){return a&&a.hasOwnProperty&&a.hasOwnProperty("commonAncestorContainer")&&a.hasOwnProperty("collapsed")&&a.hasOwnProperty("startContainer")&&a.hasOwnProperty("startOffset")},j:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset},create:Yd,aa:function(a,b,c){a-=E.scrollLeft(c);b-=E.scrollTop(c);var d;d=a;if(0>d||0>b)d=null;else if(c.caretRangeFromPoint)d=c.caretRangeFromPoint(d,b);
else if(c.caretPositionFromPoint)d=c.caretPositionFromPoint(d,b),d=Yd(d.offsetNode,d.offset);else if(c.elementFromPoint){var e=c.elementFromPoint(d,b),g=c.createRange(),l={node:e.firstChild,index:-1};g.selectNodeContents(e);g.collapse(!0);l=l.node?$d(l.node,g,d,b):{node:e.parentNode,index:E.u(e)};d=Yd(l.node,l.index)}else throw"fromPoint() unimplemented for this browser";if(!d)return null;if(E.cb(d.commonAncestorContainer))return d;d=ae(d.commonAncestorContainer);if(!d||!d.parentNode)return null;
c=c.body;b=E.offset(d);e=E.u(d);a+c.scrollLeft>b.left+c.scrollLeft+d.offsetWidth&&(e+=1);return Yd(d.parentNode,e)}};function ce(a,b){return[a,b]}function de(a){return ce(a.parentNode,E.u(a))}function ee(a){return ce(a.parentNode,E.u(a)+1)}function fe(a){return[a,0]}function ge(a){return ce(a,E.q(a))}function he(a){var b=a[0];if(E.b(b)){f.ge(b.parentNode);var c=a[1];if(0===c)return de(b);if(c>=E.q(b))return ee(b)}return a}function ie(a,b){f.assert(-1<b,"Boundaries.create(): Offset must be 0 or greater");return he([a,b])}function je(a,b){b=he(b);a.setStart(b[0],b[1])}
function le(a,b){b=he(b);a.setEnd(b[0],b[1])}function ne(a,b,c){je(a,b);le(a,c)}function oe(a){return ie(a.startContainer,a.startOffset)}function pe(a){return ie(a.endContainer,a.endOffset)}function qe(a){return[oe(a),pe(a)]}function re(a){return 0===he(a)[1]}function se(a){a=he(a);return a[1]===E.q(a[0])}function te(a){return 0===a[1]}function ue(a){return a[1]===E.q(a[0])}function ve(a){return E.b(a[0])}function we(a){a=he(a);return se(a)?null:E.fa(a[0],a[1])}
function xe(a){a=he(a);return re(a)?null:E.fa(a[0],a[1]-1)}function ye(a){a=he(a);return we(a)||a[0]}function ze(a){return ee(ye(a))}function Ae(a){a=he(a);var b=a[0];if(E.b(b)||re(a))return de(b);b=E.fa(b,a[1]-1);return E.b(b)?de(b):ge(b)}function Be(a){a=he(a);var b=a[0],c=a[1];if(E.b(b)||se(a))return ze(a);a=E.fa(b,c);return E.b(a)?ee(a):[a,0]}function Ce(a,b,c){for(;b(a);)a=c(a);return a}function De(a,b){return be.create(a[0],a[1],b[0],b[1])}
var H={is:function(a){return q.is(a)&&E.we(a[0])&&"number"===typeof a[1]},get:function(a){a=a.getSelection();return 0<a.rangeCount?qe(a.getRangeAt(0)):null},select:function(a,b){b||(b=a);var c=De(a,b),d=c.commonAncestorContainer.ownerDocument.getSelection();d.removeAllRanges();d.addRange(c)},O:ce,create:ie,normalize:he,j:function(a,b){return a[0]===b[0]&&a[1]===b[1]},a:function(a){return a[0]},offset:function(a){return a[1]},document:function(a){return a[0].ownerDocument},N:De,tb:qe,ub:function(a){a=
a||[];return q.Ce(a,qe)},ua:oe,$a:pe,$:de,ic:ee,Ib:fe,Ka:ge,aa:function(a,b,c){return(a=be.aa(a,b,c))&&qe(a)[0]},Jc:ne,zb:function(a,b){q.xd(b,2).forEach(function(b,d){ne(a[d],b[0],b[1])})},Md:je,Ld:le,H:re,k:se,Fh:te,Eh:ue,da:ve,Y:function(a){return!ve(a)},next:Be,l:Ae,nd:function(a){var b=a[0];return ue(a)?ee(b):ve(a)?ge(b):fe(E.fa(b,a[1]))},yd:function(a){var b=a[0];if(te(a))return de(b);if(ve(a))return[b,0];b=E.fa(b,a[1]-1);return ge(b)},uc:ze,v:function(a,b){return Ce(a,b,Be)},J:function(a,b){return Ce(a,
b,Ae)},Rd:Ce,Ug:function(a,b,c,d){for(;a&&b(a);)d(a),a=c(a)},nextNode:ye,o:function(a){a=he(a);return xe(a)||a[0]},Z:we,pa:xe,ga:function(a,b){return De(a,b).commonAncestorContainer}};function I(a,b){this.node=a;this.atEnd=b}function Ee(a,b){return new I(a,b)}function Fe(a,b){return Ee(E.oa(a,b),H.k(H.O(a,b)))}ca=I.prototype;ca.next=function(){var a=this.node,b;if(this.atEnd||!E.t(a)){if(b=a.nextSibling)this.atEnd=!1;else{b=a.parentNode;if(!b)return!1;this.atEnd=!0}this.node=b}else(b=a.firstChild)?this.node=b:this.atEnd=!0;return!0};
ca.l=function(){var a=this.node,b;if(this.atEnd)(b=a.lastChild)?(this.node=b,E.t(b)||(this.atEnd=!1)):this.atEnd=!1;else{if(b=a.previousSibling)E.t(b)&&(this.atEnd=!0);else if(b=a.parentNode,!b)return!1;this.node=b}return!0};ca.Ye=function(){var a=this.w();return a?(this.node=a,this.atEnd=!1,!0):this.l()};ca.Od=function(){if(this.atEnd)return this.next();this.atEnd=!0;return this.next()};ca.v=function(a){for(;a(this);)if(!this.next())return!1;return!0};
ca.J=function(a){for(;a(this);)if(!this.l())return!1;return!0};ca.parent=function(){return this.atEnd?this.node:this.node.parentNode};ca.w=function(){return this.atEnd?this.node.lastChild:this.node.previousSibling};ca.nextSibling=function(){return this.atEnd?null:this.node.nextSibling};ca.j=function(a){return a.node===this.node&&a.atEnd===this.atEnd};ca.hb=function(a){this.node=a.node;this.atEnd=a.atEnd};ca.clone=function(){return Ee(this.node,this.atEnd)};
ca.i=function(a){return E.i(a,this.node,this.atEnd)};I.prototype.next=I.prototype.next;I.prototype.prev=I.prototype.l;I.prototype.skipPrev=I.prototype.Ye;I.prototype.skipNext=I.prototype.Od;I.prototype.nextWhile=I.prototype.v;I.prototype.prevWhile=I.prototype.J;I.prototype.parent=I.prototype.parent;I.prototype.prevSibling=I.prototype.w;I.prototype.nextSibling=I.prototype.nextSibling;I.prototype.equals=I.prototype.j;I.prototype.setFrom=I.prototype.hb;I.prototype.clone=I.prototype.clone;
I.prototype.insert=I.prototype.i;function Ge(a,b){b.atEnd?a.setStart(b.node,E.q(b.node)):a.setStart(b.node.parentNode,E.u(b.node));return a}function He(a,b){b.atEnd?a.setEnd(b.node,E.q(b.node)):a.setEnd(b.node.parentNode,E.u(b.node));return a}var Ie={cursor:Ee,qb:Fe,create:Ee,Jf:Fe,Ve:function(a,b,c){b&&Ge(a,b);c&&He(a,c);return a},Md:Ge,Ld:He,ib:function(a){return a.atEnd?H.create(a.node,E.q(a.node)):H.create(a.node.parentNode,E.u(a.node))}};function Je(a){if(!E.b(a))return!1;if(!a.length)return!0;if(C.Nc.test(a.nodeValue)||C.Xb.test(a.nodeValue))return!1;var b;return a.parentNode&&(b=E.getComputedStyle(a.parentNode,"white-space"),G.tc(b))?!1:"pre-line"===b&&/[\r\n]/.test(a.data)?!1:!0}var Ke={BR:!0,HR:!0,IMG:!0};function Le(a){return Je(a.node)||E.t(a.node)&&G.ab(a.node)&&!Ke[a.node]}function Me(a){var b=a.clone();b.v(Le);if(!G.d(b.node))return!1;a.hb(b);return!0}
function Ne(a){var b=a.clone();b.l();b.J(Le);if(!G.d(b.node))return!1;var c="BR"===b.node.nodeName;b.next();if(c&&(c=a.clone(),Me(c)&&c.atEnd)){b.Ye();b.J(Le);if(!G.d(b.node))return!1;b.next()}a.hb(b);return!0}function Oe(a){var b=a.parentNode;return b&&(a===b.firstChild||a===b.lastChild)}function Pe(a){return a.previousSibling&&r.Ba(a.previousSibling)||a.nextSibling&&r.Ba(a.nextSibling)}
function Qe(a){return!r.Da(a)&&!r.f(a)&&0===E.q(a)||a.firstChild&&!E.v(a.firstChild,Qe)?!0:Je(a)?Oe(a)?E.b(a)?!E.Pa(a,!1,function(a){return r.Na(a)&&!Qe(a)},function(a){return G.d(a)||E.e(a)}):!1:Pe(a)||Me(Ie.create(a,!1))||Ne(Ie.create(a,!1)):"BR"===a.nodeName&&Oe(a)&&G.d(a.parentNode)&&(a.nextSibling&&"BR"===a.nextSibling.nodeName||a.previousSibling&&"BR"===a.previousSibling.nodeName||a.nextSibling&&E.v(a.nextSibling,Qe)||a.previousSibling&&E.J(a.previousSibling,Qe))?!0:!1}
function Re(a){return!Qe(a)}
var J={parse:function(a,b){var c=(b.implementation&&b.implementation.createHTMLDocument?b.implementation.createHTMLDocument():b).createElement("DIV");c.innerHTML=a;c=q.X(c.childNodes);c.forEach(E.remove);return c},M:function(a){return r.Da(a)||!E.cb(a)},s:Re,L:Qe,eb:function(a){return Je(a)?Me(Ie.cursor(a,!1))||Ne(Ie.cursor(a,!1)):!1},Hh:Je,hg:function(a){var b=a.parentNode;if("BR"!==a.nodeName||!b||!G.d(b))return!1;b=E.children(b).filter(Re);return 1===b.length&&a===b[0]},Ze:Me,Kg:Ne};var Se={8:"backspace",9:"tab",12:"f1",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",23:"end",24:"home",27:"escape",32:"space",33:"pageUp",34:"pageDown",37:"left",38:"up",39:"right",40:"down",46:"delete",65:"selectAll",66:"bold",73:"italic",85:"underline",90:"undo",91:"meta"},Te={};u.forEach(Se,function(a,b){Te[a]=parseInt(b,10)});
function Ue(a){var b=[];a.altKey&&Te.alt!==a.which&&b.push("alt");a.ctrlKey&&Te.ctrl!==a.which&&b.push("ctrl");a.metaKey&&b.push("meta");a.shiftKey&&Te.shift!==a.which&&b.push("shift");return{meta:b.join("+"),keycode:a.which,key:Se[a.which],chr:String.fromCharCode(a.which).toLowerCase()}}
var Ve={Fa:Te,Zd:{keyup:!0,keydown:!0,keypress:!0},Xd:{37:"left",38:"up",39:"right",40:"down"},n:function(a){var b=Ue(a.nativeEvent);a.meta=b.meta;a.keycode=a.keycode||b.keycode;return a},Nd:function(a,b,c){b=46>=b||91<=b?Se[b]||b:String.fromCharCode(b).toLowerCase();return c[a?a+"+"+b:b]||c["*+"+b]||null},parseKeys:Ue};var We={n:function(a){"mousedown"===a.type&&(a.selection.formatting=[],a.selection.overrides=[]);return a},Zd:{mouseup:!0,mousedown:!0,mousemove:!0,dblclick:!0,dragstart:!0,dragover:!0,dragend:!0}};var K={j:function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(b[c]!==a[c])return!1;return!0},ib:function(a,b){var c=b.slice(0,-1).reduce(function(a,b){return a.childNodes[b]||a},a);return H.O(c,q.m(b)||0)},D:function(a,b){var c=H.offset(b),d=H.a(b);if(d===a)return[c];c=E.pb(d,a).reduce(function(a,b){return a.concat(E.u(b))},[c]);c.reverse();return c}};var Xe={A:!0,ABBR:!0,B:!0,CITE:!0,CODE:!0,DEL:!0,EM:!0,I:!0,INS:!0,S:!0,SMALL:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,U:!0,"#text":!0},Ye=C.bc.join(""),Ze=q.sb(C.$b,C.Yb).join(""),$e=new RegExp("["+Ze+"]+["+Ye+"]*$"),af=new RegExp("[^"+Ze+"]["+Ze+Ye+"]*$"),bf=new RegExp("[^"+Ze+Ye+"]"),cf=new RegExp("[^"+Ye+"]");function df(a,b,c){return E.Pa(a,!0,b,c||E.e)}function ef(a,b,c){return E.Pa(a,!1,b,c||E.e)}
function ff(a){var b=H.a(a);a=H.offset(a);var c=E.b(b);return c&&-1<b.data.substr(0,a).search($e)?!1:0===a?!!df(b,function(a){return r.Na(a)&&J.s(a)},function(a){return G.d(a)||E.e(a)}):c&&0!==b.data.substr(a).search($e)?!0:!!ef(b,function(a){return r.Na(a)&&J.s(a)},function(a){return G.d(a)||E.e(a)})}
function gf(a){var b=H.a(a);a=H.offset(a);var c=b.data.substr(0,a);if(!bf.test(c))return ff(H.O(b,0))?1:-1;var d=c.match(af)[0].length-1;a=2>d?a:a-d+1;if(0===a)return 0;b=H.O(b,a-1);return bf.test(c.charAt(a-1))||ff(b)?a:gf(b)}function hf(a){var b=H.a(a),c=H.offset(a);a=b.data.substr(c).search(ff(a)?cf:bf);return-1===a?-1:c+a}function jf(a){if(H.Y(a))return null;var b=hf(a);return-1===b?null:H.create(H.a(a),b+1)}
function kf(a){if(H.Y(a))return null;var b=gf(a);return-1===b?null:H.create(H.a(a),b-1)}function lf(a,b,c,d,e){return H.normalize(b(a,function(a){var b=c(a);return J.L(b)?!0:e(a)?E.e(b)||r.f(b)&&d(a)?!1:!0:!E.b(b)&&!J.M(b)}))}function mf(a,b){return H.Rd(a,b,nf)}function of(a,b){return H.Rd(a,b,pf)}function qf(a){return lf(a,of,H.o,H.k,H.H)}function rf(a){return lf(a,mf,H.nextNode,H.H,H.k)}
function sf(a,b){if(H.da(a)){var c=b.Fe(a);if(c)return c}c=b.rd(a);if(E.e(c))return a;if(E.b(c)||J.L(c))return sf(b.Kc(a),b);if(G.d(c))return b.expand(b.Kc(a));for(;!J.s(c)||!(E.b(c)||G.d(c)||E.e(c));)a=b.Kc(a),c=b.rd(a);return sf(a,b)}function nf(a){if(H.Y(a)){var b=H.Z(a);if(b&&J.M(b))return H.uc(a)}return H.nd(a)}function pf(a){if(H.Y(a)){var b=H.pa(a);if(b&&J.M(b))return H.$(b)}return H.yd(a)}
var tf={Fe:jf,Kc:nf,expand:rf,yf:H.Z,rd:H.nextNode,Uf:function(a){return a.nextSibling},Pg:function(a){a=H.O(a,0);return sf(a,tf)}},uf={Fe:kf,Kc:pf,expand:qf,yf:H.pa,rd:H.o,Uf:function(a){return a.previousSibling},Pg:function(a){a=H.O(a,E.q(a));return sf(a,uf)}};
function vf(a){var b;if(H.da(a)){b=hf(a);if(-1===b)return(b=H.Z(a))&&J.L(b)?vf(H.uc(a)):b&&J.M(b)?a:vf(H.next(a));if(H.offset(a)===b)return a;a=H.create(H.a(a),b);return vf(a)}b=H.nextNode(a);if(E.b(b))return vf(H.nd(a));for(;!E.e(b)&&J.L(b);)a=H.next(a),b=H.nextNode(a);return a}function wf(a,b){var c,d;a=vf(H.normalize(a));for(b=vf(H.normalize(b));a&&!H.j(a,b);){c=H.nextNode(a);if(E.e(c)||(d=E.b(c)||J.M(c)||G.d(c))&&J.s(c))return!1;a=vf(H.next(a))}return!0}
function xf(a){var b;if(H.da(a)){b=gf(a);if(-1===b){for(b=H.l(a);wf(b,a)&&!G.d(H.o(b));)b=H.l(b);return xf(b)}if(H.offset(a)===b)return a;a=H.create(H.a(a),b);return xf(a)}b=H.o(a);if(E.b(b))return xf(H.yd(a));for(;!E.e(b)&&J.L(b);)a=H.l(a),b=H.o(a);return a}
function yf(a){var b,c;if(H.Y(a))return b=H.nextNode(a),c=H.nd(a),Xe[b.nodeName]?yf(c):a;c=H.a(a);b=H.offset(a);c=c.data.substr(b).search(C.ac);b=-1===c?-1:b+c;return-1===b?(c=H.next(a),b=H.nextNode(c),Xe[b.nodeName]?yf(c):c):b===H.offset(a)?a:H.O(H.a(a),b)}
function zf(a){var b,c;if(H.Y(a))return b=H.o(a),c=H.yd(a),Xe[b.nodeName]?zf(c):a;b=H.a(a);c=H.offset(a);b=b.data.substr(0,c).search(C.be);b=-1===b?-1:b+1;return-1===b?(c=H.l(a),b=H.o(c),Xe[b.nodeName]?zf(c):c):b===H.offset(a)?a:H.O(H.a(a),b)}function Af(a){if(H.k(a))return!0;if(H.da(a))return!bf.test(H.a(a).data.substr(H.offset(a)));a=H.Z(a);return!E.v(a,J.L)}
var L={l:function(a,b){if("node"===b)return H.l(a);a=xf(H.normalize(a));var c;switch(b){case "char":c=kf(a);break;case "word":c=zf(a);wf(c,a)&&(c=sf(a,uf));break;case "boundary":c=pf(a);break;default:c=sf(a,uf)}return c&&xf(c)},next:function(a,b){if("node"===b)return H.next(a);a=vf(H.normalize(a));var c;switch(b){case "char":c=jf(a);break;case "word":c=yf(a);wf(a,c)&&(c=sf(a,tf));break;case "boundary":c=nf(a);break;default:c=sf(a,tf)}return c},o:function(a){return Af(a)?H.a(a):H.pa(a)},nextNode:function(a){return Af(a)?
H.a(a):H.Z(a)},Oe:gf,pd:hf,Ne:xf,He:vf,Lc:nf,Qd:pf,H:function(a){if(H.H(a))return!0;if(H.da(a))return!bf.test(H.a(a).data.substr(0,H.offset(a)));a=H.pa(a);return!E.J(a,J.L)},k:Af,bb:wf,Ya:qf,Za:rf,Mc:function(a,b,c){var d=H.ga(a,b),e=K.D(d,a).reverse(),g=K.D(d,b),l=H.a(a),m=E.children(l);c(m.slice(e[0],l===d?g[0]:m.length));e.slice(1,-1).reduce(function(a,b){var d=E.children(a);c(d.slice(b+1,d.length));return a.parentNode},l.parentNode);1<e.length&&c(E.children(d).slice(q.m(e)+1,g[0]));g.slice(1).reduce(function(a,
b){var d=E.children(a);c(d.slice(0,b));return d[b]},E.children(d)[g[0]]);return[a,b]}};function Bf(a,b){if(!(0<b&&b<a.nodeValue.length))return a;var c=a.parentNode,d=a.nodeValue,e=c.ownerDocument,g=e.createTextNode(d.substring(0,b)),d=e.createTextNode(d.substring(b,d.length));c.insertBefore(g,a);c.insertBefore(d,a);c.removeChild(a);return g}function Cf(a,b,c,d){var e=a[0];a=a[1];e===b?a<=c||!c?e=d:(e=d.nextSibling,a-=c):e===d.parentNode&&(b=E.u(d),a>b&&(a+=1));return[e,a]}
function Df(a,b,c,d,e,g,l,m){var n=a[0];a=a[1];n===b?(n=d,a+=m?e:0):n===d?a+=m?0:c:n===g&&(a===l?(n=d,a=m?e:0):m||a!==l+1?a>l&&--a:(n=d,a=c));return[n,a]}function Ef(a,b,c,d){var e=a[0];a=a[1];e===b||E.contains(b,e)?(e=c,a=d):e===c&&a>d&&--a;return[e,a]}function Ff(a,b,c,d,e){var g=a[0],l=a[1];b===g&&(e?l>=c:l>c)&&(a=[g,l+d]);return a}
function Gf(a,b,c,d,e){a=H.normalize(a);var g=a[0],l=a[1];if(!E.b(g)){var m=l<E.Dc(g)?E.fa(g,l):null,g=0<l?E.fa(g,l-1):null;m===b?a=[m,0]:g===b&&(a=[g,E.q(g)])}return H.normalize(Ff(a,b,c,d,e))}function Hf(a,b,c){a=H.normalize(a);return Ff(a,b.parentNode,E.u(b),1,c)}function If(a,b){var c=Array.prototype.slice.call(arguments,2);return b.map(function(b){return a.apply(null,[b].concat(c))})}
function Jf(a,b){var c=a[0],d=a[1];if(E.b(c)&&0<d&&d<c.nodeValue.length){var e=H.ub(b);e.push(a);var g=Bf(c,d),c=If(Cf,e,c,d,g);a=c.pop();H.zb(b,c)}return a}var Kf={BODY:!0,HTML:!0,STYLE:!0,SCRIPT:!0,AREA:!0,BASE:!0,BR:!0,COL:!0,COMMAND:!0,EMBED:!0,HR:!0,IMG:!0,INPUT:!0,KEYGEN:!0,LINK:!0,META:!0,PARAM:!0,SOURCE:!0,TRACK:!0,WBR:!0};
function Lf(a,b){a=H.normalize(a);if(b&&b(a))return a;if(H.da(a))return Lf(Jf(a),b);var c=H.a(a);if(Kf[c.nodeName])return a;var d=E.W(c),e=H.Z(a);e&&E.move(E.na(e),d);E.vb(d,c);return Lf(L.Lc(a),b)}function Mf(a,b,c,d){if(!b||!E.b(b))return a;var e=H.ub(c),g=a.parentNode,l=E.u(a),m=a.length,n=b.length;b.insertData(d?n:0,a.data);g.removeChild(a);e=If(Df,e,a,m,b,n,g,l,d);H.zb(c,e);return b}function Nf(a,b){E.b(a)&&(a=Mf(a,a.previousSibling,b,!0),Mf(a,a.nextSibling,b,!1))}
function Of(a,b,c,d,e,g){e.push([a,b]);e=If(Gf,e,a,b,c,d);a=e.pop();H.zb(g,e);return a}function Pf(a,b,c,d){c.push([a.parentNode,E.u(a)]);c=If(Hf,c,a,b);a=c.pop();H.zb(d,c);return a}function Qf(a,b){var c=H.ub(b),d=a.parentNode,e=E.u(a);d.removeChild(a);c=If(Ef,c,a,d,e);H.zb(b,c)}function Rf(a){var b=H.a(a),c=b.ownerDocument.createRange();a=H.offset(a);c.setStart(b,a);c.setEnd(b,a);return c}function Sf(a){return H.tb(a)[0]}
var M={removeNode:function(a,b){var c=b.map(Rf);Qf(a,c);return c.map(Sf)},Bg:function(a,b){Qf(a,[b])},Hd:Qf,Id:function(a,b){b.forEach(function(b){b.node===a&&(b.node.firstChild?b.next():b.Od())});E.wa(a)},Cg:function(a,b,c){var d=E.yb(a,b);return c.reduce(function(a,c){return a.concat(d===H.a(c)?[H.create(b,H.offset(c))]:[c])},[])},te:function(a,b,c,d){var e=H.ub(d);if(!a.length)return b;var g=b[0],l=b[1];if(E.b(g)&&l<E.q(g))return g.insertData(l,a),Of(g,l,a.length,c,e,d);b=E.oa(g,l);g=H.k(H.O(g,
l));if(E.b(b))return b.insertData(0,a),Of(b,0,a.length,c,e,d);if((l=g?b.lastChild:b.previousSibling)&&E.b(l))return b=E.q(l),l.insertData(b,a),Of(l,b,a.length,c,e,d);a=b.ownerDocument.createTextNode(a);E.i(a,b,g);return Pf(a,c,e,d)},ja:function(a,b,c,d){var e=H.ub(d);b=Jf(b,d);var g=H.nextNode(b);b=H.k(b);E.i(a,g,b);return Pf(a,c,e,d)},Mg:Bf,Lg:function(a){Jf(H.ua(a),[a]);Jf(H.$a(a),[a])},jd:function(a,b){Nf(a,[b])},jg:Nf,Ub:Jf,Ab:Lf};var Tf=fa;function Uf(a){!r.Ba(a)||Tf.De&&E.r(a,h.ha(E.isContentEditable))||a.firstChild&&E.v(a.firstChild,J.eb)||E.i(a.ownerDocument.createElement("br"),a,!0)}function Vf(a,b){return H.v(a,function(a){return H.j(a,b)||G.d(H.nextNode(a))?!1:H.k(a)?!E.e(H.a(a)):!0})}function Wf(a,b){var c=!1;H.J(b,function(b){return H.j(a,b)?(c=!0,!1):0<H.offset(b)&&(b=E.oa(H.a(b),H.offset(b)-1),(E.b(b)||r.Da(b))&&J.s(b))?c=!1:!0});return c}
function Xf(a){return E.b(a)?J.s(a):0<E.children(a).filter(function(a){return r.f(a)||J.s(a)}).length}
function Yf(a){function b(a){return"BR"!==a.nodeName&&J.L(a)}if("BR"!==a.nodeName)return!1;var c=a.previousSibling&&E.J(a.previousSibling,b),d=a.nextSibling&&E.v(a.nextSibling,b);if(c&&d&&r.Na(a.parentNode)||!(!c||"BR"!==c.nodeName&&G.d(c)||!d||"BR"!==d.nodeName&&G.d(d))||c&&"BR"===c.nodeName||d&&"BR"===d.nodeName)return!0;for(c=H.$(a);L.H(c);){if(G.d(H.a(c)))return!0;c=H.l(c)}for(c=H.uc(H.$(a));L.k(c);){if(G.d(H.a(c)))return!1;c=H.next(c)}return!G.d(L.nextNode(c))}
function Zf(a){var b=H.a(a).ownerDocument,c=b.createElement("br");a=M.ja(c,a,!0);return Yf(c)?a:M.ja(b.createElement("br"),a)}function $f(a,b){var c=H.a(a);if(!w.sa(c.nodeName,b))return Zf(a);c=c.ownerDocument.createElement(b);M.ja(c,a);return H.create(c,0)}function ag(a){return!J.M(a)&&(G.d(a)||E.e(a))}function bg(a){return M.Ab(a,function(a){return ag(H.a(a))})}function cg(a,b){E.Ja(H.a(a),function(a){b=M.removeNode(a,b)},function(a){return G.d(a)||E.e(a)||J.s(a)});return b}
function dg(a){var b=H.pa(a);a=H.Z(a);return b&&Yf(b)?b:a&&Yf(a)?a:null}function eg(a){var b=E.Qb(a).filter(r.f),c=E.xb(a).filter(r.f);a=a.parentNode;if(0<b.length){var d=E.W(a);E.Ob([d],a);E.move(b,d)}0<c.length&&(b=E.W(a),E.fb([b],a),E.move(c,b))}
function fg(a,b){eg(a);var c=a.ownerDocument,d=a.parentNode;if(!r.f(d.parentNode))return c=c.createElement(b),E.wa(d),E.yb(a,c),Uf(c),H.create(c,0);var e=M.Ab(H.$(d),function(a){return r.Ca(H.a(a))});E.remove(d);d=H.nextNode(e);return E.children(d).filter(J.s).length?(a=c.createElement("li"),Uf(a),M.ja(a,e,!0),H.create(a,0)):H.create(d,0)};var gg={Rb:Uf,Ed:function(a,b){function c(a){return e===a?!0:J.hg(a)?!1:r.f(a)?Xf(a):J.s(a)}if(!Wf(a,b))return[a,b];var d=H.nextNode(b),e=H.a(a),g=Vf(a,b);if(H.j(g,b))return E.Ja(d,E.remove,c),[a,a];var l=d.parentNode,m=E.na(d,G.d);0===m.length&&(l=d);m.reduce(function(a,b){return M.ja(b,a,!0)},g);l&&E.Ja(l,E.remove,c);return[a,a]},bd:function(a,b){var c=dg(a);c&&(a=M.ja(c.ownerDocument.createElement("br"),a,!0));var d=H.a(a);if(r.f(d)&&!d.firstChild)return fg(d,b);var c=bg(a),e=H.Z(c),g=e?E.na(e):
[],d=H.a(c);e&&ag(e)?c=$f(c,b):E.e(d)?(c=$f(c,b),e=H.a(c),g=E.move(g,e,ag),E.fb(g,e)):c=M.Ab(c,function(a){return H.a(a)===d.parentNode});g=H.J(c,function(a){var b=H.o(a);return!(H.H(a)||J.M(b)||E.b(b))});c=H.v(c,function(a){var b=H.nextNode(a);return!(H.k(a)||J.M(b)||E.b(b))});c=[g,c];c=cg(c[0],c);c=cg(c[1],c);d=H.a(c[1]);!d.firstChild&&r.Lb(d)&&(c=M.Cg(d,d.ownerDocument.createElement(b),c));g=c[0];c=c[1];Uf(H.a(g));Uf(H.a(c));return(g=(g=H.Z(c))&&E.v(g,function(a){return!Yf(a)&&J.L(a)}))&&ag(g)?
M.ja(g.ownerDocument.createElement("br"),c):c},cd:Zf,Ge:Vf,xe:Yf,ye:Wf,Tg:function(a){eg(a);E.wa(a.parentNode);for(var b=a.ownerDocument,c=E.children(a).filter(J.s),d,e=[];0<c.length;)G.d(c[0])?e.push(c.shift()):(c=q.split(c,G.d),d=b.createElement("p"),E.move(c[0],d),e.push(d),c=c[1]);E.fb(e,a);E.remove(a);return e},Mh:eg},N={s:J.s,L:J.L,eb:J.eb,parse:J.parse,M:J.M,gd:G.gd,tc:G.tc,Jb:G.Jb,ab:G.ab,d:G.d,Rb:gg.Rb,bd:gg.bd,Ed:gg.Ed,cd:gg.cd,xe:gg.xe,Ge:gg.Ge,ye:gg.ye,l:L.l,next:L.next,o:L.o,nextNode:L.nextNode,
Oe:L.Oe,pd:L.pd,Ne:L.Ne,He:L.He,H:L.H,k:L.k,bb:L.bb,Ya:L.Ya,Za:L.Za,Lc:L.Lc,Qd:L.Qd,Mc:L.Mc,Ba:r.Ba,ka:r.ka,Ma:r.Ma,Lb:r.Lb,Na:r.Na,Ca:r.Ca,f:r.f,hd:r.hd,Mb:r.Mb,Da:r.Da};function hg(a){return!N.ka(a)&&!N.Ma(a)}function ig(a){a=E.r(a,function(a){return"A"!==a.nodeName&&hg(a)&&!E.e(a)});return"A"===a.nodeName?a:null}function jg(a){return E.v(a,N.L)}var O={la:hg,Ae:function(a){var b=H.a(a),c=H.offset(a);H.Y(a)&&(b=b.childNodes[c],c=0);a=jg(b);return H.create(ig(a)||a,c)},od:jg,zd:function(a){return E.J(a,N.L)}};function kg(a,b){var c=E.W(a);a.insertBefore(c,b);c.appendChild(b);return c}
function lg(a,b,c){if(E.b(a)&&a.length===b)return{Sa:a.nextSibling,Eb:a};if(E.b(a)&&0===b)return{Sa:a,Eb:a.previousSibling};b=M.Mg(a,b);var d=b.nextSibling;if(d&&!d.nextSibling&&O.la(d.parentNode)&&!E.isSameNode(a,c)){a=b.parentNode;do d=kg(a,d),b=kg(a,b),E.wa(a),a=b.parentNode;while(a&&!E.isSameNode(a,c)&&O.la(a))}else if(!d){for(d=b;d.parentNode&&!d.nextSibling&&!E.isSameNode(d.parentNode,c);)d=d.parentNode;d=d.nextSibling}return{Sa:d,Eb:b}}
function mg(a,b,c){var d=E.W(a);a.parentNode.insertBefore(d,c);d.appendChild(b);return d}function ng(a){for(;!O.la(a);)a=a.lastChild;return a}var og="LI TD TR TBODY DD DT".split(" ");
function pg(a){var b;if(b=N.s(a))b=!(!E.b(a)||0<a.textContent.trim().length?0:a.previousElementSibling&&0<=og.indexOf(a.previousElementSibling.nodeName)&&a.nextElementSibling&&0<=og.indexOf(a.nextElementSibling.nodeName)||a.previousElementSibling&&0<=og.indexOf(a.previousElementSibling.nodeName)&&!a.nextElementSibling||!a.previousElementSibling&&a.nextElementSibling&&0<=og.indexOf(a.nextElementSibling.nodeName));return b}
function qg(a,b){if(!pg(a))return a;if("A"===a.nodeName){var c=a.firstChild;E.children(a).forEach(function(a){b.push(a)});E.wa(a);a=c}else b.push(a);return a}function rg(a,b){0<a.length&&b.push(a);return[]}function sg(a,b){var c=H.a(a),d=H.a(b);return E.b(c)&&E.isSameNode(c,d)}window.qh=function(a,b){var c=M.Ab(a,H.Y),d=M.Ab(b,H.Y);H.nextNode(c);H.o(d);console.log(void 0);return[c,d]};var tg={Ef:function(a,b){var c,d,e,g=O.Ae(a),l=O.Ae(b);c=H.a(g);e=H.offset(g);d=H.offset(l);if(sg(g,l)&&0===e&&c.length===d)return[[H.a(g)]];d=l;e=H.ga(a,b);c=H.a(g);var m=H.a(d),n=H.offset(g),p=H.offset(d),m=E.b(c)&&E.isSameNode(c,m);c=e;var s=H.a(g),t=H.offset(g);if(E.b(s))c=lg(s,t,c).Sa;else if(E.isSameNode(s.parentNode,c)||!O.la(s.parentNode))c=s;else if(N.Jb(s.parentNode))c=s;else{for(var t=s=s.parentNode,y=s.parentNode;y&&!E.isSameNode(y,c)&&O.la(y);)t=mg(y,s,y.nextSibling),s=y,y=y.parentNode;
c=t}m&&(d=H.O(c,p-n),e=c);n=H.a(d);d=H.offset(d);if(E.b(n)&&0<d)e=lg(n,d,e).Eb;else if(E.b(n)&&0===d&&n.previousSibling)e=ng(n.previousSibling);else if(O.la(n.parentNode)){d=n=n.parentNode;for(p=n.parentNode;p&&!E.isSameNode(p,e)&&O.la(p);)d=mg(p,n,p),n=p,p=p.parentNode;pg(d)||(e=O.zd(d),E.remove(d),d=ng(e));e=d}else e=n;if(sg(g,l))g=[[e]];else{g=[];for(l=[];c&&!E.isSameNode(c,e);)if(O.la(c)){c=qg(c,l);for(d=!1;c&&!c.nextSibling&&c.parentNode;)c=c.parentNode,O.la(c)||(d=!0);c=c.nextSibling;d&&(l=
rg(l,g))}else l=rg(l,g),c=c.firstChild;O.la(e)&&qg(e,l);0<l.length&&g.push(l)}return g}};function ug(a,b){var c=H.document(a);return tg.Ef(a,b).reduce(function(a,b){var g=c.createElement("a");E.i(g,b[0]);E.move(b,g);return a.concat(g)},[])}function vg(a,b){var c;if(c=!E.b(a))c=E.W(a).isEqualNode(E.W(b));return c}function wg(a,b){for(var c;a&&b&&vg(a,b);)c=O.od(a.firstChild),b.appendChild(c),E.remove(a),a=c,b=b.firstChild}
function xg(a){if(O.Dh(a)){var b=O.od(a.firstChild),c=O.zd(a.previousSibling);wg(b,c);b=O.zd(a.lastChild);c=O.od(a.nextSibling);wg(c,b);E.wa(a)}}function yg(a){E.t(a)&&q.X(a.querySelectorAll("a")).forEach(xg)}function zg(a){return"A"!==a.nodeName}
var Ag={n:function(a){if("click"!==a.type)return a;var b=H.ga(a.selection.boundaries[0],a.selection.boundaries[1]);E.r(b,zg)&&B.preventDefault(a.nativeEvent);return a},create:function(a,b,c,d){N.bb(b,c)?(c=H.document(b).createElement("a"),c.innerHTML=a,M.ja(c,b,!0),b=[c]):b=ug(b,c);b.forEach(function(b){E.qa(b,"href",a)});d&&b.reduce(function(a,b){a.push(b);return a},d);return[H.$(b[0]),H.ic(q.m(b))]},remove:function(a,b){var c=O.Bf(H.a(a),H.offset(a)),d=O.Bf(H.a(b),H.offset(b)),c=H.a(c),d=H.a(d);
yg(c);for(yg(d);c&&!E.isSameNode(c,d);){for(var e=void 0;!c.nextSibling&&c.parentNode;)e=c.parentNode,xg(c),c=e;e=c.nextSibling;xg(c);(c=e)&&yg(c)}for(;d&&d.parentNode&&O.la(d);)xg(d),d=d.parentNode}};var Bg={TEXT_LEFT:"\u2593[",TEXT_RIGHT:"]\u2593",ELEMENT_LEFT:"\u2593{",ELEMENT_RIGHT:"}\u2593",TEXT_SINGLE:"\u2593",ELEMENT_SINGLE:"\u2588"},Cg={TEXT_LEFT:"[",TEXT_RIGHT:"]",ELEMENT_LEFT:"{",ELEMENT_RIGHT:"}",TEXT_SINGLE:"\u00a6",ELEMENT_SINGLE:"|"};
function Dg(a,b,c){var d=c?Bg:Cg,e=H.a(a);c=H.a(b);var g=e.ownerDocument;c=g.createTextNode(E.b(c)?d.TEXT_RIGHT:d.ELEMENT_RIGHT);d=g.createTextNode(E.b(e)?d.TEXT_LEFT:d.ELEMENT_LEFT);b=H.N(a,b);a=M.Ub(H.ua(b),[b]);b=M.Ub(H.$a(b));E.i(c,H.nextNode(b),H.k(b));E.i(d,H.nextNode(a),H.k(a));return[a,b]}
function Eg(a,b,c){var d=!b;b=b||a;var e=H.ga(a,b),g=E.Nodes.DOCUMENT===e.nodeType?e:e.ownerDocument;a=K.D(e,a);b=K.D(e,b);var l;if(e.parentNode)l=K.D(e.parentNode,H.$(e)),e=H.a(K.ib(e.parentNode.cloneNode(!0),l));else{e=e.cloneNode(!0);l=g.createDocumentFragment();var m=g.createDocumentFragment();E.append(e,m);E.append(m,l);l=[]}a=l.concat(a);b=l.concat(b);d?(d=K.ib(e,a),c=c?Bg:Cg,c=H.a(d).ownerDocument.createTextNode(H.da(d)?c.TEXT_SINGLE:c.ELEMENT_SINGLE),d=M.Ub(d),E.i(c,H.nextNode(d),H.k(d))):
Dg(K.ib(e,a),K.ib(e,b),c);if(E.Nodes.DOCUMENT_FRAGMENT!==e.nodeType)return e.outerHTML;g=g.createElement("div");E.append(e,g);return g.innerHTML}
var Fg={hint:function(a,b){if(vb.Fb(a.length))return"string"===typeof a[0].nodeName?Eg(a,a,b):Eg(a[0],a[1],b);var c;c=[H.O(a.startContainer,a.startOffset),H.O(a.endContainer,a.endOffset)];return Eg(c[0],c[1],b)},i:Dg,gc:function(a){var b=["[","{","}","]"],c=0,d=[];E.Bb(a,function(a){if(E.b(a)){var g=C.$e(a.nodeValue,/[\[\{\}\]]/g);if(q.contains(b,g[0])||!(2>g.length)){var l=!1;g.forEach(function(g,n){l=l||0===n;if(q.contains(b,g)){var p;if(0===c){if(p=0,"["!==g&&"{"!==g)throw"end marker before start marker";
}else if(1===c){if(p=1,"]"!==g&&"}"!==g)throw"start marker before end marker";}else throw"Too many markers";c+=1;if("["===g||"]"===g){var s=a.previousSibling;s&&E.b(s)||(s=a.ownerDocument.createTextNode(""),a.parentNode.insertBefore(s,a));d[p]=[s,s.length];l=!1}else d[p]=[a.parentNode,E.u(a)],l=!0}else!l&&a.previousSibling&&E.b(a.previousSibling)?a.previousSibling.insertData(a.previousSibling.length,g):a.parentNode.insertBefore(a.ownerDocument.createTextNode(g),a)});a.parentNode.removeChild(a)}}});
if(2!==c)throw"Missing one or both markers";return d}};var Gg={A:"link",U:"underline",B:"bold",STRONG:"bold",I:"italic",EM:"italic",STRIKE:"strikethrough",SUB:"subscript",SUP:"superscript"},Hg={link:"A",underline:"U",bold:"B",italic:"I",strikethrough:"STRIKE",subscript:"SUB",superscript:"SUP"},Ig={bold:["fontWeight","bold",null],italic:["fontStyle","italic",null],underline:["textDecoration","underline","none"],strikethrough:["textDecoration","line-through","none"]},Jg="textTransform backgroundColor color fontSize fontFamily border borderColor borderStyle borderWidth borderTop borderTopColor borderTopStyle borderTopWidth borderBottom borderBottomColor borderBottomStyle borderBottomWidth borderLeft borderLeftColor borderLeftStyle borderLeftWidth borderRight borderRightColor borderRightStyle borderRightWidth".split(" ");
function Kg(a){var b=[];u.forEach(Ig,function(c,d){var e=E.K(a,c[0]);e&&(c[2]?e===c[2]?b.push([d,!1]):e===c[1]&&b.push([d,!0]):b.push([d,e===c[1]]))});return b}function Lg(a){if(E.b(a))return[];var b=Gg[a.nodeName];return(b?[[b,!0]]:[]).concat(Kg(a))}function Mg(a){return E.b(a)?[]:Jg.reduce(function(b,c){var d=E.K(a,c);return d?b.concat([[c,d]]):b},[])}
function Ng(a,b){for(var c=E.Ia(a,b||E.e),d=[],e={},g=c.length,l,m,n,p,s;g--;){n=Lg(c[g]);l=0;for(m=n.length;l<m;l++)p=n[l],s=e[p[0]],vb.Fb(s)&&d.splice(s-1,1,null),e[p[0]]=d.push(p);d=d.concat(Mg(c[g]))}return d.reduce(function(a,b){return b?a.concat([b]):a},[])}
function Og(a,b){for(var c=H.a(b),d=E.Ia(c,E.e),e=Hg[a],g=Ig[a],l=g[0],g=g[1],m=d.length,n,p;m--;)if(p=d[m],E.t(p)&&(e===p.nodeName||E.K(p,l)===g)){n=p.parentNode;break}if(!n)return b;c=Ng(c,function(a){return a==n}).reduce(function(b,c){return a===c[0]?b:b.concat([c])},[]);b=M.Ab(b,function(a){return H.a(a)===n});d=[b];e=H.o(d[0]);N.L(e)&&(d=M.removeNode(e,d));e=H.nextNode(d[0]);N.L(e)&&(d=M.removeNode(e,d));return Pg(d[0],c)}
function Pg(a,b){var c=H.document(a),d;u.forEach(u.kd(b),function(b,g){if(Hg[g])if(b){var l=c.createElement(Hg[g]);d?E.Ea(d,l):(M.ja(l,a),a=H.create(l,0));d=l}else a=Og(g,a);else d||(d=c.createElement("span"),M.ja(d,a),a=H.create(d,0)),E.h(d,g,b)});return a}function Qg(a,b){for(var c=0;c<a.length;c++)if(b===a[c][0])return c;return-1}function Rg(a){for(var b,c=[],d=u.create(),e=a.length;e--;)b=a[e],d[b[0]]||(d[b[0]]=!0,c.push(b));return c.reverse()}
var P={map:function(a){var b=u.create();a.forEach(function(a){b[a[0]]=a[1]});return b},indexOf:Qg,unique:Rg,toggle:function(a,b,c){var d=Qg(a,b);if(-1===d)return a.concat([[b,c]]);a=a.concat();a[d][1]="boolean"===typeof a[d][1]?!a[d][1]:c;return a},me:Pg,Aa:Ng,Oa:function(){return Rg(Array.prototype.concat.apply([],q.X(arguments)))},wc:Gg,Ng:Hg};function Sg(a){return a.reduce(function(a,c){return a.concat(c.data)},[]).join("")}function Tg(a,b){for(var c=0,d,e=0;e<a.length;e++){d=a[e];if(c+E.q(d)>=b)return H.create(d,b-c);c+=d.length}return null}function Ug(a,b){return b(a,function(a){return!E.b(a)||E.e(a)})}
function Vg(a,b){var c,d=H.pa(a);d?c=E.q(d):(d=H.a(a),c=H.offset(a));var e=d;do{if(E.b(e)){var g=Ug(e,E.vc).reverse(),l=Sg(g),m=l.search(b);if(-1<m){if(d!==e||m<c)return Tg(g,m);m=l.substr(0,c).search(b);if(-1<m)return Tg(g,m)}}e=E.ya(e)}while(e&&!E.e(e));return null}function Wg(a,b){var c,d=H.Z(a);d?c=0:(d=H.a(a),c=H.offset(a));var e=d;do{if(E.b(e)){var g=Ug(e,E.na),l=Sg(g);e===d&&(l=l.substr(c));l=l.search(b);if(-1<l)return Tg(g,c+l)}e=E.forward(e)}while(e&&!E.e(e));return null}
var Xg={search:function(a,b,c){return"backward"===c?Vg(a,b):Wg(a,b)},forward:function(a,b){return Wg(a,new RegExp(b))},ya:function(a,b){return Vg(a,new RegExp(b+"(?!.*"+b+")"))}};var Yg=fa;function Zg(a,b){for(var c=0,d=a.length;c<d;c++)if(b[c]!==a[c])return[];return b.slice(c)}function $g(a,b){var c=a.ownerDocument.body,d=K.D(c,H.$(a));return b.reduce(function(a,b){var l=K.D(c,b);return a.concat([Zg(d,l)])},[])}function ah(a){if(a[0]&&a[0].ud)return a;var b=(new Date).getTime();return a.reduce(function(a,d){var e=d[0].concat(),g=d[1].concat();e.ud=g.ud=++b;return a.concat([e,g])},[])}
function bh(a){if(a.ea)return a;var b=(new Date).getTime();a=a.map(function(a){a=a.concat();a.ea=++b;return a});a.ea=++b;return a}function ch(a,b){return a-b}function dh(a){return a.parentNode?N.M(a):N.Da(a)}
function eh(a,b,c,d){function e(a,b){s[a]||(s[a]=[]);f.assert(2>=s[a].length,"Pairing must only be between 2 boundaries");s[a].push(b)}function g(a,b){e(b.ud,a)}c=c||0;d=d||[];var l=ah(b||[]),m=!1,n=[],p=[],s={};b=E.children(a);b.forEach(function(a,b){var s,t=0,ba=d.concat(b);E.b(a)?(s=l.filter(function(a){return 1===Zg(ba,a).length}),s.forEach(function(a){g(c+(q.m(a)||0),a)}),m&&n.push([c,c,"split"]),p.push(a.data),t=a.data.length,m=!0):dh(a)?(n.push([c,c+1,a]),p.push("\uf8ff"),t=1,m=!1):(s=eh(a,
l,c,ba),n=n.concat([[c,c+s.content.length,a]],s.formatting),p.push(s.content),t+=s.content.length,m=!1,u.forEach(s.qg,function(a,b){a.forEach(h.c(e,b))}));s=l.filter(h.c(K.j,ba));s.forEach(h.c(g,c));c+=t});l.filter(h.c(K.j,d.concat(b.length))).forEach(h.c(g,c));var t=[];u.forEach(s,function(a){t.push(a.sort(ch))});return{boundaries:t,formatting:n,qg:s,element:a,content:p.join("")}}
function fh(a){return{rb:a.rb||[],formatting:a.formatting||[],boundaries:a.boundaries||[],ra:a.ra||[],content:a.content||"",element:a.element}}function gh(a,b){return u.g(fh(a),b)}
function hh(a,b,c){function d(a,d){var e=d[0],n=d[1];if(e>b&&n<c)return a.concat([[-1,-1]]);b<e&&(e-=Math.min(e,c)-b);b<n&&(n-=Math.min(n,c)-b);return a.concat([[e,n].concat(d.slice(2))])}f.assert(b<=c,"Start offset must be smaller than, or equal, to the end offset");var e=a.content;return gh(a,{content:e.substring(0,b)+e.substring(c),ra:a.ra.reduce(function(a,d){var e=d[0];if(e>b&&e<c)return a.concat([[-1]]);b<e&&(e-=Math.min(e,c)-b);return a.concat([[e].concat(d.slice(1))])},[]),boundaries:a.boundaries.reduce(d,
[]),formatting:a.formatting.reduce(d,[]),rb:a.rb.reduce(d,[])})}
function ih(a,b,c,d){function e(a,c){var e=c[0],l=c[1],t=c[2],y;t&&dh(t)?(t=function(a,b){return b<=a},y=function(a,b){return b<a}):t=y=d;return a.concat([[t(e,b)?e+g:e,y(l,b)?l+g:l].concat(c.slice(2))])}var g=c.length,l=a.content;return gh(a,{content:l.substring(0,b)+c+l.substring(b),ra:a.ra.reduce(function(a,c){var e=c[0];return a.concat([[d(e,b)?e+g:e].concat(c.slice(1))])},[]),boundaries:a.boundaries.reduce(e,[]),formatting:a.formatting.reduce(e,[]),rb:a.rb.reduce(e,[])})}
function jh(a,b,c){return ih(a,b,c,function(a,b){return b<=a})}var kh=C.bc.join(""),lh=q.sb(C.$b,C.Yb).join(""),mh=new RegExp("[^"+lh+kh+"]"),nh=new RegExp("["+lh+"]");function oh(a){for(var b,c,d=a.ra.length,e=0;e<d;e++)b=a.ra[e][0],c=a.ra[e][1],a=jh(a,b,c);return gh(a,{ra:[]})}function ph(a){return E.r(a,function(a){return!N.d(a)&&!E.e(a)})}function rh(a,b){var c=b.length?$g(a,b):[],c=q.xd(c,2);return eh(a,c)}
function sh(a,b){return a[0]===b[0]&&a[1]===b[1]?0:a[0]>b[0]||a[0]===b[0]&&a[1]<b[1]?1:-1}function th(a,b){return b.filter(function(b){return a!==b&&a[0]<=b[0]&&b[1]<=a[1]}).map(function(b){var d=[b[0]-a[0],b[1]-a[0]].concat(b.slice(2));b.ea&&(d.ea=b.ea);return d})}function uh(a){var b=0;return a.sort(sh).filter(function(a){var d=a[0]>=b;b=Math.max(b,a[1]);return d})}function vh(a,b,c){return a.filter(function(a){return!c.some(function(c){var g=[a[b],a[b]];return c[0]<=g[0]&&g[1]<=c[1]})})}
function wh(a,b,c,d){var e=a[1]-a[0];return b.map(function(a){var b=a[c],m=d.concat();0===b?m.splice(-1,1,q.m(m)):e===b?m.splice(-1,1,q.m(m)+1):m.push(b);m.ea=a.ea;return m})}function xh(a,b){var c=[],d=0,e=q.m(a);a.forEach(function(a){a[0]>d&&c.push([d,a[0],"#text"]);c.push(a);d=a[1]});e[1]<b.length&&c.push([e[1],b.length,"#text"]);return c}
function yh(a,b,c,d,e){e=e||[];c=bh(c);return xh(uh(b),a).map(function(g,l){var m=g[2],n=e.concat(l),p=a.substring(g[0],g[1]),s=th(g,b),t=th(g,c);wh(g,vh(t,0,s),0,n).forEach(function(a){d.push(a)});wh(g,vh(t,1,s),1,n).forEach(function(a){d.push(a)});if("#text"===m)return{text:p};n=0<s.length?yh(p,s,t,d,n):dh(m)?[]:[{text:p}];return{gb:m,name:m.nodeName,kg:n}})}
function zh(a,b){var c=b.ownerDocument,d=a.reduce(function(a,b){var d;h.ca(b.text)?(d=c.createElement(b.name),d.gb=b.gb,zh(b.kg,d)):d=c.createTextNode(b.text);return a.concat(d)},[]);E.move(d,b);return b}function Ah(a,b){if(q.contains(a,b)||q.contains(a,b.gb))return!0;var c=a.map(function(a){return a.gb});return q.contains(c,b)}
function Bh(a,b,c,d){var e=E.children(a);b=E.children(b);for(var g,l,m=0,n=0,p=e.length,s=b.length,t=[];m<p&&n<s;)g=e[m],l=b[n],g===l||g.gb===l||l.gb===g||"#text"===g.nodeName&&g.data===l.data?(t.push(0),m++,n++):Ah(b,g)?(Ah(e,l)?t.push(-2):t.push(1),n++):(t.push(-1),m++);for(;m<p;)Ah(b,e[m])||t.push(-1),m++;for(;n<s;)t.push(Ah(e,b[n])?-2:1),n++;l=g=0;m=t.length;for(n=0;n<m;n++)p=t[n],0===p?(p=b[l],E.t(p)&&Bh(p.gb,p,c,d),g++,l++):1===p?(c(a,g,b[l]),g++,l++):-1===p?d(a,g):(c(a,g,e[g]),g++,l++)}
function Ch(a,b,c){var d=E.children(a);0===d.length?E.append(c,a):b===d.length?E.fb([c],q.m(d)):E.Ob([c],d[b])}function Dh(a,b){E.remove(E.children(a)[b])}function Eh(a,b,c){if(a[0]>=b[1])return!1;var d=a[0]<=b[1]&&b[1]<=a[1];return a[0]<=b[0]&&b[0]<=a[1]&&d?!1:c||Eh(b,a,!0)}
function Fh(a,b,c){c=a.element.ownerDocument.createElement(c);var d=b.concat(c);return a.formatting.sort(sh).reduce(function(a,b){if(!Eh(b,d))return a.concat([b]);var c=b.slice(2);return b[0]<d[0]?a.concat([[b[0],d[0]].concat(c),[d[0],b[1]].concat(c)]):a.concat([[b[0],d[1]].concat(c),[d[1],b[1]].concat(c)])},[]).concat([d]).sort(sh)}
var Gh="sup sub s u b i".split(" "),Hh={is:function(a){return a.hasOwnProperty("custom")&&a.hasOwnProperty("formatting")&&a.hasOwnProperty("boundaries")&&a.hasOwnProperty("spaces")&&a.hasOwnProperty("content")&&a.hasOwnProperty("element")},hint:function(a,b){var c;"number"===typeof b?(c=a.content,c=c.substring(0,b)+"\u2593"+c.substring(b)):q.is(b)?(c=a.content,f.assert(b[0]<=b[1],"Start offset must be smaller, or equal, to end offset"),c=c.substring(0,b[0])+"\u2593["+c.substring(b[0],b[1])+"]\u2593"+
c.substring(b[1])):c=a.content;return c},create:function(a){a=q.is(a)?rh(ph(H.a(a[0])),a):rh(a,[]);a=fh(a);for(var b=a.content,c=[],d="",e=0,g;;){g=b.search(mh);if(-1===g){c.push([e,b.substring(0,b.length)]);a=hh(a,e,e+b.length);break}if(0===g){g=b.search(nh);if(-1===g)break;d=b.charAt(g-1);b=b.substring(g);e+=g}else 0===e||g===b.length?(c.push([e,b.substring(0,g)]),a=hh(a,e,e+g),b=a.content):1===g?("\uf8ff"===d?(d=b.charAt(0),c.push([e,b.substring(0,g)]),a=hh(a,e,e+g),b=a.content):(d=b.charAt(0),
b=b.substring(1)),e++):"\uf8ff"===d?(d=b.charAt(0),c.push([e,b.substring(0,g)]),a=hh(a,e,e+g),b=a.content,e++):(e++,c.push([e,b.substring(1,g)]),a=hh(a,e,e+g-1),d=b.charAt(g-1),b=b.substring(g))}a=gh(a,{ra:c});return{custom:a.rb,formatting:a.formatting,boundaries:a.boundaries,spaces:a.ra,content:a.content,element:a.element}},remove:hh,update:function(a){a.formatting=Fh(a,a.boundaries[0],Gh.pop());a=oh(a);var b=a.element,c=b.ownerDocument.createElement(b.nodeName);E.qa(c,"contentEditable","true");
var d=[],e=yh(a.content,a.formatting,a.boundaries,d),c=zh(e,c),g={};d.forEach(function(a){g[a.ea]||(g[a.ea]=[]);g[a.ea].push(a)});console.log(JSON.stringify(g));console.warn(aloha.Kh.D(E.Sb("p",document)[0],aloha.boundaries.get(document)[0]));Bh(b,c,Ch,Dh);return a},format:Fh,vb:function(a,b,c){return ih(a,b,c,function(a,b){return b<a})},insertBefore:jh,rf:"\uf8ff"};function Ih(a){if(!(this instanceof Ih))return new Ih(a);a=a||{};this.startContainer=a.startContainer;this.startOffset=a.startOffset;this.endContainer=a.endContainer;this.endOffset=a.endOffset;this.commonAncestorContainer=a.commonAncestorContainer;this.collapsed=a.collapsed}
Ih.prototype.update=function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset;if(a&&b){this.collapsed=a===b&&c===d;c=a;for(d=0;4>d;d++)c=c.parentNode||c;var d=E.ob(a,c),e=E.ob(b,c);c!==q.m(e)&&(d=E.Ia(a,h.C),e=E.Ia(b,h.C));this.commonAncestorContainer=q.dd(d,e)[0]}};Ih.prototype.setStart=function(a,b){this.startContainer=a;this.startOffset=b;this.update()};Ih.prototype.setEnd=function(a,b){this.endContainer=a;this.endOffset=b;this.update()};var Jh=/^\s*((?:[0-9]{1,3}|[a-zA-Z]{1,5})+[\.\)])+\s*$/,Kh=/mso-list:\s*Ignore/i,Lh=/mso-list:.*?level(\d+)/i;function Mh(a){if(!a.firstChild)return null;a=Jh.exec(E.text(a.firstChild));return a?(a=/(\w+)/i.exec(a[0]))?a[1]:null:null}function Nh(a){return"SPAN"===a.nodeName&&Kh.test(E.ba(a,"style"))?!0:!E.b(a)&&Nh(a.firstChild)}function Oh(a){return"P"===a.nodeName&&E.hasClass(a,"MsoListParagraphCxSpLast")}
function Ph(a){var b,c;a.firstChild?(c=E.K(a.firstChild,"fontFamily"),c="Wingdings"===c||"Symbol"===c?!1:null!==Mh(a)):c=!1;var d=c?"ol":"ul";c=a.ownerDocument.createElement(d);if("ul"===d)return c;(a=Mh(a))?/\d+/.test(a)?(b=a,a="1"):a=/i/i.test(a)?/I/.test(a)?"I":"i":/[A-Z]/.test(a)?"A":"a":a=b=void 0;vb.Fb(b)&&E.qa(c,"start",b);vb.Fb(a)&&E.qa(c,"type",a);return c}
function Qh(a,b){var c=Ph(a.node),d=a.items.reduce(function(c,d){var l=d.reduce(function(a,c){return a.concat(c[b]?Qh(c,b):c)},[]),m=a.node.ownerDocument.createElement("li");E.za(l,m);return c.concat(m)},[]);E.move(d,c);return c}
function Rh(a){var b=Sh,c,d,e,g,l,m,n,p="_aloha"+(new Date).getTime();for(c=0;c<a.length;c++){g=b(a[c]);n=(d=Lh.exec(E.ba(g,"style")))&&d[1]?parseInt(d[1],10):1;l||(m=l={parent:null,ma:1,node:g,items:[]},l[p]=!0);if(n>l.ma)for(d=l.ma;d<n;d++)l={parent:l,ma:d+1,node:g,items:[]},l[p]=!0,e=q.m(l.parent.items),e||(e=[],l.parent.items.push(e)),e.push(l);if(n<l.ma)for(d=n,e=l.ma;d<e&&l.parent;d++)l=l.parent;d=g;("P"!==d.nodeName?0:E.hasClass(d,"MsoListParagraph")||E.hasClass(d,"MsoListParagraphCxSpFirst")||
E.hasClass(d,"MsoListParagraphCxSpMiddle")||E.hasClass(d,"MsoListParagraphCxSpLast"))&&g.firstChild&&Nh(g.firstChild)?l.items.push(E.children(g).filter(h.ha(Nh))):(e=q.m(l.items),e||(e=[],l.items.push(e)),e.push(g))}return m&&Qh(m,p)}
function Sh(a){var b=E.children(a),c=[],d,e=b.length,g,l;for(d=0;d<e;d++)if(l=b[d],"P"===l.nodeName&&E.hasClass(l,"MsoListParagraph"))c.push(Rh([l]));else if("P"===l.nodeName&&E.hasClass(l,"MsoListParagraphCxSpFirst")){if(l=E.na(l,Oh),(g=q.m(l).nextSibling)&&l.push(g),g=Rh(l))c.push(g),d+=l.length-1}else c.push(Sh(l));a=E.clone(a,!1);E.move(c,a);return a}var Th={transform:Sh};function Uh(a){var b=[];a.forEach(function(a){if("TD"===a.nodeName){var d=E.children(a);a=a.ownerDocument.createElement("th");E.za(d,a)}return b.push(a)});return b}var Vh=/mso-yfti-irow:\-1;/;function Wh(a){var b=E.children(a),c=[],d,e,g;for(g=0;g<b.length;g++)d=Wh(b[g]),"TR"===d.nodeName&&Vh.test(E.ba(d,"style"))&&(d=E.clone(d),e=E.children(d),e.forEach(E.remove),E.move(Uh(e),d)),c.push(d);a=E.clone(a,!1);E.move(c,a);return a}var Xh={transform:Wh};function Yh(a,b){return a[b.nodeName]}function Zh(a){return N.s(a)?!E.t(a)||"none"!==E.K(a,"display"):!1}function $h(a,b,c){var d=ai;return b.filter(h.c(h.ha(Yh),a.Va)).filter(Zh).reduce(function(b,g){c(a,g).forEach(function(g){b=b.concat(d(a,g,c))});return b},[])}function bi(a){return a.reduce(function(a,c){var d=E.children(c);1===d.length&&N.d(d[0])&&(N.Ma(c)?N.ka(d[0])||E.wa(d[0]):!N.ka(c)&&N.d(c)&&(c=d[0]));d=E.W(c);E.move(bi(E.children(c)),d);return a.concat(d)},[])}
function ai(a,b,c){return c(a,b).reduce(function(b,e){if(a.Va[e.nodeName]||!Zh(e))return b;var g=$h(a,E.children(e),c);if("DIV"===e.nodeName){var l=a.defaultBlock,m=N.Na,n=[],p,s=g.length,t;for(t=0;t<s;t++){for(p=[];t<s&&m(g[t]);)p.push(g[t]),t++;0<p.length&&(n.push(p[0].ownerDocument.createElement(l)),E.move(p,q.m(n)));t<s&&n.push(g[t])}g=n}l=E.W(e);E.move(bi(g),l);return b.concat(l)},[])}
var ci={Yd:{defaultBlock:"p",mb:w.mb(),lb:w.lb(),Va:w.Va(),Pb:w.Pb()},normalize:function(a,b,c){var d=b.ownerDocument.createDocumentFragment();E.move(ai(a,b,c),d);return d},gc:function(a){a=a.replace(/\n/g," ");a=a.replace(/<iframe.*?<\/iframe>/g,"");var b=/<body.*?>/i.exec(a),c=/<\/body.*?>/i.exec(a);return b&&c?(b=a.indexOf(b[0])+b[0].length,c=a.indexOf(c[0]),a.slice(b,c)):a},Ic:function(a,b){var c=a.ownerDocument.createElement(b);E.move(E.children(E.clone(a)),c);return c}};var di={1:"0.63em",2:"0.82em",3:"1em",4:"1.13em",5:"1.5em",6:"2em",7:"3em"};function ei(a,b){var c=(a["*"]||[]).concat(a[b.nodeName]||[]);q.contains(c,"*")||(c=c.reduce(function(a,c){a[c]=E.K(b,c);return a},{}),E.Dd(b,"style"),u.forEach(c,function(a,c){a&&E.h(b,c,a)}))}
function fi(a,b){b=E.clone(b);if(E.b(b))return[b];var c;switch(b.nodeName){case "IMG":c=b;var d=E.ba(c,"width"),e=E.ba(c,"height");d&&E.h(c,"width",d);e&&E.h(c,"height",e);break;case "FONT":c=b;do{var d=E.children(c),e=E.K(c,"color")||E.ba(c,"color"),g=E.K(c,"font-size")||di[E.ba(c,"size")],l=E.K(c,"font-family")||E.ba(c,"face"),m=void 0;1===d.length&&E.t(d[0])?m=d[0]:(m=c.ownerDocument.createElement("span"),E.move(d,m));e&&E.h(m,"color",e);g&&E.h(m,"font-size",g);l&&E.h(m,"font-family",l);c=m}while("FONT"===
c.nodeName);break;case "CENTER":c=b;break;default:c=b}if(E.pc(c))return[c];d=c;e=a.lb;g=(e["*"]||[]).concat(e[d.nodeName]||[]);e=u.keys(E.attrs(d));g=q.dd(g,e);q.sb(e,g).forEach(h.c(E.Dd,d));ei(a.mb,c);"SPAN"===c.nodeName&&(E.lc(c)||(d=c.ownerDocument.createDocumentFragment(),E.move(E.children(c),d),c=d));d=E.children(c);for(e=0;e<d.length;e++)if(!w.sa(c.nodeName,d[e].nodeName))return d;return[c]};var gi=/MsoToc(\d+)/;function hi(a){return E.t(a)?(a=gi.exec(E.ba(a,"class")))?0<a.length:!1:!1}function ii(a,b){var c=a.node.ownerDocument.createElement("ul"),d=a.items.reduce(function(c,d){var l=d.reduce(function(a,c){return a.concat(c[b]?ii(c,b):c)},[]),m=a.node.ownerDocument.createElement("li");E.za(l,m);return c.concat(m)},[]);E.move(d,c);return c}
function ji(a){var b=h.ha(hi),c=E.children(a),d=[],e=c.length,g,l,m;for(g=0;g<e;g++)if(m=c[g],"P"===m.nodeName&&E.hasClass(m,"MsoTocHeading"))d.push(ci.Ic(m,"h1"));else if(hi(m)){l=m=q.split(E.na(m),b)[0];for(var n=ji,p=void 0,s=void 0,t=void 0,y=void 0,z=void 0,aa=void 0,X=t=void 0,ba="_aloha"+(new Date).getTime(),p=0;p<l.length;p++){y=n(l[p]);X=(s=gi.exec(E.ba(y,"class")))&&s[1]?parseInt(s[1],10):null;if(!z)aa=z={parent:null,ma:1,node:y,items:[]},z[ba]=!0;else if(X>z.ma)for(s=z.ma;s<X;s++)z={parent:z,
ma:s+1,node:y,items:[]},z[ba]=!0,t=q.m(z.parent.items),t||(t=[],z.parent.items.push(t)),t.push(z);else if(X<z.ma)for(s=X,t=z.ma;s<t&&z.parent;s++)z=z.parent;z.items.push(E.children(y))}if(l=aa&&ii(aa,ba))d.push(l),g+=m.length-1}else d.push(ji(m));a=E.clone(a,!1);E.move(d,a);return a};var ki={transform:ji},li=/xml|v\:\w+/i,mi=/o\:(\w+)/i;function ni(a,b){if(b.nodeType===E.Nodes.COMMENT||li.test(b.nodeName))return[];if(E.b(b))return[E.clone(b)];if(E.hasClass(b,"MsoTitle"))return[ci.Ic(b,"h1")];if(E.hasClass(b,"MsoSubtitle"))return[ci.Ic(b,"h2")];var c;return(c=(c=b.nodeName.match(mi))?c[1]:null)?[ci.Ic(b,c)]:[E.clone(b)]}
var oi={transform:function(a,b,c){c||(c=ci.Yd);a=N.parse(ci.gc(a),b);b=b.createElement("div");E.move(a,b);c=ci.normalize(c,b,ni)||b;c=Th.transform(c);c=ki.transform(c);c=Xh.transform(c);c=E.children(c);return 0===c.length?"":c[0].innerHTML},gg:function(a,b){var c=b.createElement("div");E.move(N.parse(a,b),c);return null!==c.querySelector('[style*="mso-"],[class^="Mso"]')}};var pi={$c:function(a,b,c){c||(c=ci.Yd);var d=b.createDocumentFragment();E.move(N.parse(ci.gc(a),b),d);return E.Fc(ci.normalize(c,d,fi))},Ke:function(a){return a.split(/\n/).reduce(function(a,c){return a.concat("<p>",c.trim()||"<br>","</p>")},[]).join("")},Ee:oi.transform};function qi(a){var b=N.next(a,"char");return b&&H.da(b)?(a=H.a(b),b=H.offset(b),a.data.substr(b-1,1)):""}function ri(a,b){var c=N.l(a,b);return"word"===b&&C.ac.test(qi(c))?ri(c,b):c}function si(a,b){return"word"===b&&C.ac.test(qi(a))?si(N.next(a,"char"),b):N.next(a,b)}function ti(a,b){var c=H.ga(a,b),c=E.Ta(c,function(a){return N.d(a)||E.e(a)}),c=q.m(c),d=E.q(c);return[H.create(c,0),si(H.create(c,d))]}
var Q={expand:function(a,b,c){switch(c){case "word":return[ri(a,"word")||a,si(b,"word")||b];case "block":return ti(a,b);default:throw'"'+c+"\"? what's that?";}},next:si,l:ri,ya:N.Qd,forward:N.Lc,H:N.H,k:N.k,dg:N.dg,Sc:function(a){if(H.Y(a))return a;var b=N.pd(a);a=H.a(a);return-1===b?H.Ka(a):H.create(a,b)}};var ui=fa;function vi(a){var b=Q.l(a,"char");return b?b:N.d(H.o(a))?a:vi(Q.l(a,"boundary"))}function wi(a){var b=Q.next(a,"char");return b?b:N.d(H.nextNode(a))?a:wi(Q.next(a,"boundary"))}function xi(a){a=a.getClientRects()[0]||a.getBoundingClientRect();return{top:a.top,left:a.left,width:a.width,height:a.height}}
var R={G:function(a,b){b||(b=a);var c=H.N(a,b),d;a:{d=H.ua(c);var e=H.$a(c);if(d=H.k(e)||N.d(H.nextNode(e))||N.k(d)?null:H.N(d,wi(e))){d=xi(d);if(e=d.width){e=d;if(ui.chrome&&c.collapsed)var g=E.r(c.startContainer,E.b),g=parseInt(E.getComputedStyle(g,"font-size"),10),e=e.width>g;else e=!1;e=!e}if(e)break a}d=c.cloneRange();g=H.ua(d);H.da(g)||H.H(g)||N.s(H.pa(g))?e=g:(e=E.clone(H.a(g),!0),g=H.offset(g)-1,E.remove(e.childNodes[g]),e=H.create(e,g));d=H.$a(d);(d=H.H(e)||N.d(H.o(e))?null:H.N(vi(e),d))?
(d=xi(d),d.left+=d.width):d=xi(c)}c=c.commonAncestorContainer.ownerDocument;c["!aloha-br-style-fix"]||(e=c.createElement("style"),E.append(c.createTextNode('.aloha-editable br,.aloha-editable br:after{content:"\\A";white-space:pre-line;}'),e),E.append(e,c.head),c["!aloha-br-style-fix"]=!0);if(0<d.width||(d=H.Z(a)||H.pa(a))&&!E.b(d)&&(d=xi(d)))return{top:d.top+E.scrollTop(c),left:d.left+E.scrollLeft(c),width:d.width,height:d.height};d=H.a(a);return{top:d.offsetTop+E.scrollTop(c),left:d.offsetLeft+
E.scrollLeft(c),width:d.offsetWidth,height:parseInt(E.getComputedStyle(d,"line-height"),10)}},Jg:function(a,b){var c=b.querySelector(".aloha-caret-box-hint");c||(c=b.createElement("div"),E.addClass(c,"aloha-caret-box-hint","aloha-ephemera"));u.extend(c.style,{top:a.top+"px",left:a.left+"px",height:a.height+"px",width:a.width+"px",position:"absolute",background:"red",opacity:.2});E.append(c,b.body);return c},Yf:function(a){(a=a.querySelector(".aloha-caret-box-hint"))&&E.remove(a);return a||null}};function yi(a,b){if(a!==b)throw Error("assertion error "+a+" !== "+b);}function zi(){throw Error();}function Ai(a){a=H.normalize(a);return H.Y(a)?H.H(a)?null:E.fa(a[0],a[1]-1):a[0]}function Bi(a){a=H.normalize(a);return H.Y(a)?H.k(a)?null:E.fa(a[0],a[1]):a[0].nextSibling}function Ci(a){a=H.normalize(a);var b=Ai(a),c=0;H.Y(a)||(c+=a[1],b=b.previousSibling);for(;b&&E.b(b);)c+=E.q(b),b=b.previousSibling;return c}function Di(a,b,c){return{changes:b,meta:a,selection:c}}
function Ei(a,b){for(var c=[];b&&a!==b;){var d=b.parentNode;if(!d)return[];var e=E.zc(b);c.push([e,d.nodeName]);b=d}c.reverse();return c}function Fi(a,b){for(var c=0;c<b.length-1;c++){var d=b[c];yi(d[1],a.nodeName);a=E.Ac(a,d[0])}d=q.m(b);c=d[0];a=E.v(a,E.Kb);yi(d[1],a.nodeName);if(E.b(a)){if(0===c)throw Error("assertion error "+c+" === 0");for(;c>E.q(a);)d=E.b(a),yi(d,!0),c-=E.q(a),a=a.nextSibling;E.b(a)||(yi(c,0),a=a.parentNode,c=E.u(a))}else c=E.Gc(a,c);return H.normalize([a,c])}
function Gi(a,b){var c=Ei(a,b),d=E.Bc(b);c.push([d,b.nodeName]);return c}function Hi(a,b){b=H.normalize(b);var c,d=Ci(b);d?(c=Ai(b),c=E.J(c,E.Kb),c=Ei(a,c),c.push([d,"#text"])):c=H.k(b)?Gi(a,b[0]):Ei(a,Bi(b));return c}function Ii(a,b){if(!b)return null;var c=Hi(a,H.ua(b)),d=Hi(a,H.$a(b));return c&&d?{start:c,end:d}:null}function Ji(a,b){if(b.opts.noObserve)a.observer.discardChanges();else{var c=a.observer.takeChanges();c.length&&b.records.push({changes:c})}}
function Ki(a,b,c,d){(d.opts.partitionRecords&&!d.opts.noObserve||!!c.opts.noObserve!==!!d.opts.noObserve)&&Ji(a,b)}function Li(a){a.frame&&(a.observer.disconnect(),a.frame=null)}function Mi(a,b){b=b||{};var c=a.frame,d=a.observer,e=a.elem,g={opts:u.g(b,{noObserve:b.noObserve||c&&c.opts.noObserve}),records:[],oldRange:Ii(e,b.oldRange),newRange:null};c?(Ki(a,c,g,c),a.stack.push(c)):d.observeAll(e);a.frame=g}
function Ni(a,b){var c=a.frame,d=a.stack.pop();d?Ki(a,c,c,d):(Ji(a,c),Li(a));var e=c.opts.noObserve;yi(!(e||!b||!b.changes),!1);e&&b&&b.changes&&b.changes.length&&c.records.push({changes:b.changes});c.newRange=Ii(a.elem,b&&b.newRange);d&&(d.records.push({frame:c}),a.frame=d);return c}function Pi(a,b,c){Mi(a,b);b=c();return Ni(a,b)}function Qi(a,b,c){Pi(a,u.g(b,{noObserve:!0}),c);(a=a.frame)&&a.records.pop()}function Ri(a,b){return{type:"insert",path:a,content:b}}
function Si(a,b){return{type:"delete",path:a,content:b}}function Ti(a,b,c){var d=[];u.forEach(c,function(a){var c=a.name,l=a.ns;d.push({name:c,ns:l,oldValue:a.oldValue,newValue:E.pe(b,l,c)})});return{type:"update-attr",path:a,attrs:d}}
function Ui(a,b,c,d){a.forEach(function(a){var g=E.ia(a.node),l=a.type;if(4===l){var l=a.w,m=a.target,n=l?c:d,p=E.ia(l?l:m),s=n[p]=n[p]||[];b[g]?delete b[g]:s.push(a);if(a=c[g])delete c[g],!s.length&&a.length&&(g=a[0],g.w=l,g.target=m),n[p]=s.concat(a)}else 0===l?(yi(!!b[g],!1),b[g]=a):zi()})}function Vi(a,b){var c=b.w,d=b.target,e=a.node;return c?c===e||E.contains(c,e)?!0:!E.ta(c,e)&&!E.contains(e,c):d===e||E.contains(d,e)?!1:!E.ta(d,e)&&!E.contains(e,d)}
function Wi(a,b){var c=b.w,d=b.target;return c?E.contains(c,a)?!0:E.contains(a,c)?!1:E.ta(a,c):a===d||E.contains(d,a)||E.contains(a,d)?!1:E.ta(a,d)}function Xi(a,b){var c=4&a.type,d=4&b.type,e;if(c&&d){c=a.w;d=b.w;e=a.target;var g=b.target;e=c?Wi(c,b):d?!Wi(d,a):E.ta(e,g)}else c||d?!c&&d?e=Vi(a,b):c&&!d&&(e=!Vi(b,a)):e=E.ta(a.node,b.node);return e?-1:1}function Yi(a){a.sort(Xi);a.forEach(function(a){(5===a.type?a.records:[a]).forEach(function(a){a.Ua&&4&a.type&&Yi(a.Ua)})})}
function Zi(a,b){var c={};b.forEach(function(a){(5===a.type?a.records:[a]).forEach(function(a){var b=a.type;if(b&4||0===b){var b=E.ia(a.node),d=c[b]||[];d.push(a);c[b]=d}})});var d=E.ia(a);yi(!!c[d],!1);var e={type:0,node:a,Ua:[]};c[d]=[e];b.forEach(function(a){var b=E.r(4&a.type?a.target:a.node.parentNode,function(a){return!c[E.ia(a)]});b&&c[E.ia(b)].forEach(function(b){b.Ua.push(a)})});return e.Ua}
function $i(a,b,c,d){function e(a){var b=E.ia(a.node);4===a.type&&(a.df=c[b],a.ef=d[b]);delete c[b];delete d[b]}var g={},l={},m={};Ui(b,m,g,l);b=u.jb(g).concat(u.jb(l));b=b.filter(function(a){return a.length});b=b.map(function(a){var b=a[0];a.forEach(e);return{type:5,records:a,target:b.target,w:b.w}});m=u.jb(m);m.forEach(e);a=Zi(a,b.concat(m).concat(u.jb(c)).concat(u.jb(d)));Yi(a);return a}
function aj(a,b,c){var d=b.w;d?(b=E.u(d)+1,d=[d.parentNode,b]):d=[b.target,0];c?(c=H.normalize(d),d=Bi(c),Ci(c)&&(d=E.v(d,E.b)),a=d?Ei(a,d):Gi(a,c[0])):a=Hi(a,d);return a}function bj(a){var b=a.node,c;E.b(b)?c=(a=a.ef)?b.ownerDocument.createTextNode(a.oldValue):E.clone(b):(c=E.clone(b),(b=a.df)&&u.forEach(b.attrs,function(a){E.Kd(c,a.ns,a.name,a.oldValue)}));return c}
function cj(a,b,c,d){var e=null,g=null;d.forEach(function(d){var m=d.type,n;if(5===m){g=null;n=a.concat(aj(b,d));var p=a.concat(aj(b,d,!0)),s=null;d.records.forEach(function(a){var b=a.Ua;b.length&&(cj(p,a.node,c,b),s=null);a=bj(a);s?s.push(a):(s=[a],c.push(Si(n,s)))})}else 0===m?(m=d.node,n=a.concat(Hi(b,[m.parentNode,E.u(m)])),g&&g===m.previousSibling?e.push(E.clone(m)):(e=[E.clone(m)],c.push(Ri(n,e))),g=m):1===m?(g=null,m=d.node,n=a.concat(Hi(b,[m.parentNode,E.u(m)])),c.push(Ti(n,m,d.attrs))):
2===m?(g=null,m=d.node,n=a.concat(Hi(b,[m.parentNode,E.u(m)])),c.push(Si(n,[m.ownerDocument.createTextNode(d.oldValue)])),c.push(Ri(n,[E.clone(m)]))):zi()})}
function dj(a,b){var c={},d={},e=[];b.forEach(function(a){var b=a.target,g=a.oldValue,l=a.type,t;if("attributes"===l)l=a.attributeName,a=a.attributeNamespace,t=E.ia(b),t=(c[t]=c[t]||{type:1,node:b,attrs:{}}).attrs,g={oldValue:g,name:l,ns:a},l=l+" "+a,t[l]=t[l]||g;else if("characterData"===l)t=E.ia(b),d[t]=d[t]||{type:2,node:b,oldValue:g};else if("childList"===l){var y=a.previousSibling;q.X(a.removedNodes).forEach(function(a){e.push({type:4,node:a,target:b,w:y,Ua:[],df:null,ef:null})});q.X(a.addedNodes).forEach(function(a){e.push({type:0,
node:a,Ua:[]})})}else zi()});var g=$i(a,e,c,d),l=[];cj([],a,l,g);return l}function ej(){function a(){var a=c.concat(d.takeRecords());c.length=0;return dj(b,a)}var b=null,c=[],d=new MutationObserver(function(a){c=c.concat(a)});return{observeAll:function(a){d.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0});b=a},takeChanges:a,discardChanges:a,disconnect:function(){b=null;c.length=0;d.disconnect();d=null}}}
function fj(){var a=null,b=null;return{observeAll:function(c){a=c;b=E.clone(c)},takeChanges:function(){if(E.isEqualNode(b,a))return[];var c=b,d=E.clone(a);b=d;var e=[];e.push([0,d.nodeName]);var g=[];g.push(Si(e,E.children(c)));g.push(Ri(e,E.children(d)));return g},discardChanges:function(){b=E.clone(a)},disconnect:function(){b=a=null}}}
function gj(a,b,c,d,e){var g=b.type,l,m;"update-attr"===g?(l=Fi(a,b.path),m=Bi(l),b.attrs.forEach(function(a){E.Kd(m,a.ns,a.name,a.newValue)})):"update-range"===g?(g=b.newRange,c&&g&&(b=Fi(a,g.start),a=Fi(a,g.end),H.Jc(c,b,a))):"insert"===g?(l=Fi(a,b.path),b.content.forEach(function(a){a=E.clone(a);E.b(a)&&e.push(a);l=M.ja(a,l,!0,d)})):"delete"===g?(l=Fi(a,b.path),l=M.Ub(l,d),m=E.oa(l[0],l[1]),b.content.forEach(function(a){var b;if(E.b(a))for(var c=E.q(a);c;){yi(m.nodeName,a.nodeName);var g=E.q(m);
c>=g?(b=m.nextSibling,M.Hd(m,d),c-=g):(l=M.Ub([m,c],d),c=Ai(l),b=Bi(l),M.Hd(c,d),c=0,e.push(b));m=b}else b=m.nextSibling,yi(m.nodeName,a.nodeName),M.Hd(m,d),m=b})):zi()}function hj(a,b,c){var d=[];b.forEach(function(b){gj(a,b,null,c,d)});d.forEach(function(a){M.jg(a,c)})}function ij(a,b,c,d){hj(a,b.changes,d);c&&b.selection&&gj(a,b.selection,c,d,[])}
function jj(a){var b=a.type,c;"update-attr"===b?c=u.g(a,{attrs:a.attrs.map(function(a){return u.g(a,{oldValue:a.newValue,newValue:a.oldValue})})}):"update-range"===b?c=u.g(a,{oldRange:a.newRange,newRange:a.oldRange}):"insert"===b?c=u.g(a,{type:"delete"}):"delete"===b?c=u.g(a,{type:"insert"}):zi();return c}function kj(a){var b=a.changes.slice(0).reverse().map(jj);return Di(a.meta,b,jj(a.selection))}
function lj(a,b){var c=[];b.records.forEach(function(b){var e=b.frame;b=e?lj(a,e):b.changes;c=c.concat(b)});return c}function mj(a,b){return Di(a.opts.meta,b,{type:"update-range",oldRange:a.oldRange,newRange:a.newRange})}function nj(a,b){var c=[];b.records.forEach(function(d){var e;(e=d.frame)?(d=lj(a,e),e=mj(e,d)):e=mj(b,d.changes);c.push(e)});return c}
function oj(a){yi(!!a.stack.length,!1);var b=a.history,c=a.historyIndex,d=a.frame;Ji(a,d);var e=nj(a,d);if(e.length){b.length=c;c=q.m(b);if(1===e.length&&c&&!a.cg){var g=e[0],l=a.opts,m=c.changes,n=g.changes;if(m.length&&n.length){var p=c.meta&&c.meta.type,s=g.meta&&g.meta.type;if("typing"!==p&&"enter"!==p||"typing"!==s)c=null;else{var m=m[0],n=n[0],p=m.path,s=n.path,t=q.m(p),y=q.m(s);t&&"#text"!==t[1]&&(t=["#text",0],p=p.concat([t]));"insert"!==m.type||m.type!==n.type||"#text"!==t[1]||t[1]!==y[1]||
1!==m.content.length||1!==n.content.length||!E.b(m.content[0])||!E.b(n.content[0])||l.ng<=E.q(m.content[0])||t[0]+E.q(m.content[0])!==y[0]||!q.fc(p.slice(0,p.length-1),s.slice(0,s.length-1),q.fc)?c=null:(l=E.clone(m.content[0]),l.insertData(E.q(l),n.content[0].data),c=Di(c.meta,[Ri(p,[l])],{type:"update-range",oldRange:c.selection.oldRange,newRange:g.selection.newRange}))}}else c=null;c&&(b.pop(),e=[c])}a.cg=!1;b=b.concat(e);e=a.opts.og;b.length>e&&(b=b.slice(b.length-e,b.length));d.records=[];a.history=
b;a.historyIndex=b.length}}
var pj={xa:function(a,b){b=u.g({ng:20,og:1E3},b);var c={elem:a,observer:null,stack:[],frame:null,opts:b,history:[],historyIndex:0};c.observer=!b.noMutationObserver&&window.MutationObserver?ej():fj();return c},oe:Mi,close:Li,lg:Ni,nb:Pi,rg:Hi,nh:function(a,b){var c=lj(a,b);return mj(b,c)},Ch:kj,kh:ij,ih:oj,mg:Ri,undo:function(a,b,c){oj(a);var d=a.history,e=a.historyIndex;if(e){--e;var g=kj(d[e]);Qi(a,{meta:{type:"undo"}},function(){ij(a.elem,g,b,c)});a.historyIndex=e}},Qe:function(a,b,c){oj(a);var d=
a.history,e=a.historyIndex;if(e!==d.length){var g=d[e],e=e+1;Qi(a,{meta:{type:"redo"}},function(){ij(a.elem,g,b,c)});a.historyIndex=e}}};function qj(a,b){return a.editables[E.ia(b)]}function rj(a,b){delete a.editables[b.id]}function sj(a,b){a.editables[b.id]=b;b.editor=a}function tj(a){pj.close(a.undoContext)}
var uj={defaultBlock:"p",mb:w.mb(),lb:w.lb(),Va:w.Va(),Pb:w.Pb()},vj={Vf:qj,D:function(a,b){var c=H.a(b);return(c=E.r(c,function(b){return!a.editables[E.ia(b)]}))&&qj(a,c)},mh:sj,rh:rj,is:function(a){return a&&a.elem&&a.elem.hasOwnProperty&&a.elem.hasOwnProperty("!aloha-expando-node-id")},close:tj,create:function(a,b,c){E.K(b,"min-height")||E.h(b,"min-height","1em");E.h(b,"cursor","text");E.addClass(b,"aloha-editable");var d=pj.xa(b);b={id:E.ia(b),elem:b,undoContext:d};b.We=u.g({},uj,c);sj(a,b);pj.oe(b.undoContext,
{meta:{type:"external"},partitionRecords:!0});return b},ne:function(a,b){var c=qj(a,b);if(!c)return null;tj(c);rj(a,c);"1em"===E.K(b,"min-height")&&E.h(b,"min-height","");E.h(b,"cursor","");E.removeClass(b,"aloha-editable");return c}};var wj=fa;function xj(a,b){var c=R.G(b);u.extend(a.style,{top:c.top+"px",left:c.left+"px",height:c.height+"px",width:"2px",display:"block"})}function yj(a){var b={};b.padding=a.bold?"1.5px":"0px";b[wj.Ga+"transform"]=a.italic?"rotate(16deg)":"";b.background=a.color||"black";return b}function zj(a,b){var c=H.a(a),d=H.a(b),e=H.offset(a),g=H.offset(b);return c===d&&e>g||E.ta(d,c)}function Aj(a,b,c){return(a=H.aa(a.left,a.top-b,c))&&H.N(a,a)}
function Bj(a,b,c){return(a=H.aa(a.left,a.top+a.height+b,c))&&H.N(a,a)}function Cj(a,b,c){var d;"start"===c?(d=a[0],a=b[1]):(d=b[0],a=a[1]);return zj(d,a)?{boundaries:[a,d],focus:"start"===c?"end":"start"}:{boundaries:[d,a],focus:c}}function Dj(a,b,c,d){"up"===a?(a=H.create(b.editable.elem,0),a=N.Za(a)):(a=H.Ka(b.editable.elem),a=N.Ya(a));a=[a,a];return B.va(b,"shift")?Cj(a,c,d):{boundaries:a,focus:d}}
function Ej(a,b){var c=H.N(a,a),d=H.document(a),e=R.G(a),g=e.height/4,l=0,m;do l+=g,m=b(e,l,d);while(m&&be.j(m,c));return m&&H.ua(m)}
function Fj(a,b){for(var c=H.document(a),d=R.G(b),e=d.top,d=d.left,g,l,m,n,p,s,t=[],y=a;y;){g=R.G(y);l=g.top;m=H.a(y);n=E.r(m,h.ha(N.d));if(!n)break;(s=e<l+g.height)?(m=0===t.length?g.left:E.offset(n).left,p=d-m):0===t.length?(m=g.left,p=(n.clientWidth||n.offsetWidth)-(m-E.offset(n).left)):(m=E.offset(n).left,p=n.clientWidth||n.offsetWidth);n=H.aa(m,l,c);p=H.aa(m+p,l,c);if(!n||!p)break;m=R.G(n).left;n=R.G(p).left;t.push({top:l,left:m,width:n-m,height:g.height});if(s)break;y=Gj(y)}return t}
function Hj(a){return!N.M(a)&&N.s(a)&&N.d(a)}function Ij(a){return!N.M(a)&&N.s(a)}function Jj(a,b,c){a=b(a);var d=Hj(a)?a:c(a,Hj);if(!d)return null;c=!!E.r(a,function(a){return a!==d});return{ie:d,qc:c}}function Gj(a){var b,c=R.G(a),d=Kj(a);if(d){b=N.Za(H.Ib(d));d=H.Z(b);b=R.G(b);var e=E.b(d)?b.top:E.Ha(d),e=e+b.height/2;b=H.aa(c.left,e,d.ownerDocument)}return(b=b||Ej(a,Bj))&&c.top!==R.G(b).top?b:a}
function Lj(a){var b=Jj(a,H.o,E.Db);if(!b)return null;var c=R.G(a);a=b.ie;var c=c.top-c.height,d=E.Ha(a);b.qc||(d+=a.clientHeight||a.offsetHeight);return c>=d?null:(b=b.qc?E.Pa(a,!0,Ij,E.e):a)?N.ka(b)?E.Db(b.nextSibling,N.Ma):b:null}function Kj(a){var b=Jj(a,H.nextNode,E.Hb);if(!b)return null;var c=b.ie;a=R.G(a);a=a.top+a.height+a.height;var d=E.Ha(c);b.qc&&(d+=c.clientHeight||c.offsetHeight);return a<=d?null:(b=b.qc?E.Pa(c,!1,Ij,E.e):c)?N.ka(b)?E.Hb(b.previousSibling,N.Ma):b:null}
function Mj(a,b,c,d){var e=c["start"===d?0:1],g=H.document(e),l=E.ec(g),m=E.scrollTop(g),n=l.innerHeight,p=R.G(e),s=Lj(e),t=Kj(e),t=t&&!E.b(t)?E.Ha(t)+p.height:p.top+p.height+p.height,s=s&&!E.b(s)?E.Ha(s)+(s.clientHeight||s.offsetHeight)-p.height:p.top-p.height,p=p.height,y=0;s<=m?"up"===a&&(y=s-p):t>=m+n&&"down"===a&&(y=t-n+p+p);y&&l.scrollTo(E.scrollLeft(g),y);if("up"===a){var z;a=R.G(e);if(g=Lj(e))z=N.Ya(H.Ka(g)),g=H.o(z),z=R.G(z),z=E.b(g)?z.top+z.height/2:E.Ha(g)+(g.clientHeight||g.offsetHeight)-
z.height/2,z=H.aa(a.left,z,g.ownerDocument);e=(z=z||Ej(e,Aj))&&a.top!==R.G(z).top?z:e}else e=Gj(e);return e?B.va(b,"shift")?Cj([e,e],c,d):{boundaries:[e,e],focus:d}:{boundaries:c,focus:d}}
function Nj(a,b,c,d){var e=B.va(b,"shift"),g=c[0];c=c[1];var l=H.j(g,c);if(l||!e)d="left"===a?"start":"end";var m="start"===d?g:Q.Sc(c);if(l||e)b=B.va(b,"ctrl")||B.va(b,"alt")?"word":"visual",a="left"===a?Q.l(m,b):Q.next(m,b),E.e(H.a(a))&&(H.H(m)?a=N.Za(m):H.k(m)&&(a=N.Ya(m))),a&&(m=a);return e?{boundaries:"start"===d?[m,c]:[g,m],focus:d}:{boundaries:[m,m],focus:d}}
function Oj(a,b){var c=R.G(a),d=H.a(a);E.b(d)&&(d=d.parentNode);var e=parseInt(E.getComputedStyle(d,"font-size")),c=c?c.top:E.Ha(d),c=c+(e?e/2:0),e=E.offset(b).left;return{top:c,left:e,right:e+(b.clientWidth||b.offsetWidth)}}var S={};S.left=S["*+left"]=h.c(Nj,"left");S.right=S["*+right"]=h.c(Nj,"right");S.up=S["*+up"]=h.c(Mj,"up");S.down=S["*+down"]=h.c(Mj,"down");S.pageUp=S["meta+up"]=h.c(Dj,"up");S.pageDown=S["meta+down"]=h.c(Dj,"down");
S.home=S["meta+left"]=S["meta+shift+left"]=function(a,b,c){var d=Oj(b[0],a.editable.elem);if(d=H.aa(d.left,d.top,H.document(b[0])))b=b["end"===c?0:1],b=B.va(a,"shift")?[d,b]:[d,d],c="start";return{boundaries:b,focus:c}};S.end=S["meta+right"]=S["meta+shift+right"]=function(a,b,c){var d=Oj(b[1],a.editable.elem);if(d=H.aa(d.right-1,d.top,H.document(b[0])))b=b["start"===c?1:0],b=B.va(a,"shift")?[b,d]:[d,d],c="end";return{boundaries:b,focus:c}};function Pj(a,b,c,d){return Cj(b,d,c)}
function Qj(a,b){return{boundaries:b,focus:"end"}}
var Rj={keydown:function(a,b,c){var d=Ve.Nd(a.meta,a.keycode,S);return d?(B.preventDefault(a.nativeEvent),d(a,b,c)):{boundaries:b,focus:c}},"aloha.dblclick":function(a,b){return{boundaries:Q.expand(b[0],b[1],"word"),focus:"end"}},"aloha.tplclick":function(a,b){return{boundaries:Q.expand(b[0],b[1],"block"),focus:"end"}},"aloha.mouseup":Pj,mouseup:Pj,mousedown:function(a,b,c,d,e){if(!e)return{boundaries:b,focus:c};a=b[0];c=d["start"===c?1:0];return zj(a,c)?{boundaries:[c,a],focus:"end"}:{boundaries:[a,
c],focus:"start"}},dragover:Qj,drop:Qj,resize:function(a,b,c){return{boundaries:b,focus:c}},paste:function(a,b){return{boundaries:b,focus:"end"}}};
function Sj(a){function b(c,d){Ja.zf(c,d,Ja.Qf,100,function(c,d){if(!g)return!0;E.h(a,"opacity",c);1>d||(0===c?e.push(setTimeout(function(){b(0,1)},300)):1===c&&e.push(setTimeout(function(){b(1,0)},500)))})}function c(){g=!1;E.h(a,"opacity",1);e.forEach(clearTimeout);e=[]}function d(){c();g=!0;e.push(setTimeout(function(){b(1,0)},500))}var e=[],g=!0;return{start:function(){c();e.push(setTimeout(d,50))},stop:c}}
function Tj(a){var b=a.createElement("textarea");u.extend(b.style,{overflow:"hidden",width:"1px",height:"1px",outline:"0",opacity:"0.01"});var c=a.createElement("div");u.extend(c.style,{overflow:"hidden",cursor:"text",color:"#000",zIndex:"9999",display:"none",position:"absolute"});E.addClass(c,"aloha-caret","aloha-ephemera");E.append(b,c);E.append(c,a.body);return{he:Sj(c),focus:"end",boundaries:null,event:null,dragging:null,md:null,ke:0,lastMouseEvent:"",caret:c,formatting:[],overrides:[]}}
function Uj(a){var b=R.G(a),c=H.document(a);a=E.ec(c);var d=E.scrollTop(c),c=E.scrollLeft(c),e=a.innerHeight,g=a.innerWidth,l=b.height,m=b.top,b=b.left,n=0,p=0;m<d?n=m-l:m>d+e&&(n=m-e+l+l);b<c?p=b-l:b>c+g&&(p=b-g+l+l);(n||p)&&a.scrollTo(p||c,n||d)}function Vj(a,b){var c=P.Oa(b.formatting,P.Aa(a),b.overrides),c=u.g(u.kd(c));c.color||(c.color=E.getComputedStyle(E.b(a)?a.parentNode:a,"color"));return c}var Wj=/^mobile\./;
function Xj(a,b,c,d){var e="start"===d?b:c,g=H.a(e);if(!E.cb(g))return E.h(a.caret,"display","none"),a;xj(a.caret,e);u.extend(a.caret.style,yj(Vj(g,a)));e=E.getComputedStyle(E.b(g)?g.parentNode:g,"font-size");E.h(a.caret,"font-size",e);H.select(b,c);a.he.start();return u.g(a,{boundaries:[b,c],focus:d})}
var Yj={mousemove:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,"aloha.dblclick":!0,"aloha.tplclick":!0},Zj={mousedown:!0,mouseup:!0,click:!0,dblclick:!0,"aloha.dblclick":!0,"aloha.tplclick":!0},ak={dblclick:!0,"aloha.dblclick":!0,"aloha.tplclick":!0},T={is:function(a){return a&&a.xh&&a.hasOwnProperty("focus")&&a.hasOwnProperty("caret")&&a.hasOwnProperty("boundaries")?!0:!1},ig:function(a){return a&&a.hasOwnProperty&&a.hasOwnProperty("dnd")&&a.hasOwnProperty("editable")&&a.hasOwnProperty("selection")&&
a.hasOwnProperty("nativeEvent")},show:xj,select:Xj,focus:Uj,update:function(a){var b=a.selection;if(!(Wj.test(a.type)||a.Bd||b.dragging&&"dragover"!==a.type))if("leave"===a.type)E.h(b.caret,"display","none");else{var c=a.type;if("mouseup"===c||"click"===c||"dblclick"===c)E.h(b.caret,"display","block");else return b=Xj(b,b.boundaries[0],b.boundaries[1],b.focus),c="start"===b.focus?b.boundaries[0]:b.boundaries[1],("keypress"===a.type||"paste"===a.type||Ve.Xd[a.keycode]||Ve.Fa.pageDown===a.keycode||
Ve.Fa.pageUp===a.keycode||Ve.Fa.undo===a.keycode&&("meta"===a.meta||"ctrl"===a.meta||"shift"===a.meta)||Ve.Fa.enter===a.keycode)&&Uj(c),b}},n:function(a){if(!Rj[a.type])return a;var b=a.selection,c=Rj[a.type](a,b.boundaries,b.focus,b.tg,B.va(a,"shift"));b.focus=c.focus;b.boundaries=c.boundaries;return a},xa:Tj,se:function(a){a=a.querySelectorAll("div.aloha-caret");var b=[];[].forEach.call(a,function(a){"block"===E.K(a,"display")&&(b.push(a),E.h(a,"display","none"))});return b},Sg:function(a){a.forEach(function(a){E.h(a,
"display","block")})},yh:function(a,b){var c=H.document(a);E.Sb(".aloha-selection-box",c).forEach(E.remove);return Fj(a,b).map(function(a){var b=c.createElement("div");u.extend(b.style,{top:a.top+"px",left:a.left+"px",height:a.height+"px",width:a.width+"px",position:"absolute",background:"red",opacity:.4});E.addClass(b,"aloha-selection-box","aloha-ephemera");E.append(b,c.body);return b})},Lh:Fj,Ue:function(a,b){var c=b.type,d=b.target.document||b.target.ownerDocument,e=a.selection||Tj(d),g=Zj[c]||
!1,l;if(e.dragging)l=e.dragging;else if("mousemove"!==b.type)l=null;else{var m=e.lastMouseEvent;l="mousedown"===m||"aloha.dblclick"===m||"aloha.tplclick"===m?m:null}var n=l&&l!==e.dragging,m=E.K(e.caret,"display");(g||n)&&E.h(e.caret,"display","none");n&&(e.dragging=l);if("mousemove"===c)return null;"mouseup"===c&&e.dragging&&(c="aloha.mouseup",e.dragging=null);if(g){if("mousedown"!==b.type&&"dbclick"!==b.type&&"aloha.dblclick"!==b.type)l=null;else{l=new Date;var n=l-e.ke,p=e.md;e.md=null;e.ke=l;
l=500<n||!e.event||e.event.clientX!==b.clientX||e.event.clientY!==b.clientY?null:ak[p]?"aloha.tplclick":"aloha.dblclick"}c=l||c}ak[c]&&(e.md=c,B.preventDefault(b));Yj[c]&&(e.lastMouseEvent=c);d=g?(d=H.aa(b.clientX+E.scrollLeft(d),b.clientY+E.scrollTop(d),d))&&[d,d]:H.get(d);E.h(e.caret,"display",m);if(!d)return"click"!==c&&e.boundaries?(m=vj.D(a,e.boundaries[0]),{Bd:!1,type:"leave",nativeEvent:b,editable:m,selection:e,dnd:a.dnd}):null;m=H.ga(d[0],d[1]);g=H.a(d[0]);l=H.a(d[1]);m=!E.cb(m)&&(E.cb(g)||
E.cb(l));if("keydown"===c&&m)return B.preventDefault(b),null;m=vj.D(a,d[0]);if(!m)if(g=H.a(d[0]),g===e.caret?g=!0:(g=g.parentNode,g=g.parentNode===e.caret&&"true"===E.ba(g,"contentEditable")),g)c="mobile."+c;else return null;e.overrides=a.selection?a.selection.overrides:[];e.tg=e.boundaries||d;e.boundaries=d;e.event=b;return{Bd:!1,type:c,nativeEvent:b,editable:m,selection:e,dnd:a.dnd}}};function bk(a){return E.b(a)?3:N.Da(a)?5:8}function ck(a,b){for(var c=0;c<a.length;c++)if(b[c]!==a[c])return[];return b.slice(c)}function dk(a,b){var c=[],d=a.ownerDocument.body,e=K.D(d,H.$(a));b.forEach(function(a){c.push(ck(e,K.D(d,a)))});return c}
function ek(a,b,c){b=b||0;var d=[],e=[],g=[],l=!1;E.children(a).forEach(function(a,n){var p=bk(a),s=0,t=c.filter(function(a){return a[0]===n}).map(function(a){return a.slice(1)});p&2?(l&&d.push([b,b,"split"]),l=!0,g.push(a.data),s=a.data.length,e=e.concat(t.map(function(a){return b+(a[0]||0)}))):p&4?(l=!1,g.push("\u265e"),s=1,e=e.concat(t.map(function(a){return b+(a[0]||0)}))):(l=!1,p=ek(a,b,t),d=d.concat([[b,b+p.content.length,a]],p.Cd),g.push(p.content),s+=p.content.length,e=e.concat(p.Ec));b+=
s});return{content:g.join(""),Ec:e,Cd:d,collapsed:[]}}function fk(a,b,c){var d=a.content;return{content:d.substring(0,b)+d.substring(c),Ec:a.Ec.reduce(function(a,d){if(d>=b&&d<=c)return a;b<d&&(d-=Math.min(d,c)-b);return a.concat(d)},[]),Cd:a.Cd.reduce(function(a,d){var l=d[0],m=d[1];if(!l||!m||l>=b&&m<=c)return a.concat([[]]);b<l&&(l-=Math.min(l,c)-b);b<m&&(m-=Math.min(m,c)-b);return a.concat([[l,m].concat(d.slice(2))])},[])}}
var gk=C.bc.join(""),hk=q.sb(C.$b,C.Yb).join(""),ik=new RegExp("[^"+hk+gk+"]"),jk=new RegExp("["+hk+"]");function kk(a){for(var b=a.content,c=[],d=0,e=99,g;--e;){g=b.search(ik);if(-1===g){c.push([d,b.substring(0,b)]);break}if(0===g){g=b.search(jk);if(-1===g)break;d+=g;b=b.substring(g)}else 0===d||g===b.length?(c.push([d,b.substring(0,g)]),a=fk(a,d,d+g),b=a.content):1===g?(d++,b=b.substring(1)):(d++,c.push([d,b.substring(1,g)]),a=fk(a,d,d+g-1),b=b.substring(g))}a.collapsed=c;return a}
function lk(a){var b=E.r(H.a(a[0]),function(a){return!N.d(a)&&!E.e(a)});return kk(ek(b,0,dk(b,a)))}var mk={shift:function(a,b){return b},nb:function(a,b){var c=lk(a.selection.boundaries),d=c.Ec[0]||0;b.hc.focus();b.hc.value=c.content;b.hc.selectionEnd=d;b.hc.selectionStart=d;return{offset:d,field:b.hc,editable:a.editable,boundaries:a.selection.boundaries}},If:lk};function nk(a){return"#text"===a.name()}function ok(a,b){a=arguments[0];return 1===arguments.length?nk(a)?a.text():a.children():nk(a)?a.text(b.join("")):a.children(b)}function pk(a,b,c){return{T:a,R:b,frames:c}}function qk(a){return q.m(a.frames)}function U(a){return a.R[0]}function rk(a,b){b="number"===typeof b?b:1;return 0===b?a:pk(a.T.concat(a.R.slice(0,b)),a.R.slice(b),a.frames.concat())}function sk(a){return pk([],ok(U(a)),a.frames.concat(a))}
function tk(a){var b=a.T.concat(a.R),c=q.m(a.frames),b=ok(U(c),b);return pk(c.T.concat(),[b].concat(c.R.slice(1)),a.frames.slice(0,-1))}function uk(a){return a.frames.reduce(tk,a)}function vk(a){return a.reduce(function(a,c){return a+c.text().length},0)}
function wk(a,b){a=uk(a);for(var c,d=[];;)if(xk(a)){a=tk(a);if(yk(a))break;d=d.slice(0,-1);c=b(U(a),d);a=rk(zk(a,c),c.length)}else Ak(a)?(c=!0===U(tk(a)).fd?vk(a.T.filter(nk)):a.T.length,c=b(U(a),d.concat(c)),a=rk(zk(a,c),c.length)):(yk(a)||d.push(a.T.length),a=sk(a));return a}function Bk(a,b){b=b||h.Hc;for(a=uk(a);b(a);)if(xk(a)){do{if(yk(a))return a;a=tk(a)}while(xk(a));a=rk(a)}else a=Ak(a)?rk(a):sk(a);return a}
function Ck(a){var b=a.children().filter(nk).reduce(function(a,b){return a.concat(b.text())},[]).join("");return a.td&&a.td.text()===b?a.td:Dk([b])}function Ek(a){return U(a).domNode()}function Fk(a){return"string"===typeof a?"\u201c"+a+"\u201d":nk(a)?a.text():a.domNode().outerHTML}function Gk(a,b){return[a.substr(0,b),a.substr(b)]}function Hk(a,b,c){c=c?c.constructor===Qd||c.constructor===zc?[c]:c:[];return pk(a.T.concat(),c.concat(a.R.slice(b)),a.frames.concat())}
function Ik(a,b){return Hk(a,0,b)}function zk(a,b){return Hk(a,1,b)}var Jk=0;function Kk(a){var b=document.createElement("code");b.innerHTML=++Jk;b=Qd(b);b.rc=!0;b.ea=a;return b}function Lk(a){return!0===a.rc}
function Mk(a,b){var c={};u.forEach(b,function(b,e){var g,l;g=a;g=uk(g);l=Ek(g);var m=l.ownerDocument.body;l=K.D(m,H.$(l));var m=K.D(m,b),n;b:{for(n=0;n<l.length;n++)if(m[n]!==l[n]){n=[];break b}n=m.slice(n)}if(0===n.length)l=null;else{l=Kk(e);b:{m=g;for(g=n.concat().reverse();g.length;){for(;Lk(U(m));)m=rk(m);n=g.pop();if(nk(U(m))){g=m;m=n;m=Gk(ok(U(g)),m);g=pk([m[0]],[m[1]],g.frames.concat(g));break b}if(!0===U(m).fd){d:{var p=n;if(0===p)n=[0];else{n=U(m).children();for(var s=n.length,t=0,y=void 0,
y=void 0;t<s;)if(y=n[t],Lk(y))t++;else{y=p-y.text().length;if(0===y){n=[t+1];break d}if(0>y){n=[t,p];break d}t++;p=y}throw"Text offset out of bounds";}}m=rk(sk(m),n[0]);1!==n.length&&(n=Gk(ok(U(m)),n[1]),m=rk(Hk(m,1,[ok(Dk(),[n[0]]),ok(Dk(),[n[1]])])))}else s=n,n=sk(m),m=s+U(m).children().slice(0,s).filter(Lk).length,m=rk(n,m)}g=m}"string"===typeof U(g)&&(m=tk(g),n=Qd(document.createElement("q")),n.fd=!0,n.td=U(m),g=pk([ok(Dk(),g.T)],[ok(Dk(),g.R)],sk(zk(m,n)).frames.concat()));g=Ik(g,l)}c[e]=l;a=
g});return{wb:a,Nb:c}}function Dk(a){var b=document.createTextNode("");return"undefined"===typeof a?Qd(b):ok(Qd(b),a)}function yk(a){return 0===a.frames.length}function Ak(a){a=U(a);return"#text"===a.name()||Lk(a)||N.Da(a.domNode())}function xk(a){return 0===a.R.length}
function Nk(a,b){b=b||h.C;if(yk(qk(a))||b(a))return a;var c,d,e=tk(a);"string"===typeof U(a)?(c=Dk(),d=Dk()):(c=Qd(E.W(U(e).domNode())),d=Qd(E.W(U(e).domNode())));c=ok(c,a.T);d=ok(d,a.R);a=pk(e.T.concat(c),[d].concat(e.R.slice(1)),e.frames.concat());return Nk(a,b)}function Ok(a,b){a=Bk(uk(a),function(a){a=U(a);return!(a&&Lk(a)&&a===b)});return yk(a)?null:a}
var V={go:Ok,Wa:Ek,hint:function(a){return a.T.map(Fk).concat("\u2593",a.R.map(Fk)).join("")},update:function(a){var b=[];a=wk(a,function(a,c){return Lk(a)?(a.ea&&b.push({name:a.ea,path:c}),[]):[!0===a.fd?Ck(a):a]});var c=U(a).updateDom().domNode();return b.reduce(function(a,b){a[b.name]=K.ib(c,b.path);return a},{})},Eb:function(a){return q.m(a.T)},Sa:U,l:function(a,b){b="number"===typeof b?b:1;return 0===b?a:pk(a.T.slice(0,-b),a.T.slice(-b).concat(a.R),a.frames.concat())},next:rk,Vb:tk,Xa:sk,root:uk,
sg:qk,split:Nk,splice:Hk,i:Ik,replace:zk,remove:function(a){return Hk(a,1)},Wd:function(a,b){return Mk(pk([],[Qd(a)],[]),b)},H:function(a){return 0===a.T.length},k:xk,Pd:function(a,b,c){return Nk(Ok(a,b),c)},bg:function(a,b,c){return Ik(Ok(a,b),c)},rc:Lk,Kf:Kk};function Pk(a){return!N.d(a)&&!(a.parentNode&&E.e(a.parentNode))}function Qk(a,b){a=a.concat();var c=b.filter(N.s);if(0<c.length){var d=c[0].ownerDocument.createElement("li");E.move(c,d);a.push(d)}return a}function Rk(a){var b=[];E.Ja(a,function(a){b=M.removeNode(a,b)},function(a){return N.f(a)&&0===E.children(a).length?!1:!a.parentNode||E.e(a)||N.s(a)})}function Sk(a){return!N.f(a)&&N.d(a)}
function Tk(a,b){var c=E.Qb(a,Sk).concat(a);a!==b&&(c=c.concat(E.xb(a,function(a){return a===b}),b));return c.concat(E.xb(b,Sk))}
function Uk(a,b){if(0!==b.length){var c=E.r(b[0],Pk);N.f(c)&&!E.w(c)&&(c=c.parentNode);f.assert(w.sa(c.parentNode.nodeName,a),"Lists.format#Cannot create "+a+" inside of a "+c.parentNode.nodeName);for(var d=c.ownerDocument.createElement(a),e=[],g=[],l=b.concat(),m,n;0<l.length;)n=l.shift(),m=!N.ka(n)&&!N.M(n)&&!N.Lb(n),N.d(n)&&m?(m=E.children(n),g.push(n)):(m=[n],g.push(n.parentNode)),l=q.split(l,N.d),m=m.concat(l[0]),l=l[1],0<m.length&&e.push(m);E.i(d,c);E.move(e.reduce(Qk,[]),d);g.forEach(Rk)}}
function Vk(a,b,c){f.assert(N.Ca({nodeName:a.toUpperCase()}),"Lists.format#"+a+" is not a valid list container");var d;if(N.bb(b,c))return d=E.r(H.nextNode(b),function(a){return!N.d(a)&&!E.e(a.parentNode)}),Uk(a,Tk(d,d)),[b,c];d=H.ga(b,c);if(!N.d(d))return d=E.r(d,function(a){return a.parentNode&&!Sk(a.parentNode)&&!E.e(a.parentNode)}),Uk(a,Tk(d,d)),[b,c];d=E.r(H.nextNode(b),function(a){return!Sk(a)&&!E.e(a.parentNode)});var e=E.r(H.o(c),function(a){return!Sk(a)&&!E.e(a.parentNode)});Uk(a,Tk(d,e));
return[b,c]}function Wk(a){return a.filter(N.f).reduce(function(a,c){return a.concat(N.Tg(c))},[])}function Xk(a,b){function c(a){return!N.f(a)&&!E.e(a.parentNode)}var d=H.a(a),e=H.offset(a),g=H.a(b),l=H.offset(b),m=E.r(d,c),n=E.r(g,c);N.f(m)&&(m=Wk(E.na(m)),N.f(d)&&(d=m[0],e=0));if(d===g)return[H.create(d,e),b];N.f(n)&&(m=Wk(E.na(n)),N.f(g)&&(g=m[0],l=0));return[H.create(d,e),H.create(g,l)]}function Yk(a){var b=N.f;return E.r(a,function(a){return!b(a)&&!(a.parentNode&&E.e(a.parentNode))})}
function Zk(a){var b=H.o(a);if(E.b(b)){var c=b.data,d=H.offset(a),c=c.substr(0,d);if(C.Nc.test(c)||C.Xb.test(c))return!1;b=b.previousSibling||b.parentNode}b=Yk(b);if(!N.f(b))return!1;var b=H.$(b),e=0;N.Mc(b,a,function(a){e+=a.filter(N.s).length});return 0===e}function $k(a,b){for(var c=[];b--;)c.push(V.Sa(a)),a=V.remove(a);return{wb:a,records:c}}function al(a){return N.s(a.domNode())}function bl(a){var b=q.Tb(a.T.concat().reverse(),al);return-1===b?null:V.l(a,b+1)}
function cl(a){var b=q.Tb(a.R,al);return-1===b?null:V.next(a,b)}function dl(a){a=cl(a);return a&&N.f(V.Wa(a))?(a=cl(V.Xa(a)))&&N.Ca(V.Wa(a))?a:null:null}function el(a){a=bl(a);if(!a||!N.f(V.Wa(a)))return null;var b=V.next(V.Xa(a),a.R.length);a=bl(b);if(!a||!N.Ca(V.Wa(a)))return b;a=V.Xa(a);return V.next(a,a.R.length)}function fl(a,b){N.Ca(V.Wa(V.Vb(a)))||(a=V.Xa(V.i(a,Qd(document.createElement("UL")))));return V.i(a,b)}
var gl={$f:function(a,b){function c(a){return V.Wa(V.Vb(a))===g}var d=Yk(H.o(a)),e=Yk(H.nextNode(b));if(!N.f(d)||!N.f(e))return[a,b];a=H.$(d);b=H.ic(e);var g=H.ga(a,b),d=V.Wd(E.Gb(d),{start:a,end:b}),l=d.wb,l=V.Pd(l,d.Nb.start,c),l=V.Pd(l,d.Nb.end,c),m=dl(V.next(V.go(l,d.Nb.end))),e=[];m&&(l=V.Xa(m),l=$k(l,l.R.length),e=e.concat(l.records),l=V.remove(V.Vb(V.Vb(l.wb))));l=V.go(l,d.Nb.start);l=$k(l,q.Tb(l.R.slice(1),V.rc)+2);e=l.records.concat(e);l=el(l.wb)||V.Xa(V.i(l.wb,Qd(document.createElement("LI"))));
d=V.update(V.root(fl(l,e)));return[H.next(d.start),H.l(d.end)]},format:Vk,Sd:Xk,toggle:function(a,b,c){var d=H.a(b),e=H.a(c),d=E.r(d,N.f),e=E.r(e,N.f);return N.f(d)&&N.f(e)&&d.parentNode===e.parentNode&&d.parentNode.nodeName.toLowerCase()===a?Xk(b,c):Vk(a,b,c)},fg:function(a,b){var c=Yk(H.o(a));if(!N.f(c))return!1;var d=Yk(H.nextNode(b));return N.f(d)?c!==d||Zk(a):!1}};function hl(a,b,c,d,e,g){var l=c;E.Qa(a.firstChild,function(a){a!==b?l(a,g):(l=e,d(a,g))})}function il(a,b,c,d,e,g,l){var m,n=[];for(m=a.length;m--;){var p=c(a[m],l);null!=p&&(l=p);n.push(l)}n.reverse();a.length&&b&&E.Qa(a[0].firstChild,d,n[0]);for(m=0;m<a.length-1;m++)hl(a[m+1],a[m],d,e,g,n[m+1])}function jl(a,b,c,d){return function(e,g){e!==a||b?d(e,g):c(e,g)}}
function kl(a,b,c,d,e,g,l,m,n){var p=a.commonAncestorContainer;E.b(p)&&(p=p.parentNode);var s=a.startContainer,t=a.endContainer,y=a.startOffset,z=a.endOffset;a=a.collapsed;var aa=E.oa(s,y),X=E.oa(t,z),s=H.k(H.O(s,y)),y=H.k(H.O(t,z)),ba=E.pb(aa,p),z=E.pb(X,p),t=jl(aa,s,d,l),X=jl(X,y,g,l);il(ba,s,b,c,t,d,n);il(z,y,b,e,X,g,n);b=q.m(ba);d=q.m(z);t=jl(aa,s,m,l);E.Wb(p.firstChild,c,b,n);b&&(c=b.nextSibling,b===d?a||l(b,n):(t(b,n),E.Wb(c,m,d,n),d&&(c=d.nextSibling,X(d,n))),d&&E.Qa(c,g,n))}
function ll(a,b,c,d,e,g){kl(a,b,c,e,e,c,d,e,g)}function ml(a,b,c,d,e,g,l){var m=a.commonAncestorContainer;ll(a,d,l,e,g,c);a=E.ob(m,b);il(a,!1,d,l,e,l,null);e(b)}function nl(a,b,c,d,e){function g(a){l=l||!N.eb(a)&&!b(a)}var l=null;ll(a,h.V,g,h.V,h.V);if(l)return null;var m=a.commonAncestorContainer;E.b(m)&&(m=m.parentNode);a=E.Ta(m,function(a){return m!==a&&d(a)||c(a)||e(a)});var n=q.m(a);if(!d(n))return d(m)?m:null;il(a,!1,h.V,g,h.V,g);return l?d(m)?m:null:n}
function ol(a,b){var c=a.commonAncestorContainer,d=b.sc,e=b.kc,g=b.jc,l=b.ug,m=b.mc,n=b.nc,p=b.Hg,s=b.Df,t=b.isObstruction,y=b.isReusable,z=b.oc,aa=b.eg,X=b.ph||function(a){E.Bb(a,s)},ba=null,Aa=null,Xa=!1,Ca=!1,Bb=E.Ta(c,function(a){return!a.parentNode||E.Nodes.DOCUMENT===a.parentNode.nodeType||n(a)});Bb.forEach(function(a){Ca=Ca||d(a);var b=g(a);null==b||z(b)||(ba=a,Xa=Xa||Ca||!aa(a),null==Aa&&(Aa=b))});null==Aa&&(Aa=g(c));n(q.m(Bb))&&!Xa?ba?ml(a,ba,Aa,e,s,X,l):ll(a,e,l,s,X):(c=function(a,b){p(a,
b,Xa)},(m=nl(a,m,d,y,t))?c(m):ll(a,e,l,s,c))}function pl(a,b,c,d){if(!w.sa(b.nodeName,a.nodeName))return!1;b.parentNode&&M.Id(b,[c,d]);c.node!==a||c.atEnd||(c.node=b);d.node!==a||d.atEnd||(d.node=b);E.Ea(a,b);return!0}
function ql(a,b,c){var d=Ih(a);M.Lg(d);var e=Ie.qb(d.startContainer,d.startOffset),g=Ie.qb(d.endContainer,d.endOffset);!1!==c&&rl(d,N.eb,N.eb);c=Ie.qb(d.startContainer,d.startOffset);var l=Ie.qb(d.endContainer,d.endOffset);(b=b(d,c,l))&&b.Le();Ie.Ve(d,c,l);M.jd(e.node,d);M.jd(g.node,d);b&&b.Me(d);d=H.tb(d);H.Jc(a,d[0],d[1]);return d}function sl(a,b,c,d){if(!E.t(a)||!d(a))return null;a=E.v(a.firstChild,c);return!a||E.v(a.nextSibling,c)?null:b(a)?a:sl(a,b,c,d)}
function tl(a,b,c,d){var e=N.eb,g=N.ab;return b(a)?a:(g=sl(a,b,function(a){return!b(a)&&e(a)},g))&&pl(a,g,c,d)?g:null}function ul(a,b,c,d,e,g,l,m){var n=a.previousSibling;n&&d(n)&&d(a)?(E.i(a,n,!0),e(a)):c(a)?g(a):(n=b(a.ownerDocument),pl(a,n,l,m)?e(a):E.Qa(a.firstChild,function(a){ul(a,b,c,d,e,g,l,m)}))}
function vl(a,b,c,d){function e(a){aa(a)&&(Aa(a),Bb(a)&&(a.previousSibling&&me.push(a.previousSibling),a.nextSibling&&me.push(a.nextSibling),M.Id(a,[b,c])))}function g(a,b){var c=Xa(a,b),d=":"+a;(ke[d]=ke[d]||[]).push(c);Oi.push([c,a]);return c}function l(a){a=a.cloneNode(!1);Aa(a);return Bb(a)}function m(a,b){return Ca(b)?q.contains(ke[":"+a]||[],b)?!0:aa(b)&&!X(b,a)?!1:l(b):!1}function n(a,d){ul(a,h.c(g,d),Ca,h.c(m,d),e,h.c(ba,d),b,c)}function p(a){e(a)}function s(a){E.Bb(a,p)}function t(a,d,l){function n(a){return X(a,
d)}var p=l?a.nextSibling:a.previousSibling;if(p&&(p=tl(p,n,b,c))){var s=h.c(m,d),t=h.c(g,d),y=h.c(ba,d);ul(l?p:a,t,Ca,s,e,y,b,c)}}var y=d.mc,z=d.oc,aa=d.re,X=d.qe,ba=d.de,Aa=d.Re,Xa=d.createWrapper,Ca=d.isReusable,Bb=d.isPrunable,ke={},Oi=[],me=[];return{mc:y,isReusable:Ca,Df:function(a){y(a)||e(a)},eg:l,ug:function(a,b){null==b||aa(a)||z(b)||n(a,b)},Hg:function(b,c){z(c)||(E.Qa(b.firstChild,s),n(b,a))},oc:z,Le:function(){Oi.forEach(function(a){var b=a[0];a=a[1];t(b,a,!0);t(b,a,!1)})},Me:function(a){me.forEach(function(b){M.jd(b,
a)})},nc:d.nc,isObstruction:d.isObstruction,kc:d.kc,jc:d.jc,sc:d.sc}}function wl(a){return"BODY"===a.nodeName||N.Jb(a)||E.e(a)}function xl(a,b){return a===b}var yl={Rg:{name:"U",xc:["U"],style:"text-decoration",value:"underline",sd:"none",normalize:{}},bold:{name:"B",xc:["B","STRONG"],style:"font-weight",value:"bold",sd:"normal",normalize:{700:"bold",400:"normal"}},ze:{name:"I",xc:["I","EM"],style:"font-style",value:"italic",sd:"normal",normalize:{}}};yl.emphasis=u.g(yl.ze,{name:"EM"});
yl.strong=u.g(yl.bold,{name:"STRONG"});yl.bold=yl.bold;yl.italic=yl.ze;yl.underline=yl.Rg;function zl(a,b){return E.t(a)?E.K(a,b):null}
function Al(a,b,c,d,e){function g(a){t&&t.normalize[a]&&(a=t.normalize[a]);return a}function l(a){return n(g(a),b)}function m(a){return q.contains(p,a.nodeName)?!0:"SPAN"===a.nodeName}var n=e.isStyleEqual||xl,p=[],s=!1,t=yl[a];t&&(p=t.xc,a=t.style,b=(s=!b)?t.sd:t.value);e=u.g({kc:function(b){if(q.contains(p,b.nodeName))return t.value;b=zl(b,a);return C.La(b)?null:b},jc:function(b){if(q.contains(p,b.nodeName))return t.value;b=E.getComputedStyle(b,a);return C.La(b)?null:b},mc:function(b){return!s&&
q.contains(p,b.nodeName)?!0:l(zl(b,a))},nc:function(b){return!s&&q.contains(p,b.nodeName)||s&&"BODY"===b.nodeName?!0:s&&N.gd(a)?l(zl(b,a)):l(E.getComputedStyle(b,a))},oc:function(a){return l(a)},re:function(b){return q.contains(p,b.nodeName)?!0:!C.La(zl(b,a))},qe:function(b,c){c=g(c);return q.contains(p,b.nodeName)&&n(t.value,c)?!0:n(zl(b,a),c)},de:function(b,c){b=g(b);q.contains(p,c.nodeName)&&n(t.value,b)||n(g(E.getComputedStyle(c,a)),b)||E.h(c,a,b)},Re:function(b){E.Te(b,a)},isPrunable:function(a){return m(a)&&
!E.lc(a)},isStyleEqual:n,createWrapper:function(b,c){b=g(b);if(t&&n(t.value,b))return c.createElement(t.name);var d=c.createElement("SPAN");E.h(d,a,b);return d},isReusable:m,isObstruction:h.ha(N.ab),sc:wl},e);return vl(b,c,d,e)}
function Bl(a,b,c,d,e){function g(b){return a===b.nodeName||null}function l(c){return b?!1:a===c.nodeName}function m(b){return b.nodeName===a&&!E.lc(b)}function n(b){return b.nodeName===a}a=a.toUpperCase();e=u.g({kc:g,jc:g,mc:l,nc:function(a){return b&&"BODY"===a.nodeName?!0:l(a)},oc:function(a){return b?!1:null!=a},re:n,qe:n,de:h.V,Re:h.V,createWrapper:function(b,c){return c.createElement(a)},isReusable:m,isPrunable:function(a){return m(a)},isObstruction:h.ha(N.ab),sc:wl},e);return vl(a,c,d,e)}
function Cl(a,b,c,d,e){var g=H.N(a,b);return g.collapsed?[a,b]:ql(g,function(a,b,g){b=Al(c,d,b,g,e||{});ol(a,b);return b})}function Dl(a,b,c,d){a:{for(var e in yl)if(-1!==yl[e].xc.indexOf(a)){a=e;break a}a=!1}c=!1===a?[b,c]:Cl(b,c,a,d);if(H.j(c[0],c[1]))return c;b=H.Z(c[0]);d=H.pa(c[1]);b=b?H.normalize(H.Ib(b)):c[0];c=d?H.normalize(H.Ka(d)):c[1];return[b,c]}
function El(a,b,c){var d=void 0;c=c||h.C;d=d||h.C;a.J(function(a){var b=a.w();return b?d(b):!c(a.parent())});b.v(function(a){return a.atEnd?!c(a.parent()):d(a.node)})}function Fl(a,b){var c=null,d=void 0,c=c||h.C,d=d||h.C;a.v(function(a){return!a.j(b)&&(a.atEnd?!c(a.parent()):d(a.node))});b.J(function(b){var g=b.w();return!a.j(b)&&(g?d(g):!c(b.parent()))})}function Gl(a,b,c){var d=a.j(b);Fl(a,b);El(a,b,c);d&&b.hb(a)}
function Hl(a,b,c,d,e,g,l,m){var n=Ie.qb(b,c);if(m&&E.b(b)&&0<c&&c<b.length&&n.next()){if(!l(n))return;n.l()}b=Ie.qb(d,e);for(c=!1;!n.j(b)&&l(n)&&(m?n.l():n.next());)c=!0;c&&g(a,n)}function Il(a,b,c){b=b||h.C;c=c||h.C;if(!a.collapsed){var d=a.startContainer,e=a.startOffset,g=a.endContainer,l=a.endOffset;Hl(a,d,e,g,l,Ie.Md,b,!1);d=a.startContainer;e=a.startOffset;Hl(a,g,l,d,e,Ie.Ld,c,!0)}}
function rl(a,b,c){b=b||h.C;c=c||h.C;Il(a,function(a){return a.atEnd||b(a.node)},function(a){return!a.w()||c(a.w())});return a}function Jl(a,b,c,d,e,g){function l(a,b){return b||g.until(a)}function m(a,b){if(!b){var l=a.parentNode;n&&l.previousSibling===n||(n=g.clone(l),e.push(l),E.i(n,l,!1),c.node!==l||c.atEnd||(c.node=n),d.node===l&&(d.node=n));E.i(a,n,!0)}}var n=null;a=E.Ta(a,g.below);var p=a.pop();p&&g.below(p)&&il(a,b,l,m,h.V,h.V);return p}
function Kl(a){if(!J.Kg(a)&&J.Ze(a)&&"BR"===a.node.nodeName){a.Od();var b=a.clone();J.Ze(b)&&b.atEnd&&a.hb(b)}}
function Ll(a,b,c,d){var e=d.normalizeRange?b:b.clone(),g=d.normalizeRange?c:c.clone();Kl(e);Kl(g);Ie.Ve(a,e,g);var e=[],g=E.oa(a.startContainer,a.startOffset),l=E.oa(a.endContainer,a.endOffset),m=H.k(H.O(a.startContainer,a.startOffset));a=H.k(H.O(a.endContainer,a.endOffset));var n=Jl(g,m,b,c,e,d),p=Jl(l,a,b,c,e,d);e.forEach(function(a){!a.firstChild&&a.parentNode&&M.Id(a,[b,c])});d.normalizeRange&&Gl(b,c,function(a){return a===n||a===p})}
function Ml(a,b){b=b||{};b=u.g({clone:E.W,until:h.C,below:E.e,normalizeRange:!0},b);return ql(a,function(a,d,e){Ll(a,d,e,b);return null})}function Nl(a,b){return E.r(a,function(a){return!b(a)&&!(a.parentNode&&E.e(a.parentNode))})}
function Ol(a,b){var c=null;b.forEach(function(b){if(!N.L(b)||c){if(w.sa(a,b.nodeName))return c||(c=b.ownerDocument.createElement(a),E.i(c,b)),E.move([b],c);c=null;if(!N.M(b)){var e=E.children(b),g=e.map(function(a){return a.nodeName}),g=g.length===g.filter(h.c(w.sa,a)).length,l=w.sa(b.parentNode.nodeName,a);if(g&&l&&!N.ka(b)&&!N.Ma(b))return E.yb(b,b.ownerDocument.createElement(a));b=q.Tb(e,N.s);-1<b&&Ol(a,e.slice(b))}}})}
function Pl(a,b,c){var d,e={nodeName:c};if("a"===c.toLowerCase())d=Ag.create("",a,b);else if(N.Mb(e))d=Dl(c,a,b,!0);else if(N.Ca(e))d=gl.toggle(c,a,b);else if(N.Ba(e)){a:{d=N.d;if(N.bb(a,b)){e=H.nextNode(b);E.e(e)&&(e=H.o(a));if(E.e(e)){b=[a,b];break a}a=b=d(e)?e:Nl(e,d)}else a=Nl(H.nextNode(a),d),b=Nl(H.o(b),d);b=[H.$(a),H.ic(b)]}b=N.Mc(b[0],b[1],h.c(Ol,c));c=H.Ib(H.nextNode(b[0]));b=H.Ka(H.o(b[1]));d=[N.Za(c),N.Ya(b)]}return d}function Ql(a,b,c){return Dl(c,a,b,!1)}
var W={format:Pl,Sd:Ql,toggle:function(a,b,c){if(N.Mb({nodeName:c})){var d=P.wc[c];if(d){var e=H.nextNode(N.Za(a)),g=H.o(N.Ya(b)),e=P.Aa(e).concat(P.Aa(g));a=(-1<P.indexOf(e,d)?Ql:Pl)(a,b,c)}else a=[a,b]}else a=[a,b];return a},style:Cl,className:function(){throw"Not implemented";},Af:function(){throw"Not implemented";},Mf:function(){throw"Not implemented";},za:function(){throw"Not implemented";},je:function(a,b){a=("BR"===b?N.cd:N.bd)(a,b);return[a,a]},i:function(a,b,c){a=H.N(a,b);Ml(a,{below:function(a){return w.sa(a.nodeName,
c.nodeName)}});b=M.ja(c,H.ua(a));H.Jc(a,b,H.create(H.a(b),H.offset(b)+1));return H.ua(a)},Ea:function(a,b,c,d,e){e=e||{};var g=H.N(b,c);return g.collapsed?[b,c]:ql(g,function(b,c,g){c=Bl(a,d,c,g,e);ol(b,c);return c})},split:Ml,remove:function(a,b){var c=H.N(a,b);return ql(c,function(a,b,c){function l(b){M.Bg(b,a)}kl(a,h.V,h.V,l,l,h.V,h.V,l,null);return{Me:h.V,Le:function(){var l=N.Ed(H.ua(a),H.$a(a))[0],l=Ie.Jf(H.a(l),H.offset(l));b.hb(l);c.hb(l)}}},!1)},Ph:rl};function Rl(a,b,c){c=Q.Sc(c);b=W.remove(b,c)[0];return M.te(a,b,!0)}
var Sl={"```":function(a,b){if(!Xg.ya(a,"```"))return b;var c=W.remove(a,b)[1],d=Xg.ya(c,"```");if(!d)return c;var e=Xg.search(d,/[^`]|$/);if(!e)return c;d=W.remove(d,e)[0];return W.Ea("code",d,c)[1]},"(:":h.c(Rl,"\u263a"),":)":h.c(Rl,"\u263a"),":(":h.c(Rl,"\u2639"),"):":h.c(Rl,"\u2639"),"<3":h.c(Rl,"\u2665"),"--":h.c(Rl,"\u2014"),"--\x3e":h.c(Rl,"\u2192"),"<--":h.c(Rl,"\u2190"),"==>":h.c(Rl,"\u21d2"),"<==":h.c(Rl,"\u21d0"),"|>":h.c(Rl,"\u25ba"),"<|":h.c(Rl,"\u25c4")},Tl={};
u.forEach(Sl,function(a,b){var c=Tl,d=b.split("").reverse(),e=d.length-1;d.forEach(function(b,d){d===e?c[b]=a:c=c[b]?c[b]:c[b]={}})});function Ul(a){var b;if(H.da(a))return b=H.a(a),b.data.substr(H.offset(a),1);b=H.nextNode(a);return E.b(b)?b.data.substr(0,1):""}
var Vl={n:function(a){if("keydown"!==a.type||Ve.Fa.tab!==a.keycode&&Ve.Fa.space!==a.keycode&&Ve.Fa.enter!==a.keycode)return a;for(var b=a.selection.boundaries[0],c=Q.l(b,"visual"),d=c&&Ul(c),e=Tl,g,l;d&&e[d];)e=e[d],"function"===typeof e&&(g=e,l=c),d=(c=Q.l(c,"visual"))&&Ul(c);g&&(b=g(l,b),a.selection.boundaries=[b,b]);return a}};var Wl={dropEffect:"none",element:null,target:null,data:["text/plain",""]};function Xl(a,b,c){var d=T.se(c);a=H.aa(E.scrollLeft(c)+a,E.scrollTop(c)+b,c);T.Sg(d);return[a,a]}
var Yl={dragstart:function(a){a.nativeEvent.dataTransfer.setData(a.dnd.data[0],a.dnd.data[1]);a.dnd.element=a.nativeEvent.target;a.dnd.target=a.nativeEvent.target},dragover:function(a){var b=a.nativeEvent;a.selection.boundaries=Xl(b.clientX+-10,b.clientY+-10,b.target.ownerDocument);B.preventDefault(b)},drop:function(a){var b=a.nativeEvent;a.selection.boundaries=Xl(b.clientX+-10+8,b.clientY+-10,b.target.ownerDocument);if(a.selection.boundaries){var c=a.selection,d=a.dnd.element,e=d.previousSibling;
a=W.i(a.selection.boundaries[0],a.selection.boundaries[1],d);e&&e.nextSibling&&E.g(e,e.nextSibling);c.boundaries=[a,a]}B.stopPropagation(b);B.preventDefault(b)}},Zl={n:function(a){if(a.dnd&&Yl[a.type])Yl[a.type](a);return a},xa:function(a){return u.g({},Wl,a)},ve:function(a){if(!E.t(a))return!1;var b=a.getAttribute("draggable");return"false"===b?!1:"true"===b||"IMG"===a.nodeName?!0:"A"===a.nodeName&&a.getAttribute("href")}};var $l=fa,am=[[$l.Ga+"transition",$l.Ga+"transform 0.2s ease-out"],[$l.Ga+"transform","scale(0.9)"],["opacity","0.5"]];function bm(a){return"IMG"===a.nativeEvent.target.nodeName||E.hasClass(a.nativeEvent.target,"aloha-block")}
var cm={mousedown:function(a){var b=a.nativeEvent.target;bm(a)&&Zl.ve(b)&&(b=B.va(a,"ctrl")?Zl.xa({dropEffect:"copy",element:b.cloneNode(!0),target:b,data:["text/html",b.outerHTML]}):Zl.xa({dropEffect:"move",element:b,target:b,data:["text/html",b.outerHTML]}),a.dnd=b)},dragstart:function(a){a.dnd&&bm(a)&&am.forEach(function(b){a.dnd.target&&E.h(a.dnd.target,b[0],b[1]);E.h(a.dnd.element,b[0],b[1])})},dragend:function(a){a.dnd&&bm(a)&&am.forEach(function(b){a.dnd.target&&E.h(a.dnd.target,b[0],"");E.h(a.dnd.element,
b[0],"")})},dragover:function(){}},dm={n:function(a){if(cm[a.type])cm[a.type](a);return a},ag:function(a){a=q.X(a.querySelectorAll(".aloha-block, img"));a.forEach(function(a){a.setAttribute("draggable","true");a.setAttribute("contentEditable","false");E.h(a,"cursor",$l.Ga+"grab")});return a}};function em(a,b,c){var d=H.document(a);a=W.remove(a,b);c=N.parse(c,d);if(0===c.length)return a;d=d.createElement("div");E.qa(d,"contentEditable",!0);E.move(c,d);d=c[0];E.b(d)||N.M(d)||N.ka(d)||(c=E.children(d).concat(c.slice(1)));if(0===c.length)return a;d=E.Gb(H.a(a[0]));a=V.Wd(d,{start:a[0],end:a[1]});var e=V.go(a.wb,a.Nb.start);c.forEach(function(a){e=V.split(e,function(b){return w.sa(V.Sa(b).name(),a.nodeName)});e=V.i(e,Qd(a))});a=V.update(e);return[a.start,a.end]}
function fm(a,b,c){return q.contains(a.clipboardData.types,"text/html")?(a=a.clipboardData.getData("text/html"),oi.gg(a,b)?pi.$c(pi.Ee(a,b),b,c):pi.$c(a,b,c)):q.contains(a.clipboardData.types,"text/plain")?pi.Ke(a.clipboardData.getData("text/plain"),b):""}
var gm={n:function(a){if("paste"!==a.type||"undefined"===typeof a.nativeEvent.clipboardData)return a;B.cf(a.nativeEvent);var b=fm(a.nativeEvent,a.nativeEvent.target.ownerDocument,a.editable.We);if(!b)return a;pj.nb(a.editable.undoContext,{meta:{type:"paste"}},function(){a.selection.boundaries=em(a.selection.boundaries[0],a.selection.boundaries[1],b)});return a}};var hm={Zf:function(a){var b=[],c=H.nextNode(a[0]),d=H.o(a[1]);for(a=a[0];c&&c!==d;)"IMG"===c.nodeName&&b.push(c),a=H.next(a),c=H.a(a);"IMG"===d.nodeName&&b.push(d);return b}};function im(a,b){Object.keys(b).forEach(function(c){E.qa(a,c,b[c])})}function jm(a,b){var c=a.commonAncestorContainer.ownerDocument,d=c.createElement("img");im(d,b);var e=c.createElement("p");e.appendChild(d);d=c.createDocumentFragment();d.appendChild(e);gm.Bh(a,d,{},c)}
function km(a,b){var c=H.tb(a);hm.Zf(c).forEach(function(a){im(a,b)})}var lm={i:function(a,b){var c=H.get(b);c&&jm(H.N(c[0],c[1]),a)},Ah:jm,Nh:km,Gg:function(a,b){var c=H.get(b);c&&km(H.N(c[0],c[1]),a)}};function mm(a,b,c){var d=H.N(b.selection.boundaries[0],b.selection.boundaries[1]);pj.nb(b.editable.undoContext,{meta:{type:a},oldRange:d},function(){d=c();return{newRange:d}})}function nm(a){function b(b){a=M.removeNode(b,a)}function c(a){return N.s(a)||E.e(a)}for(var d=0;d<a.length;d++)E.Ja(H.a(a[d]),b,c);return a}
function om(a,b){var c=b.selection,d=c.boundaries[0],e=c.boundaries[1];H.j(d,e)&&(a?e=Q.next(e):d=Q.l(d));d=W.remove(d,Q.Sc(e));c.formatting=P.Oa(c.formatting,P.Aa(H.a(d[0])));d=nm(d);N.Rb(H.ga(d[0],d[1]));return d}function pm(a,b){var c=b.selection,d=c.boundaries;if(!N.bb(d[0],d[1]))return W.toggle(d[0],d[1],a);var e=P.wc[a];if(!e)return d;d=P.Oa(c.formatting,P.Aa(H.a(d[0])),c.overrides);c.overrides=P.toggle(d,e,!0);return c.boundaries}
function qm(a,b){a||(b.selection.formatting=P.Oa(b.selection.formatting,P.Aa(H.a(b.selection.boundaries[0]))));var c=-1<b.meta.indexOf("shift")?"BR":b.editable.We.defaultBlock;return W.je(b.selection.boundaries[1],c)}function rm(a){var b=H.a(a).data;a=H.offset(a);return C.Pc.test(b.substr(a-1,1))}function sm(a){var b=H.a(a).data;a=H.offset(a);return C.Pc.test(b.substr(a,1))}
function tm(a){if(H.da(a))return rm(a)||sm(a)?"\u00a0":" ";a=H.a(a);var b=E.Db(a,function(a){return E.b(a)||E.e(a)||N.d(a)});if(E.t(b)||rm(H.Ka(b)))return"\u00a0";b=E.Hb(a,function(a){return E.b(a)||E.e(a)||N.d(a)});return E.t(b)||sm(H.Ib(b))?"\u00a0":" "}function um(a){var b,c;H.da(a)?(b=H.a(a),c=H.offset(a)):(b=H.pa(a))&&E.b(b)&&(c=b.data.length);b&&(a=b.data)&&C.Xb.test(a.substr(c-1,1))&&(b.data=a.substr(0,c-1)+" "+a.substr(c))}
function vm(a){var b=a.editable,c=a.selection,d=String.fromCharCode(a.keycode),e=c.boundaries[0];"\t"===d?d="\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0":" "===d?(a=E.getComputedStyle(E.r(H.a(e),E.b),"white-space"),N.tc(a)||(d=tm(e))):um(e);e=P.me(e,P.Oa(c.formatting,c.overrides));c.overrides=[];c.formatting=[];var g=H.N(e,e),c=pj.rg(b.elem,e),l=pj.mg(c,[b.elem.ownerDocument.createTextNode(d)]);pj.nb(b.undoContext,{noObserve:!0},function(){M.te(d,e,!0,[g]);return{changes:[l]}});return H.tb(g)}
function wm(a,b){var c=H.N(b.selection.boundaries[0],b.selection.boundaries[1]);a(b.editable.undoContext,c,[c]);return H.tb(c)}
var xm={clearOverrides:!0,preventDefault:!0,undo:"delete",mutate:h.c(om,!1)},ym={clearOverrides:!0,preventDefault:!0,undo:"delete",mutate:h.c(om,!0)},zm={Gd:!0,preventDefault:!0,undo:"enter",mutate:h.c(qm,!1)},Am={Gd:!0,preventDefault:!0,undo:"enter",mutate:h.c(qm,!0)},Bm={preventDefault:!0,undo:"bold",mutate:h.c(pm,"B")},Cm={preventDefault:!0,undo:"italic",mutate:h.c(pm,"I")},Dm={preventDefault:!0,undo:"underline",mutate:h.c(pm,"U")},Em={Gd:!0,preventDefault:!0,undo:"typing",mutate:vm},Fm={clearOverrides:!0,
preventDefault:!0,mutate:h.c(wm,pj.undo)},Gm={preventDefault:!0,clearOverrides:!0,mutate:h.c(wm,pj.Qe)},Hm={breakBlock:zm,breakLine:Am,deleteBackward:xm,deleteForward:ym,formatBold:Bm,formatItalic:Cm,inputText:Em,redo:Gm,undo:Fm},Y={keydown:{},keypress:{},keyup:{}};Y.keydown.up=Y.keydown.down=Y.keydown.left=Y.keydown.right={clearOverrides:!0};Y.keydown["delete"]=ym;Y.keydown.backspace=xm;Y.keydown.enter=zm;Y.keydown["shift+enter"]=Am;Y.keydown["ctrl+b"]=Y.keydown["meta+b"]=Bm;
Y.keydown["ctrl+i"]=Y.keydown["meta+i"]=Cm;Y.keydown["ctrl+u"]=Y.keydown["meta+u"]=Dm;Y.keydown["ctrl+a"]=Y.keydown["meta+a"]={preventDefault:!0,clearOverrides:!0,mutate:function(a){var b=E.Gb(H.ga(a.selection.boundaries[0],a.selection.boundaries[1]));return b?[H.create(b,0),H.Ka(b)]:a.selection.boundaries}};Y.keydown["ctrl+z"]=Y.keydown["meta+z"]=Fm;Y.keydown["ctrl+shift+z"]=Y.keydown["meta+shift+z"]=Gm;
Y.keydown.tab={preventDefault:!0,undo:"indent",mutate:function(a){var b=a.selection.boundaries,c=b[0],b=b[1];if(gl.fg(c,b))return gl.$f(c,b);H.j(c,b)||(a.selection.boundaries=om(!1,a));return vm(a)}};Y.keypress.input=Em;Y.keydown["ctrl+0"]={mutate:function(a){a.editable&&Xd.toggle(a.editable.elem);return a.selection.boundaries}};Y.keydown["ctrl+1"]={mutate:function(a){a.editable&&Xd.toggle(a.editable.elem,{outline:!0,tagname:!0});return a.selection.boundaries}};
Y.keydown["ctrl+2"]={mutate:function(a){a.editable&&Xd.toggle(a.editable.elem,{outline:!0,tagname:!0,padding:!0});return a.selection.boundaries}};function Im(a){return Ve.Nd(a.meta,a.keycode,Y[a.type]||[])||"keypress"===a.type&&"alt"!==a.meta&&"ctrl"!==a.meta&&!C.ue(String.fromCharCode(a.keycode))&&Y.keypress.input}
var Jm={n:function(a){var b=a.selection,c=b.boundaries[0],d=b.boundaries[1],e=Im(a);if(!e)return a;e.preventDefault&&B.preventDefault(a.nativeEvent);e.clearOverrides&&(b.overrides=[],b.formatting=[]);e.mutate&&(e.undo?mm(e.undo,a,function(){e.Gd&&!H.j(c,d)&&(b.boundaries=om(!1,a));b.boundaries=e.mutate(a);N.Rb(H.ga(b.boundaries[0],b.boundaries[1]))}):b.boundaries=e.mutate(a));return a},wf:Hm};function Km(a,b){if(b.state)return b.state(a,b);if(!(b.node||b.style||b.classes)||b.node&&a.nodeName!==b.node.toUpperCase())return!1;var c;return b.style&&(c=1,u.forEach(b.style,function(b,e){c&=b===E.K(a,e)}),!c)||b.classes&&(c=1,u.forEach(b.classes,function(b,e){c&=E.hasClass(a,e)}),!c)?!1:!0}
function Lm(a,b,c){var d=c.style,e=c.node.toUpperCase();a=W.format(a[0],a[1],e);if(!d)return a;E.yc(H.a(a[0]),H.a(a[1])).forEach(function(a){e===a.nodeName&&u.forEach(d,function(b,c){E.h(a,c,b)})});return a}function Mm(a,b,c){c=c.node.toUpperCase();if(!H.j(a[0],a[1]))return W.format(a[0],a[1],c);c=P.wc[c];if(!c)return a;var d=P.Oa(b.formatting,P.Aa(H.a(a[0])),b.overrides);b.overrides=P.toggle(d,c,!0);return a}
function Nm(a,b,c,d){b=a.action?a.action(b,c.selection,a,d)||b:(N.Ba({nodeName:a.node.toUpperCase()})?Lm:Mm)(b,c.selection,a);c.selection=T.select(c.selection,b[0],b[1]);(a=vj.D(c,b[0]))&&h.Rc.apply(c.stack,c.stack)({Bd:!1,type:"nodechange",nativeEvent:d,editable:a,selection:c.selection,dnd:c.dnd})}
function Om(a,b){var c=0===a.length?h.Hc:h.c(q.contains,a),d=(a[0]||window.aloha).editor;return function(a){var g=d.selection;g&&g.boundaries&&(g=H.get(H.document(g.boundaries[0])))&&c(vj.D(d,g[0]))&&b(g,d,a)}};var Pm={},Z=Pm,Qm=fa,Rm={wh:function(a,b,c){return function e(g){var l=a();l&&!q.fc(b,l,H.j)?(b=l,c(l,g)):(l=g.type,Yg.Ih&&"mouseup"===l&&B.Ie(h.c(e,g)))}},xf:function(a,b,c){B.add(a,"selectionchange",b,!0);B.add(a,"keyup",b,!0);B.add(a,"mouseup",b,!0);B.add(a,"touchend",b,!0);B.add(a,"keypress",b,!0);Yg.Ud||Yg.De||!c||B.add(a,"mousemove",b,!0)},zg:function(a,b,c){B.remove(a,"selectionchange",b,!0);B.remove(a,"keyup",b,!0);B.remove(a,"mouseup",b,!0);B.remove(a,"touchend",b,!0);B.remove(a,"keypress",
b,!0);Yg.Ud||Yg.De||!c||B.remove(a,"mousemove",b,!0)}},Sm={bind:Om,Og:function(a,b){var c={},d=b.selection,e=H.a(d.boundaries["start"===d.focus?0:1]),g=P.map(P.Oa(d.formatting,P.Aa(e),d.overrides)),l=E.Ia(e,E.e).filter(E.t);u.forEach(a,function(a,b){if(a.Je&&a.Je in g)c[b]=!!g[a.Je];else{var d=0;l.forEach(function(b){d|=Km(b,a)});c[b]=!!d}});return c},Ff:function(a,b){vj.is(a)&&(a=[a]);q.is(a)||(b=a,a=[]);return Om(a,h.c(Nm,b))},Gf:{p:{node:"p"},h1:{node:"h1"},h2:{node:"h2"},h3:{node:"h3"},h4:{node:"h4"},
ol:{node:"ol"},ul:{node:"ul"},pre:{node:"pre"},bold:{node:"b",override:"bold"},italic:{node:"i",override:"italic"},underline:{node:"u",override:"underline"},unformat:{state:h.C,action:function(a,b,c){c.nodes.map(function(a){return a.toUpperCase()}).forEach(function(b){a=W.Ea(b,a[0],a[1],!0)});return a},nodes:"b i u em strong sub sup del small code".split(" ")}}},Z={sequences:{}};Z.sequences.is=Hh.is;Z.sequences.hint=Hh.hint;Z.sequences.create=Hh.create;Z.sequences.remove=Hh.remove;
Z.sequences.update=Hh.update;Z.sequences.insertAfter=Hh.vb;Z.sequences.insertBefore=Hh.insertBefore;Z.sequences.VOID_CHARACTER=Hh.rf;Z.Boromir=Qd;Z.Record=zc;Z.arrays={};Z.arrays.is=q.is;Z.arrays.contains=q.contains;Z.arrays.difference=q.sb;Z.arrays.equal=q.fc;Z.arrays.intersect=q.dd;Z.arrays.is=q.is;Z.arrays.last=q.m;Z.arrays.coerce=q.X;Z.arrays.mapcat=q.Ce;Z.arrays.partition=q.xd;Z.arrays.some=q.some;Z.arrays.someIndex=q.Tb;Z.arrays.split=q.split;Z.arrays.unique=q.unique;Z.arrays.refill=q.vg;
Z.autoformat={};Z.autoformat.middleware=Vl.n;Z.blocks={};Z.blocks.middleware=dm.n;Z.boundaries={};Z.boundaries.is=H.is;Z.boundaries.get=H.get;Z.boundaries.select=H.select;Z.boundaries.raw=H.O;Z.boundaries.create=H.create;Z.boundaries.normalize=H.normalize;Z.boundaries.equals=H.j;Z.boundaries.container=H.a;Z.boundaries.offset=H.offset;Z.boundaries.document=H.document;Z.boundaries.fromRange=H.tb;Z.boundaries.fromRanges=H.ub;Z.boundaries.fromRangeStart=H.ua;Z.boundaries.fromRangeEnd=H.$a;
Z.boundaries.fromFrontOfNode=H.$;Z.boundaries.fromBehindOfNode=H.ic;Z.boundaries.fromStartOfNode=H.Ib;Z.boundaries.fromEndOfNode=H.Ka;Z.boundaries.fromPosition=H.aa;Z.boundaries.setRange=H.Jc;Z.boundaries.setRanges=H.zb;Z.boundaries.setRangeStart=H.Md;Z.boundaries.setRangeEnd=H.Ld;Z.boundaries.isAtStart=H.H;Z.boundaries.isAtEnd=H.k;Z.boundaries.isTextBoundary=H.da;Z.boundaries.isNodeBoundary=H.Y;Z.boundaries.next=H.next;Z.boundaries.prev=H.l;Z.boundaries.jumpOver=H.uc;Z.boundaries.nextWhile=H.v;
Z.boundaries.prevWhile=H.J;Z.boundaries.stepWhile=H.Rd;Z.boundaries.walkWhile=H.Ug;Z.boundaries.nextNode=H.nextNode;Z.boundaries.prevNode=H.o;Z.boundaries.nodeAfter=H.Z;Z.boundaries.nodeBefore=H.pa;Z.boundaries.commonContainer=H.ga;Z.boundaries.range=H.N;Z.markers={};Z.markers.hint=Fg.hint;Z.markers.insert=Fg.i;Z.markers.extract=Fg.gc;Z.browsers={};Z.browsers.chrome=Qm.chrome;Z.browsers.webkit=Qm.Ud;Z.browsers.safari=Qm.Eg;Z.browsers.vendor=Qm.vendor;Z.browsers.version=Qm.version;
Z.browsers.VENDOR_PREFIX=Qm.Ga;Z.colors={};Z.colors.hex=za.Xf;Z.colors.rgb=za.Dg;Z.colors.cross=za.Lf;Z.colors.equals=za.j;Z.colors.serialize=za.Jd;Z.content={};Z.content.allowsNesting=w.sa;Z.content.allowedStyles=w.mb;Z.content.allowedAttributes=w.lb;Z.content.disallowedNodes=w.Va;Z.content.nodeTranslations=w.Pb;Z.dom={};Z.dom.Nodes=E.Nodes;Z.dom.offset=E.offset;Z.dom.cloneShallow=E.W;Z.dom.clone=E.clone;Z.dom.text=E.text;Z.dom.children=E.children;Z.dom.nthChild=E.fa;Z.dom.numChildren=E.Dc;
Z.dom.nodeIndex=E.u;Z.dom.nodeLength=E.q;Z.dom.hasChildren=E.Yc;Z.dom.nodeAtOffset=E.oa;Z.dom.normalizedNthChild=E.Ac;Z.dom.normalizedNodeIndex=E.zc;Z.dom.realFromNormalizedIndex=E.Gc;Z.dom.normalizedNumChildren=E.Bc;Z.dom.isNode=E.we;Z.dom.isTextNode=E.b;Z.dom.isElementNode=E.t;Z.dom.isFragmentNode=E.pc;Z.dom.isEmptyTextNode=E.Kb;Z.dom.isSameNode=E.isSameNode;Z.dom.equals=E.j;Z.dom.contains=E.contains;Z.dom.followedBy=E.ta;Z.dom.hasText=E.Zc;Z.dom.outerHtml=E.Fc;Z.dom.append=E.append;
Z.dom.merge=E.g;Z.dom.moveNextAll=E.ld;Z.dom.moveBefore=E.Ob;Z.dom.moveAfter=E.fb;Z.dom.move=E.move;Z.dom.copy=E.za;Z.dom.wrap=E.Ea;Z.dom.wrapWith=E.Vd;Z.dom.insert=E.i;Z.dom.insertAfter=E.vb;Z.dom.replace=E.replace;Z.dom.replaceShallow=E.yb;Z.dom.remove=E.remove;Z.dom.removeShallow=E.wa;Z.dom.removeChildren=E.Fd;Z.dom.addClass=E.addClass;Z.dom.removeClass=E.removeClass;Z.dom.toggleClass=E.Qg;Z.dom.hasClass=E.hasClass;Z.dom.hasAttrs=E.lc;Z.dom.attrs=E.attrs;Z.dom.setAttr=E.qa;Z.dom.setAttrNS=E.Kd;
Z.dom.getAttr=E.ba;Z.dom.getAttrNS=E.pe;Z.dom.removeAttr=E.Dd;Z.dom.removeAttrNS=E.xg;Z.dom.removeAttrs=E.yg;Z.dom.removeStyle=E.Te;Z.dom.setStyle=E.h;Z.dom.getStyle=E.K;Z.dom.getComputedStyle=E.getComputedStyle;Z.dom.getComputedStyles=E.Xc;Z.dom.query=E.Sb;Z.dom.nextNonAncestor=E.Pa;Z.dom.nextWhile=E.v;Z.dom.nextUntil=E.qd;Z.dom.nextSibling=E.nextSibling;Z.dom.nextSiblings=E.xb;Z.dom.prevWhile=E.J;Z.dom.prevUntil=E.Ad;Z.dom.prevSibling=E.w;Z.dom.prevSiblings=E.Qb;Z.dom.nodeAndNextSiblings=E.na;
Z.dom.nodeAndPrevSiblings=E.vc;Z.dom.nodesAndSiblingsBetween=E.yc;Z.dom.walk=E.Qa;Z.dom.walkRec=E.Bb;Z.dom.walkUntilNode=E.Wb;Z.dom.forward=E.forward;Z.dom.backward=E.ya;Z.dom.findForward=E.Wc;Z.dom.findBackward=E.Vc;Z.dom.upWhile=E.r;Z.dom.climbUntil=E.Ja;Z.dom.childAndParentsUntil=E.Ia;Z.dom.childAndParentsUntilIncl=E.Ta;Z.dom.childAndParentsUntilNode=E.pb;Z.dom.childAndParentsUntilInclNode=E.ob;Z.dom.parentsUntil=E.vd;Z.dom.parentsUntilIncl=E.wd;Z.dom.serialize=E.Jd;Z.dom.enableSelection=E.Tf;
Z.dom.disableSelection=E.Of;Z.dom.isEditable=E.ed;Z.dom.isEditableNode=E.cb;Z.dom.isEditingHost=E.e;Z.dom.isContentEditable=E.isContentEditable;Z.dom.documentWindow=E.ec;Z.dom.editingHost=E.Gb;Z.dom.editableParent=E.Sf;Z.dom.scrollTop=E.scrollTop;Z.dom.scrollLeft=E.scrollLeft;Z.dom.absoluteTop=E.Ha;Z.dom.absoluteLeft=E.vf;Z.dragdrop={};Z.dragdrop.middleware=Zl.n;Z.dragdrop.Context=Zl.xa;Z.dragdrop.isDraggable=Zl.ve;Z.editables={};Z.editables.is=vj.is;Z.editables.fromElem=vj.Vf;
Z.editables.fromBoundary=vj.D;Z.editables.create=vj.create;Z.editables.destroy=vj.ne;Z.editing={};Z.editing.format=W.format;Z.editing.unformat=W.Sd;Z.editing.style=W.style;Z.editing.remove=W.remove;Z.editing.breakline=W.je;Z.editing.insert=W.i;Z.editing.className=W.className;Z.editing.attribute=W.Af;Z.editing.cut=W.Mf;Z.editing.copy=W.za;Z.editing.wrap=W.Ea;Z.events={};Z.events.is=B.is;Z.events.add=B.add;Z.events.remove=B.remove;Z.events.setup=B.Xe;Z.events.hasKeyModifier=B.va;Z.events.dispatch=B.Pf;
Z.events.nextTick=B.Ie;Z.events.preventDefault=B.preventDefault;Z.events.stopPropagation=B.stopPropagation;Z.events.suppress=B.cf;Z.fn={};Z.fn.identity=h.ad;Z.fn.noop=h.V;Z.fn.returnTrue=h.Hc;Z.fn.returnFalse=h.C;Z.fn.complement=h.ha;Z.fn.partial=h.c;Z.fn.strictEquals=h.bf;Z.fn.comp=h.Rc;Z.fn.and=h.fe;Z.fn.constantly=h.Hf;Z.fn.is=h.is;Z.fn.isNou=h.ca;Z.fn.or=h.pg;Z.fn.and=h.fe;Z.fn.asMethod=h.F;Z.fn.extendType=h.Tc;Z.html={};Z.html.parse=N.parse;Z.html.hasBlockStyle=N.Jb;Z.html.hasInlineStyle=N.ab;
Z.html.hasLinebreakingStyle=N.d;Z.html.prop=N.Rb;Z.html.isVoidType=N.M;Z.html.isRendered=N.s;Z.html.isUnrendered=N.L;Z.html.isBlockNode=N.Ba;Z.html.isInlineNode=N.Na;Z.html.isListContainer=N.Ca;Z.html.isTableContainer=N.hd;Z.html.isGroupContainer=N.ka;Z.html.isGroupedElement=N.Ma;Z.html.isListItem=N.f;Z.html.isHeading=N.Lb;Z.html.isTextLevelSemanticNode=N.Mb;Z.html.isVoidNode=N.Da;Z.images={};Z.images.insert=lm.i;Z.images.setAttributes=lm.Gg;Z.keys={};Z.keys.middleware=Ve.n;Z.keys.parseKeys=Ve.parseKeys;
Z.keys.ARROWS=Ve.Xd;Z.keys.CODES=Ve.Fa;Z.keys.shortcutHandler=Ve.Nd;Z.links={};Z.links.create=Ag.create;Z.links.remove=Ag.remove;Z.links.middleware=Ag.n;Z.lists={};Z.lists.toggle=gl.toggle;Z.lists.format=gl.format;Z.lists.unformat=gl.Sd;Z.maps={};Z.maps.isEmpty=u.La;Z.maps.fillKeys=u.Uc;Z.maps.keys=u.keys;Z.maps.vals=u.jb;Z.maps.selectVals=u.Fg;Z.maps.filter=u.filter;Z.maps.forEach=u.forEach;Z.maps.extend=u.extend;Z.maps.merge=u.g;Z.maps.isMap=u.isMap;Z.maps.clone=u.clone;Z.maps.cloneSet=u.Qc;
Z.maps.cloneDelete=u.le;Z.maps.create=u.create;Z.maps.mapTuples=u.kd;Z.metaview={};Z.metaview.toggle=Xd.toggle;Z.mobile={};Z.mobile.shift=mk.shift;Z.mobile.capture=mk.nb;Z.mobile.context=mk.If;Z.mouse={};Z.mouse.middleware=We.n;Z.mouse.EVENTS=We.Zd;Z.overrides={};Z.overrides.map=P.map;Z.overrides.indexOf=P.indexOf;Z.overrides.unique=P.unique;Z.overrides.toggle=P.toggle;Z.overrides.harvest=P.Aa;Z.overrides.consume=P.me;Z.overrides.nodeToState=P.wc;Z.overrides.stateToNode=P.Ng;
Z.overrides.joinToSet=P.Oa;Z.paste={};Z.paste.middleware=gm.n;Z.paths={};Z.paths.equals=K.j;Z.paths.toBoundary=K.ib;Z.paths.fromBoundary=K.D;Z.carets={};Z.carets.box=R.G;Z.carets.showHint=R.Jg;Z.carets.hideHint=R.Yf;Z.selectionchange={};Z.selectionchange.middleware=Rm.n;Z.selectionchange.addHandler=Rm.xf;Z.selectionchange.removeHandler=Rm.zg;Z.selections={};Z.selections.is=T.is;Z.selections.isSelectionEvent=T.ig;Z.selections.isRange=T.Gh;Z.selections.show=T.show;Z.selections.focus=T.focus;
Z.selections.select=T.select;Z.selections.update=T.update;Z.selections.middleware=T.n;Z.selections.Context=T.xa;Z.selections.selectionEvent=T.Ue;Z.searching={};Z.searching.search=Xg.search;Z.searching.forward=Xg.forward;Z.searching.backward=Xg.ya;Z.strings={};Z.strings.splice=C.splice;Z.strings.addToList=C.ee;Z.strings.removeFromList=C.Se;Z.strings.uniqueList=C.Td;Z.strings.words=C.ff;Z.strings.splitIncl=C.$e;Z.strings.dashesToCamelCase=C.dc;Z.strings.camelCaseToDashes=C.Cf;Z.strings.isEmpty=C.La;
Z.strings.isControlCharacter=C.ue;Z.strings.CONTROL_CHARACTER=C.gf;Z.strings.SPACE=C.of;Z.strings.NOT_SPACE=C.Nc;Z.strings.WHITE_SPACE=C.Pc;Z.strings.WHITE_SPACES=C.ae;Z.strings.ZERO_WIDTH_SPACE=C.uf;Z.strings.NON_BREAKING_SPACE=C.Xb;Z.strings.WORD_BOUNDARY=C.ac;Z.strings.WORD_BOUNDARY_FROM_END=C.be;Z.strings.WORD_BREAKING_CHARACTER=C.sf;Z.strings.TERMINAL_WHITE_SPACES=C.pf;Z.strings.ZERO_WIDTH_CHARACTERS=C.bc;Z.strings.WHITE_SPACE_CHARACTERS=C.$b;Z.strings.WORD_BREAKING_CHARACTERS=C.tf;
Z.strings.NON_BREAKING_SPACE_CHARACTERS=C.Yb;Z.transform={};Z.transform.html=pi.$c;Z.transform.plain=pi.Ke;Z.transform.msword=pi.Ee;Z.traversing={};Z.traversing.next=Q.next;Z.traversing.prev=Q.l;Z.traversing.expand=Q.expand;Z.traversing.isAtStart=Q.H;Z.traversing.isAtEnd=Q.k;Z.traversing.isBoundariesEqual=Q.bb;Z.typing={};Z.typing.middleware=Jm.n;Z.typing.actions=Jm.wf;Z.ui={};Z.ui.bind=Sm.bind;Z.ui.states=Sm.Og;Z.ui.command=Sm.Ff;Z.ui.commands=Sm.Gf;Z.undo={};Z.undo.Context=pj.xa;Z.undo.enter=pj.oe;
Z.undo.close=pj.close;Z.undo.leave=pj.lg;Z.undo.capture=pj.nb;Z.undo.undo=pj.undo;Z.undo.redo=pj.Qe;Z.zippers={};Z.zippers.go=V.go;Z.zippers.dom=V.Wa;Z.zippers.hint=V.hint;Z.zippers.update=V.update;Z.zippers.before=V.Eb;Z.zippers.after=V.Sa;Z.zippers.prev=V.l;Z.zippers.next=V.next;Z.zippers.up=V.Vb;Z.zippers.down=V.Xa;Z.zippers.root=V.root;Z.zippers.peek=V.sg;Z.zippers.split=V.split;Z.zippers.splice=V.splice;Z.zippers.insert=V.i;Z.zippers.replace=V.replace;Z.zippers.remove=V.remove;
Z.zippers.zipper=V.Wd;Z.zippers.isAtStart=V.H;Z.zippers.isAtEnd=V.k;Z.zippers.splitAt=V.Pd;Z.zippers.insertAt=V.bg;Z.zippers.isMarker=V.rc;Z.zippers.createMarker=V.Kf;var Tm={},Um;for(Um in Z)Tm[Um]={},Tm[Um]=Z[Um];Pm=Tm;/*

*/
var Vm=Pm;function $(a,b){if(b=b||T.Ue($,a)){b=h.Rc.apply($.stack,$.stack)(b);var c=T.update(b);c&&($.selection=u.g(c));b.dnd&&($.dnd=u.g(b.dnd))}}$.dnd=null;$.selection=null;$.editables={};$.stack=[T.n,Ag.n,Jm.n,Vl.n,dm.n,Zl.n,gm.n,Ve.n,We.n];function Wm(){var a=[],b;for(b in $.editables)a.push($.editables[b].elem.ownerDocument);return a}function Xm(a,b){var c=a.ownerDocument;q.contains(Wm(),c)||(B.Xe(c,$),B.add(E.ec(c),"resize",$),$.selection=T.xa(c));c=vj.create($,a,b);dm.ag(c.elem);return c}
Vm.aloha=Xm;Vm.mahalo=function(a){$.selection.he.stop();T.se(a.ownerDocument);return vj.ne($,a)};Vm.editor=$;Vm.buildcommit="https://github.com/alohaeditor/Aloha-Editor/commit/150568b01d98c1fced7c9418a317b569b9c7471c";window.aloha=u.extend(Xm,Vm);console.log('%c \u2714%c Invoke Aloha by calling: %caloha(document.querySelector(".editable")) ',"color: #7ad; background: #f8f6f5; padding: 5px 0;","color: #aaa; background: #f8f6f5; padding: 5px 0;","color: #7ad; background: #f8f6f5; padding: 5px 0;");}())
